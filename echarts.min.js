(function(L,re){"object"===typeof exports&&"undefined"!==typeof module?re(exports):"function"===typeof define&&define.amd?define(["exports"],re):re(L.echarts={})})(this,function(L){function re(a){var b={},c=a.match(/Firefox\/([\d.]+)/),d=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),e=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);c&&(b.firefox=!0,b.version=c[1]);d&&(b.ie=!0,b.version=d[1]);e&&(b.edge=!0,b.version=e[1]);a&&(b.weChat=!0);return{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&11<=b.version)}}function G(a){if(null==a||"object"!=typeof a)return a;var b=a,c=Ef.call(a);if("[object Array]"===c)for(var b=[],c=0,d=a.length;c<d;c++)b[c]=G(a[c]);else if(Et[c])if(b=a.constructor,a.constructor.from)b=b.from(a);else for(b=new b(a.length),c=0,d=a.length;c<d;c++)b[c]=G(a[c]);else if(!em[c]&&!a[se]&&!Ad(a))for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=G(a[d]));return b}function K(a,b,c){if(!Q(b)||!Q(a))return c?G(b):a;for(var d in b)if(b.hasOwnProperty(d)){var e=a[d],f=b[d];!Q(f)||!Q(e)||x(f)||x(e)||Ad(f)||Ad(e)||Th(f)||Th(e)||f[se]||e[se]?!c&&d in a||(a[d]=G(b[d],!0)):K(e,f,c)}return a}function te(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=K(c,a[d],b);return c}function I(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function H(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function fm(){Uh||(Uh=Bd().getContext("2d"));return Uh}function R(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function ja(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype;a.prototype=new c;for(var e in d)a.prototype[e]=d[e];a.prototype.constructor=a;a.superClass=b}function M(a,b,c){a="prototype"in a?a.prototype:a;b="prototype"in b?b.prototype:b;H(a,b,c)}function Sc(a){if(a)return"string"==typeof a?!1:"number"==typeof a.length}function r(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Ft)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function z(a,b,c){if(a&&b){if(a.map&&a.map===Gt)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function Cd(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===Ht)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function Fa(a,b,c){if(a&&b){if(a.filter&&a.filter===It)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function A(a,b){var c=ue.call(arguments,2);return function(){return a.apply(b,c.concat(ue.call(arguments)))}}function C(a){var b=ue.call(arguments,1);return function(){return a.apply(this,b.concat(ue.call(arguments)))}}function x(a){return"[object Array]"===Ef.call(a)}function jc(a){return"function"===typeof a}function ya(a){return"[object String]"===Ef.call(a)}function Q(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function Th(a){return!!em[Ef.call(a)]}function Ad(a){return"object"===typeof a&&"number"===typeof a.nodeType&&"object"===typeof a.ownerDocument}function ve(a){return a!==a}function na(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]}function pa(a,b){return null!=a?a:b}function Tc(a,b,c){return null!=a?a:null!=b?b:c}function Vh(){return Function.call.apply(ue,arguments)}function Wh(a){if("number"===typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function ca(a,b){if(!a)throw Error(b);}function gm(a){a[se]=!0}function Xh(a){a&&r(a,function(a,c){this.set(c,a)},this)}function za(a){return new Xh(a)}function Ga(){}function kc(a,b){var c=new hm(2);null==a&&(a=0);null==b&&(b=0);c[0]=a;c[1]=b;return c}function eb(a,b){a[0]=b[0];a[1]=b[1];return a}function tb(a){var b=new hm(2);b[0]=a[0];b[1]=a[1];return b}function im(a,b,c){a[0]=b;a[1]=c;return a}function Yh(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function we(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a}function Vb(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function xe(a){return Math.sqrt(Zh(a))}function Zh(a){return a[0]*a[0]+a[1]*a[1]}function Ff(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function Dd(a,b){var c=xe(b);0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c);return a}function ye(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function jm(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function km(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]);a[1]=b[1]+d*(c[1]-b[1]);return a}function da(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function Wb(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}function Xb(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function Gf(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function Ed(a,b){return{target:a,topTarget:b&&b.topTarget}}function lm(){}function Yb(){var a=new Jt(6);ze(a);return a}function ze(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function $h(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function Uc(a,b,c){var d=b[1]*c[0]+b[3]*c[1],e=b[0]*c[2]+b[2]*c[3],f=b[1]*c[2]+b[3]*c[3],g=b[0]*c[4]+b[2]*c[5]+b[4],h=b[1]*c[4]+b[3]*c[5]+b[5];a[0]=b[0]*c[0]+b[2]*c[1];a[1]=d;a[2]=e;a[3]=f;a[4]=g;a[5]=h;return a}function Nb(a,b,c){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4]+c[0];a[5]=b[5]+c[1];return a}function Vc(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3];b=b[5];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+g*k;a[1]=-d*k+g*c;a[2]=e*c+h*k;a[3]=-e*k+c*h;a[4]=c*f+k*b;a[5]=c*b-k*f;return a}function Hf(a,b,c){var d=c[0];c=c[1];a[0]=b[0]*d;a[1]=b[1]*c;a[2]=b[2]*d;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*c;return a}function If(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],k=c*g-f*d;if(!k)return null;k=1/k;a[0]=g*k;a[1]=-f*k;a[2]=-d*k;a[3]=c*k;a[4]=(d*h-g*e)*k;a[5]=(f*e-c*h)*k;return a}function Wc(a){return 5E-5<a||-5E-5>a}function ai(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}function Cb(a){a=Math.round(a);return 0>a?0:255<a?255:a}function Ae(a){return 0>a?0:1<a?1:a}function bi(a){return a.length&&"%"===a.charAt(a.length-1)?Cb(parseFloat(a)/100*255):Cb(parseInt(a,10))}function Fd(a){return a.length&&"%"===a.charAt(a.length-1)?Ae(parseFloat(a)/100):Ae(parseFloat(a))}function ci(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function lc(a,b,c){return a+(b-a)*c}function Na(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function di(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function Gd(a,b){Jf&&di(Jf,b);Jf=mm.put(a,Jf||b.slice())}function Ya(a,b){if(a){b=b||[];var c=mm.get(a);if(c)return di(b,c);a+="";var d=a.replace(/ /g,"").toLowerCase();if(d in nm)return di(b,nm[d]),Gd(a,b),b;if("#"===d.charAt(0)){if(4===d.length){c=parseInt(d.substr(1),16);if(!(0<=c&&4095>=c)){Na(b,0,0,0,1);return}Na(b,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,1);Gd(a,b);return b}if(7===d.length){c=parseInt(d.substr(1),16);if(0<=c&&16777215>=c)return Na(b,(c&16711680)>>16,(c&65280)>>8,c&255,1),Gd(a,b),b;Na(b,0,0,0,1)}}else{var e=d.indexOf("("),f=d.indexOf(")");if(-1!==e&&f+1===d.length)switch(c=d.substr(0,e),d=d.substr(e+1,f-(e+1)).split(","),e=1,c){case "rgba":if(4!==d.length){Na(b,0,0,0,1);return}e=Fd(d.pop());case "rgb":if(3!==d.length){Na(b,0,0,0,1);return}Na(b,bi(d[0]),bi(d[1]),bi(d[2]),e);Gd(a,b);return b;case "hsla":if(4!==d.length){Na(b,0,0,0,1);return}d[3]=Fd(d[3]);ei(d,b);Gd(a,b);return b;case "hsl":if(3!==d.length){Na(b,0,0,0,1);return}ei(d,b);Gd(a,b);return b;default:return}Na(b,0,0,0,1)}}}function ei(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=Fd(a[1]),e=Fd(a[2]),d=.5>=e?e*(d+1):e+d-e*d,e=2*e-d;b=b||[];Na(b,Cb(255*ci(e,d,c+1/3)),Cb(255*ci(e,d,c)),Cb(255*ci(e,d,c-1/3)),1);4===a.length&&(b[3]=a[3]);return b}function om(a,b){var c=Ya(a);if(c){for(var d=0;3>d;d++)c[d]=0>b?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0;return Zb(c,4===c.length?"rgba":"rgb")}}function pm(a){if(a=Ya(a))return(16777216+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function Be(a,b,c){if(b&&b.length&&0<=a&&1>=a){c=c||[];var d=a*(b.length-1),e=Math.floor(d);a=b[e];b=b[Math.ceil(d)];d-=e;c[0]=Cb(lc(a[0],b[0],d));c[1]=Cb(lc(a[1],b[1],d));c[2]=Cb(lc(a[2],b[2],d));c[3]=Ae(lc(a[3],b[3],d));return c}}function qm(a,b,c){if(b&&b.length&&0<=a&&1>=a){a*=b.length-1;var d=Math.floor(a),e=Math.ceil(a),f=Ya(b[d]);b=Ya(b[e]);var g=a-d,f=Zb([Cb(lc(f[0],b[0],g)),Cb(lc(f[1],b[1],g)),Cb(lc(f[2],b[2],g)),Ae(lc(f[3],b[3],g))],"rgba");return c?{color:f,leftIndex:d,rightIndex:e,value:a}:f}}function Hd(a,b,c,d){if(a=Ya(a)){if(a){var e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),k=Math.max(e,f,g),l=k-h,m=(k+h)/2,p;if(0===l)h=p=0;else{var h=.5>m?l/(k+h):l/(2-k-h),n=((k-e)/6+l/2)/l,q=((k-f)/6+l/2)/l,l=((k-g)/6+l/2)/l;e===k?p=l-q:f===k?p=1/3+n-l:g===k&&(p=2/3+q-n);0>p&&(p+=1);1<p&&--p}e=[360*p,h,m];null!=a[3]&&e.push(a[3]);a=e}else a=void 0;null!=b&&(b=Math.round(b),a[0]=0>b?0:360<b?360:b);null!=c&&(a[1]=Fd(c));null!=d&&(a[2]=Fd(d));return Zb(ei(a),"rgba")}}function Kf(a,b){if((a=Ya(a))&&null!=b)return a[3]=Ae(b),Zb(a,"rgba")}function Zb(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];if("rgba"===b||"hsva"===b||"hsla"===b)c+=","+a[3];return b+"("+c+")"}}function Kt(a,b){return a[b]}function Lt(a,b,c){a[b]=c}function rm(a,b,c,d,e){var f=a.length;if(1==e)for(e=0;e<f;e++){var g=a[e];d[e]=(b[e]-g)*c+g}else for(g=f&&a[0].length,e=0;e<f;e++)for(var h=0;h<g;h++){var k=a[e][h];d[e][h]=(b[e][h]-k)*c+k}}function sm(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(;d<e;d++)a.push(1===c?b[d]:fi.call(b[d]));e=a[0]&&a[0].length;for(d=0;d<a.length;d++)if(1===c)isNaN(a[d])&&(a[d]=b[d]);else for(var f=0;f<e;f++)isNaN(a[d][f])&&(a[d][f]=b[d][f])}function Mt(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c)for(c=0;c<d;c++){if(a[c]!==b[c])return!1}else{var e=a[0].length;for(c=0;c<d;c++)for(var f=0;f<e;f++)if(a[c][f]!==b[c][f])return!1}return!0}function tm(a,b,c,d,e,f,g,h,k){var l=a.length;if(1==k)for(k=0;k<l;k++)h[k]=gi(a[k],b[k],c[k],d[k],e,f,g);else{var m=a[0].length;for(k=0;k<l;k++)for(var p=0;p<m;p++)h[k][p]=gi(a[k][p],b[k][p],c[k][p],d[k][p],e,f,g)}}function gi(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function Nt(a){if(Sc(a)){var b=a.length;if(Sc(a[0])){for(var c=[],d=0;d<b;d++)c.push(fi.call(a[d]));return c}return fi.call(a)}return a}function um(a){a[0]=Math.floor(a[0]);a[1]=Math.floor(a[1]);a[2]=Math.floor(a[2]);return"rgba("+a.join(",")+")"}function Ot(a){a=a[a.length-1].value;return Sc(a&&a[0])?2:1}function Pt(a,b,c,d,e,f){var g=a._getter,h=a._setter,k="spline"===b,l=d.length;if(l){var m=Sc(d[0].value),p=!1,n=!1,q=m?Ot(d):0,t;d.sort(function(a,b){return a.time-b.time});t=d[l-1].time;for(var v=[],u=[],w=d[0].value,r=!0,y=0;y<l;y++){v.push(d[y].time/t);var E=d[y].value;m&&Mt(E,w,q)||!m&&E===w||(r=!1);w=E;if("string"==typeof E){var J=Ya(E);J?(E=J,p=!0):n=!0}u.push(E)}if(f||!r){d=u[l-1];for(y=0;y<l-1;y++)m?sm(u[y],d,q):!isNaN(u[y])||isNaN(d)||n||p||(u[y]=d);m&&sm(g(a._target,e),d,q);var sa=0,Ha=0,z,ka,x,B,A,C;if(p)var D=[0,0,0,0];a=new ai({target:a._target,life:t,loop:a._loop,delay:a._delay,onframe:function(a,b){var c;if(0>b)c=0;else if(b<Ha){for(c=z=Math.min(sa+1,l-1);0<=c&&!(v[c]<=b);c--);c=Math.min(c,l-2)}else{for(c=sa;c<l&&!(v[c]>b);c++);c=Math.min(c-1,l-2)}sa=c;Ha=b;var d=v[c+1]-v[c];if(0!==d)if(ka=(b-v[c])/d,k)if(B=u[c],x=u[0===c?c:c-1],A=u[c>l-2?l-1:c+1],C=u[c>l-3?l-1:c+2],m)tm(x,B,A,C,ka,ka*ka,ka*ka*ka,g(a,e),q);else{if(p)tm(x,B,A,C,ka,ka*ka,ka*ka*ka,D,1),c=um(D);else{if(n)return.5<ka?A:B;c=gi(x,B,A,C,ka,ka*ka,ka*ka*ka)}h(a,e,c)}else if(m)rm(u[c],u[c+1],ka,g(a,e),q);else{if(p)rm(u[c],u[c+1],ka,D,1),c=um(D);else{if(n)return.5<ka?u[c+1]:u[c];d=u[c];c=(u[c+1]-d)*ka+d}h(a,e,c)}},ondestroy:c});b&&"spline"!==b&&(a.easing=b);return a}}}function S(a,b,c,d){0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function vm(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;c=b;d=e;for(d--;c<d;){var f=a[c];a[c++]=a[d];a[d--]=f}}else for(;e<c&&0<=d(a[e],a[e-1]);)e++;return e-b}function wm(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f=a[d],g=b,h=d,k;g<h;)k=g+h>>>1,0>e(f,a[k])?h=k:g=k+1;h=d-g;switch(h){case 3:a[g+3]=a[g+2];case 2:a[g+2]=a[g+1];case 1:a[g+1]=a[g];break;default:for(;0<h;)a[g+h]=a[g+h-1],h--}a[g]=f}}function hi(a,b,c,d,e,f){var g=0,h=1;if(0<f(a,b[c+e])){for(d-=e;h<d&&0<f(a,b[c+e+h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);g+=e;h+=e}else{for(d=e+1;h<d&&0>=f(a,b[c+e-h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}for(g++;g<h;)e=g+(h-g>>>1),0<f(a,b[c+e])?g=e+1:h=e;return h}function ii(a,b,c,d,e,f){var g=0,h=1;if(0>f(a,b[c+e])){for(d=e+1;h<d&&0>f(a,b[c+e-h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}else{for(d-=e;h<d&&0<=f(a,b[c+e+h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);g+=e;h+=e}for(g++;g<h;)e=g+(h-g>>>1),0>f(a,b[c+e])?h=e:g=e+1;return h}function Qt(a,b){function c(c){var k=e[c],m=f[c],p=e[c+1],n=f[c+1];f[c]=m+n;c===g-3&&(e[c+1]=e[c+2],f[c+1]=f[c+2]);g--;c=ii(a[p],a,k,m,0,b);k+=c;m-=c;if(0!==m&&(n=hi(a[k+m-1],a,p,n,n-1,b),0!==n))if(m<=n){for(var q=k,k=m,m=n,n=0;n<k;n++)h[n]=a[q+n];c=0;a[q++]=a[p++];if(0===--m)for(n=0;n<k;n++)a[q+n]=h[c+n];else if(1===k){for(n=0;n<m;n++)a[q+n]=a[p+n];a[q+m]=h[c]}else{for(var t=d,v,u,w;;){u=v=0;w=!1;do if(0>b(a[p],h[c])){if(a[q++]=a[p++],u++,v=0,0===--m){w=!0;break}}else if(a[q++]=h[c++],v++,u=0,1===--k){w=!0;break}while((v|u)<t);if(w)break;do{v=ii(a[p],h,c,k,0,b);if(0!==v){for(n=0;n<v;n++)a[q+n]=h[c+n];q+=v;c+=v;k-=v;if(1>=k){w=!0;break}}a[q++]=a[p++];if(0===--m){w=!0;break}u=hi(h[c],a,p,m,0,b);if(0!==u){for(n=0;n<u;n++)a[q+n]=a[p+n];q+=u;p+=u;m-=u;if(0===m){w=!0;break}}a[q++]=h[c++];if(1===--k){w=!0;break}t--}while(7<=v||7<=u);if(w)break;0>t&&(t=0);t+=2}d=t;1>d&&(d=1);if(1===k){for(n=0;n<m;n++)a[q+n]=a[p+n];a[q+m]=h[c]}else{if(0===k)throw Error();for(n=0;n<k;n++)a[q+n]=h[c+n]}}}else{for(c=0;c<n;c++)h[c]=a[p+c];q=k+m-1;t=n-1;p=p+n-1;a[p--]=a[q--];if(0===--m)for(v=p-(n-1),c=0;c<n;c++)a[v+c]=h[c];else if(1===n){p-=m;u=p+1;v=q-m+1;for(c=m-1;0<=c;c--)a[u+c]=a[v+c];a[p]=h[t]}else{for(w=d;;){var r=0,y=0,E=!1;do if(0>b(h[t],a[q])){if(a[p--]=a[q--],r++,y=0,0===--m){E=!0;break}}else if(a[p--]=h[t--],y++,r=0,1===--n){E=!0;break}while((r|y)<w);if(E)break;do{r=m-ii(h[t],a,k,m,m-1,b);if(0!==r){p-=r;q-=r;m-=r;u=p+1;v=q+1;for(c=r-1;0<=c;c--)a[u+c]=a[v+c];if(0===m){E=!0;break}}a[p--]=h[t--];if(1===--n){E=!0;break}y=n-hi(a[q],h,0,n,n-1,b);if(0!==y){p-=y;t-=y;n-=y;u=p+1;v=t+1;for(c=0;c<y;c++)a[u+c]=h[v+c];if(1>=n){E=!0;break}}a[p--]=a[q--];if(0===--m){E=!0;break}w--}while(7<=r||7<=y);if(E)break;0>w&&(w=0);w+=2}d=w;1>d&&(d=1);if(1===n){p-=m;u=p+1;v=q-m+1;for(c=m-1;0<=c;c--)a[u+c]=a[v+c];a[p]=h[t]}else{if(0===n)throw Error();v=p-(n-1);for(c=0;c<n;c++)a[v+c]=h[c]}}}}var d=7,e,f,g=0,h=[];e=[];f=[];this.mergeRuns=function(){for(;1<g;){var a=g-2;if(1<=a&&f[a-1]<=f[a]+f[a+1]||2<=a&&f[a-2]<=f[a]+f[a-1])f[a-1]<f[a+1]&&a--;else if(f[a]>f[a+1])break;c(a)}};this.forceMergeRuns=function(){for(;1<g;){var a=g-2;0<a&&f[a-1]<f[a+1]&&a--;c(a)}};this.pushRun=function(a,b){e[g]=a;f[g]=b;g+=1}}function Lf(a,b,c,d){c||(c=0);d||(d=a.length);var e=d-c;if(!(2>e)){var f;if(32>e)f=vm(a,c,d,b),wm(a,c,d,c+f,b);else{var g=new Qt(a,b),h;f=e;for(h=0;32<=f;)h|=f&1,f>>=1;h=f+h;do{f=vm(a,c,d,b);if(f<h){var k=e;k>h&&(k=h);wm(a,c,c+k,c+f,b);f=k}g.pushRun(c,f);g.mergeRuns();e-=f;c+=f}while(0!==e);g.forceMergeRuns()}}}function xm(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function Rt(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y);return a.createLinearGradient(d,f,e,g)}function St(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,k=null==b.r?.5:b.r;b.global||(g=g*d+c.x,h=h*e+c.y,k*=f);return a.createRadialGradient(g,h,0,g,h,k)}function Tt(){return!1}function ym(a,b,c){var d=Bd(),e=b.getWidth();b=b.getHeight();var f=d.style;f.position="absolute";f.left=0;f.top=0;f.width=e+"px";f.height=b+"px";d.width=e*c;d.height=b*c;d.setAttribute("data-zr-dom-id",a);return d}function zm(a,b,c,d,e){if(a){if("string"===typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var f=ji.get(a);c={hostEl:c,cb:d,cbPayload:e};f?(b=f.image)&&b.width&&b.height||f.pending.push(c):(!b&&(b=new Image),b.onload=Ut,ji.put(a,b.__cachedImgObj={image:b,pending:[c]}),b.src=b.__zrImageSrc=a);return b}return a}return b}function Ut(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function Vt(a,b){Am[a]=b}function Oa(a,b){b=b||"12px sans-serif";var c=a+":"+b;if(Mf[c])return Mf[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;f<g;f++)e=Math.max(Am.measureText(d[f],b).width,e);5E3<ki&&(ki=0,Mf={});ki++;return Mf[c]=e}function $b(a,b,c,d,e,f,g){f?(e=li(a,{rich:f,truncate:g,font:b,textAlign:c,textPadding:e}),f=e.outerWidth,e=e.outerHeight,c=Ce(0,f,c),d=De(0,e,d),d=new S(c,d,f,e)):(f=Bm(a,b,e,g),a=Oa(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=Ce(0,a,c),d=De(0,e,d),d=new S(c,d,a,e),d.lineHeight=f.lineHeight);return d}function Ce(a,b,c){"right"===c?a-=b:"center"===c&&(a-=b/2);return a}function De(a,b,c){"middle"===c?a-=b/2:"bottom"===c&&(a-=b);return a}function mi(a,b,c){var d=b.x,e=b.y,f=b.height;b=b.width;var g=f/2,h="left",k="top";switch(a){case "left":d-=c;e+=g;h="right";k="middle";break;case "right":d+=c+b;e+=g;k="middle";break;case "top":d+=b/2;e-=c;h="center";k="bottom";break;case "bottom":d+=b/2;e+=f+c;h="center";break;case "inside":d+=b/2;e+=g;h="center";k="middle";break;case "insideLeft":d+=c;e+=g;k="middle";break;case "insideRight":d+=b-c;e+=g;h="right";k="middle";break;case "insideTop":d+=b/2;e+=c;h="center";break;case "insideBottom":d+=b/2;e+=f-c;h="center";k="bottom";break;case "insideTopLeft":d+=c;e+=c;break;case "insideTopRight":d+=b-c;e+=c;h="right";break;case "insideBottomLeft":d+=c;e+=f-c;k="bottom";break;case "insideBottomRight":d+=b-c,e+=f-c,h="right",k="bottom"}return{x:d,y:e,textAlign:h,textVerticalAlign:k}}function Cm(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");e=Dm(b,c,d,e);b=0;for(c=a.length;b<c;b++)a[b]=Em(a[b],e);return a.join("\n")}function Dm(a,b,c,d){d=I({},d);d.font=b;c=pa(c,"...");d.maxIterations=pa(d.maxIterations,2);var e=d.minChar=pa(d.minChar,0);d.cnCharWidth=Oa("\u56fd",b);var f=d.ascCharWidth=Oa("a",b);d.placeholder=pa(d.placeholder,"");b=a=Math.max(0,a-1);for(var g=0;g<e&&b>=f;g++)b-=f;e=Oa(c);e>b&&(c="",e=0);d.ellipsis=c;d.ellipsisWidth=e;d.contentWidth=a-e;d.containerWidth=a;return d}function Em(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=Oa(a,d);if(f<=c)return a;for(c=0;;c++){if(f<=e||c>=b.maxIterations){a+=b.ellipsis;break}if(0===c){for(var f=a,g=e,h=b.ascCharWidth,k=b.cnCharWidth,l=0,m=0,p=f.length;m<p&&l<g;m++)var n=f.charCodeAt(m),l=l+(0<=n&&127>=n?h:k);f=m}else f=0<f?Math.floor(a.length*e/f):0;a=a.substr(0,f);f=Oa(a,d)}""===a&&(a=b.placeholder);return a}function Bm(a,b,c,d){null!=a&&(a+="");var e=Oa("\u56fd",b),f=a?a.split("\n"):[],g=f.length*e,h=g;c&&(h+=c[0]+c[2]);if(a&&d){a=d.outerHeight;var k=d.outerWidth;if(null!=a&&h>a)f=[];else if(null!=k)for(b=Dm(k-(c?c[1]+c[3]:0),b,d.ellipsis,{minChar:d.minChar,placeholder:d.placeholder}),c=0,d=f.length;c<d;c++)f[c]=Em(f[c],b)}return{lines:f,height:g,outerHeight:h,lineHeight:e}}function li(a,b){var c={lines:[],width:0,height:0};null!=a&&(a+="");if(!a)return c;for(var d=ni.lastIndex=0,e;null!=(e=ni.exec(a));){var f=e.index;f>d&&oi(c,a.substring(d,f));oi(c,e[2],e[1]);d=ni.lastIndex}d<a.length&&oi(c,a.substring(d,a.length));var d=c.lines,f=e=0,g=[],h=b.textPadding,k=b.truncate,l=k&&k.outerWidth,m=k&&k.outerHeight;h&&(null!=l&&(l-=h[1]+h[3]),null!=m&&(m-=h[0]+h[2]));for(var p=0;p<d.length;p++){for(var n=d[p],q=0,t=0,v=0;v<n.tokens.length;v++){var u=n.tokens[v],w=u.styleName&&b.rich[u.styleName]||{},r=u.textPadding=w.textPadding,y=u.font=w.font||b.font,E=u.textHeight=pa(w.textHeight,Oa("\u56fd",y));r&&(E+=r[0]+r[2]);u.height=E;u.lineHeight=Tc(w.textLineHeight,b.textLineHeight,E);u.textAlign=w&&w.textAlign||b.textAlign;u.textVerticalAlign=w&&w.textVerticalAlign||"middle";if(null!=m&&e+u.lineHeight>m)return{lines:[],width:0,height:0};u.textWidth=Oa(u.text,y);var J=w.textWidth,sa=null==J||"auto"===J;if("string"===typeof J&&"%"===J.charAt(J.length-1))u.percentWidth=J,g.push(u),J=0;else{if(sa){var J=u.textWidth,Ha=w.textBackgroundColor;if(Ha=Ha&&Ha.image)"string"===typeof Ha&&(Ha=(Ha=ji.get(Ha))&&Ha.image),Ha&&Ha.width&&Ha.height&&(J=Math.max(J,Ha.width*E/Ha.height))}r=r?r[1]+r[3]:0;J+=r;E=null!=l?l-t:null;null!=E&&E<J&&(!sa||E<r?(u.text="",u.textWidth=J=0):(u.text=Cm(u.text,E-r,y,k.ellipsis,{minChar:k.minChar}),u.textWidth=Oa(u.text,y),J=u.textWidth+r))}t+=u.width=J;w&&(q=Math.max(q,u.lineHeight))}n.width=t;n.lineHeight=q;e+=q;f=Math.max(f,t)}c.outerWidth=c.width=pa(b.textWidth,f);c.outerHeight=c.height=pa(b.textHeight,e);h&&(c.outerWidth+=h[1]+h[3],c.outerHeight+=h[0]+h[2]);for(p=0;p<g.length;p++)u=g[p],u.width=parseInt(u.percentWidth,10)/100*f;return c}function oi(a,b,c){var d=""===b;b=b.split("\n");a=a.lines;for(var e=0;e<b.length;e++){var f=b[e],g={styleName:c,text:f,isLineHolder:!f&&!d};if(e)a.push({tokens:[g]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,k=h.length;1===k&&h[0].isLineHolder?h[0]=g:(f||!k||d)&&h.push(g)}}}function Fm(a){return(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ")||a.textFont||a.font}function Gm(a,b){var c=b.x,d=b.y,e=b.width,f=b.height,g=b.r,h,k,l,m;0>e&&(c+=e,e=-e);0>f&&(d+=f,f=-f);"number"===typeof g?h=k=l=m=g:g instanceof Array?1===g.length?h=k=l=m=g[0]:2===g.length?(h=l=g[0],k=m=g[1]):3===g.length?(h=g[0],k=m=g[1],l=g[2]):(h=g[0],k=g[1],l=g[2],m=g[3]):h=k=l=m=0;h+k>e&&(g=h+k,h*=e/g,k*=e/g);l+m>e&&(g=l+m,l*=e/g,m*=e/g);k+l>f&&(g=k+l,k*=f/g,l*=f/g);h+m>f&&(g=h+m,h*=f/g,m*=f/g);a.moveTo(c+h,d);a.lineTo(c+e-k,d);0!==k&&a.quadraticCurveTo(c+e,d,c+e,d+k);a.lineTo(c+e,d+f-l);0!==l&&a.quadraticCurveTo(c+e,d+f,c+e-l,d+f);a.lineTo(c+m,d+f);0!==m&&a.quadraticCurveTo(c,d+f,c,d+f-m);a.lineTo(c,d+h);0!==h&&a.quadraticCurveTo(c,d,c+h,d)}function Ee(a){Hm(a);r(a.rich,Hm);return a}function Hm(a){if(a){a.font=Fm(a);var b=a.textAlign;"middle"===b&&(b="center");a.textAlign=null==b||Wt[b]?b:"left";b=a.textVerticalAlign||a.textBaseline;"center"===b&&(b="middle");a.textVerticalAlign=null==b||Xt[b]?b:"top";a.textPadding&&(a.textPadding=Wh(a.textPadding))}}function Im(a,b,c,d,e){var f=ea(b,"font",d.font||"12px sans-serif"),g=d.textPadding,h=a.__textCotentBlock;if(!h||a.__dirty)h=a.__textCotentBlock=Bm(c,f,g,d.truncate);var k=h.outerHeight,l=h.lines,h=h.lineHeight,m=Jm(k,d,e),p=m.baseX,n=m.baseY,q=m.textAlign,m=m.textVerticalAlign;Km(b,d,e,p,n);m=De(n,k,m);e=p;var n=m,t=d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor;if(t||g)c=Oa(c,f),g&&(c+=g[1]+g[3]),f=Ce(p,c,q),t&&pi(a,b,d,f,m,c,k),g&&(e=Lm(p,q,g),n+=g[0]);ea(b,"textAlign",q||"left");ea(b,"textBaseline","middle");ea(b,"shadowBlur",d.textShadowBlur||0);ea(b,"shadowColor",d.textShadowColor||"transparent");ea(b,"shadowOffsetX",d.textShadowOffsetX||0);ea(b,"shadowOffsetY",d.textShadowOffsetY||0);n+=h/2;g=d.textStrokeWidth;a=qi(d.textStroke,g);d=Mm(d.textFill);a&&(ea(b,"lineWidth",g),ea(b,"strokeStyle",a));d&&ea(b,"fillStyle",d);for(g=0;g<l.length;g++)a&&b.strokeText(l[g],e,n),d&&b.fillText(l[g],e,n),n+=h}function Nm(a,b,c,d,e){var f=a.__textCotentBlock;if(!f||a.__dirty)f=a.__textCotentBlock=li(c,d);c=f;var f=c.width,g=c.outerWidth,h=c.outerHeight,k=d.textPadding,l=Jm(h,d,e),m=l.baseX,p=l.baseY,n=l.textAlign,l=l.textVerticalAlign;Km(b,d,e,m,p);m=Ce(m,g,n);n=De(p,h,l);e=m;p=n;k&&(e+=k[3],p+=k[0]);k=e+f;(d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor)&&pi(a,b,d,m,n,g,h);for(g=0;g<c.lines.length;g++){for(var l=c.lines[g],h=l.tokens,m=h.length,n=l.lineHeight,l=l.width,q=0,t=e,v=k,u=m-1,w;q<m&&(w=h[q],!w.textAlign||"left"===w.textAlign);)ri(a,b,w,d,n,p,t,"left"),l-=w.width,t+=w.width,q++;for(;0<=u&&(w=h[u],"right"===w.textAlign);)ri(a,b,w,d,n,p,v,"right"),l-=w.width,v-=w.width,u--;for(t+=(f-(t-e)-(k-v)-l)/2;q<=u;)w=h[q],ri(a,b,w,d,n,p,t+w.width/2,"center"),t+=w.width,q++;p+=n}}function Km(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y);a.translate(d,e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function ri(a,b,c,d,e,f,g,h){var k=d.rich[c.styleName]||{},l=c.textVerticalAlign,m=f+e/2;"top"===l?m=f+c.height/2:"bottom"===l&&(m=f+e-c.height/2);!c.isLineHolder&&(k.textBackgroundColor||k.textBorderWidth&&k.textBorderColor)&&pi(a,b,k,"right"===h?g-c.width:"center"===h?g-c.width/2:g,m-c.height/2,c.width,c.height);if(a=c.textPadding)g=Lm(g,h,a),m-=c.height/2-a[2]-c.textHeight/2;ea(b,"shadowBlur",Tc(k.textShadowBlur,d.textShadowBlur,0));ea(b,"shadowColor",k.textShadowColor||d.textShadowColor||"transparent");ea(b,"shadowOffsetX",Tc(k.textShadowOffsetX,d.textShadowOffsetX,0));ea(b,"shadowOffsetY",Tc(k.textShadowOffsetY,d.textShadowOffsetY,0));ea(b,"textAlign",h);ea(b,"textBaseline","middle");ea(b,"font",c.font||"12px sans-serif");h=qi(k.textStroke||d.textStroke,p);a=Mm(k.textFill||d.textFill);var p=pa(k.textStrokeWidth,d.textStrokeWidth);h&&(ea(b,"lineWidth",p),ea(b,"strokeStyle",h),b.strokeText(c.text,g,m));a&&(ea(b,"fillStyle",a),b.fillText(c.text,g,m))}function pi(a,b,c,d,e,f,g){var h=c.textBackgroundColor,k=c.textBorderWidth,l=c.textBorderColor,m=ya(h);ea(b,"shadowBlur",c.textBoxShadowBlur||0);ea(b,"shadowColor",c.textBoxShadowColor||"transparent");ea(b,"shadowOffsetX",c.textBoxShadowOffsetX||0);ea(b,"shadowOffsetY",c.textBoxShadowOffsetY||0);if(m||k&&l)b.beginPath(),(c=c.textBorderRadius)?Gm(b,{x:d,y:e,width:f,height:g,r:c}):b.rect(d,e,f,g),b.closePath();m?(ea(b,"fillStyle",h),b.fill()):Q(h)&&(m=h.image,(m=zm(m,null,a,Yt,h))&&m&&m.width&&m.height&&b.drawImage(m,d,e,f,g));k&&l&&(ea(b,"lineWidth",k),ea(b,"strokeStyle",l),b.stroke())}function Yt(a,b){b.image=a}function Jm(a,b,c){a=b.x||0;var d=b.y||0,e=b.textAlign,f=b.textVerticalAlign;c&&(d=b.textPosition,d instanceof Array?(a=c.x+Om(d[0],c.width),d=c.y+Om(d[1],c.height)):(c=mi(d,c,b.textDistance),a=c.x,d=c.y,e=e||c.textAlign,f=f||c.textVerticalAlign),b=b.textOffset)&&(a+=b[0],d+=b[1]);return{baseX:a,baseY:d,textAlign:e,textVerticalAlign:f}}function ea(a,b,c){a[b]=c;return a[b]}function qi(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function Mm(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function Om(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a}function Lm(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function lb(a){a=a||{};ac.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new Xc(a.style,this);this._rect=null;this.__clipPaths=[]}function Ka(a){lb.call(this,a)}function Zt(a){a.__unusedCount++}function $t(a){1==a.__unusedCount&&a.clear()}function si(a,b,c,d){c=c||{};d||!ba.canvasSupported?Pm(a,b,c):ba.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):Pm(a,b,c);return c}function Pm(a,b,c){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};c.zrX=b.clientX-a.left;c.zrY=b.clientY-a.top}function Yc(a,b,c){b=b||window.event;if(null!=b.zrX)return b;var d=b.type;d&&0<=d.indexOf("touch")?(d="touchend"!=d?b.targetTouches[0]:b.changedTouches[0])&&si(a,d,b,c):(si(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;null==b.which&&void 0!==a&&au.test(b.type)&&(b.which=a&1?1:a&2?3:a&4?2:0);return b}function Nf(a,b,c){ti?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function Qm(a){var b=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(b*b+a*a)}function Rm(a){return"mousewheel"===a&&ba.browser.firefox?"DOMMouseScroll":a}function ui(a,b,c){var d=a._gestureMgr;"start"===c&&d.clear();var e=d.recognize(b,a.handler.findHover(b.zrX,b.zrY,null).target,a.dom);"end"===c&&d.clear();e&&(c=e.type,b.gestureEvent=c,a.handler.dispatchToElement({target:e.target},c,e.event))}function vi(a){a._touching=!0;clearTimeout(a._touchTimer);a._touchTimer=setTimeout(function(){a._touching=!1},700)}function Sm(a){a=a.pointerType;return"pen"===a||"touch"===a}function bu(a){function b(a,b){return function(){if(!b._touching)return a.apply(b,arguments)}}r(wi,function(b){a._handlers[b]=A(fb[b],a)});r(Tm,function(b){a._handlers[b]=A(fb[b],a)});r(Of,function(c){a._handlers[c]=b(fb[c],a)})}function xi(a){function b(b,d){r(b,function(b){Nf(a,Rm(b),d._handlers[b])},d)}this._$handlers={};this.dom=a;this._touching=!1;this._gestureMgr=new yi;this._handlers={};bu(this);ba.pointerEventsSupported?b(Tm,this):(ba.touchEventsSupported&&b(wi,this),b(Of,this))}function zi(a,b){var c=new Ai(Um++,a,b);return Zc[c.id]=c}function aa(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(0<e){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function B(a,b){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function qa(a,b,c){null==b&&(b=10);b=Math.min(Math.max(0,b),20);a=(+a).toFixed(b);return c?a:+a}function mb(a){a.sort(function(a,c){return a-c});return a}function Vm(a){a=+a;if(isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function mc(a){a=a.toString();var b=a.indexOf("e");if(0<b)return a=+a.slice(b+1),0>a?-a:0;b=a.indexOf(".");return 0>b?0:a.length-1-b}function Bi(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),c=Math.round(c(Math.abs(b[1]-b[0]))/d),e=Math.min(Math.max(-e+c,0),20);return isFinite(e)?e:20}function Wm(a,b,c){if(!a[b])return 0;var d=Cd(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===d)return 0;var e=Math.pow(10,c),f=z(a,function(a){return(isNaN(a)?0:a)/d*e*100});a=100*e;var g=z(f,function(a){return Math.floor(a)});c=Cd(g,function(a,b){return a+b},0);for(f=z(f,function(a,b){return a-g[b]});c<a;){for(var h=Number.NEGATIVE_INFINITY,k=null,l=0,m=f.length;l<m;++l)f[l]>h&&(h=f[l],k=l);++g[k];f[k]=0;++c}return g[b]/e}function Ci(a){var b=2*Math.PI;return(a%b+b)%b}function Fe(a){return-1E-4<a&&1E-4>a}function Ge(a){if(a instanceof Date)return a;if("string"===typeof a){a=cu.exec(a);if(!a)return new Date(NaN);if(a[8]){var b=+a[4]||0;"Z"!==a[8].toUpperCase()&&(b-=a[8].slice(0,3));return new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,b,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}function Xm(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function Di(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=Math.pow(10,c),e=a/d;a=(b?1.5>e?1:2.5>e?2:4>e?3:7>e?5:10:1>e?1:2>e?2:3>e?3:5>e?5:10)*d;return-20<=c?+a.toFixed(0>c?-c:0):a}function Ei(a){function b(a,c,d){return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]===(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-Infinity,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;2>h;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&1!==g[0]*g[1]?a.splice(e,1):e++}return a}function Ym(a){return 0<=a-parseFloat(a)}function bc(a){if(isNaN(a))return"-";a=(a+"").split(".");return a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<a.length?"."+a[1]:"")}function Zm(a,b){a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()});b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1));return a}function la(a){return String(a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")}function Fi(a,b,c){x(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=$m[f],h="{"+g+0+"}";a=a.replace("{"+g+"}",c?la(h):h)}for(f=0;f<d;f++)for(g=0;g<e.length;g++)h=b[f][e[g]],a=a.replace("{"+$m[g]+(null==f?"":f)+"}",c?la(h):h);return a}function an(a,b,c){r(b,function(b,e){a=a.replace("{"+e+"}",c?la(b):b)});return a}function Gi(a,b){return a?'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+la(a)+";"+(b||"")+'"\x3e\x3c/span\x3e':""}function Hi(a,b,c){if("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)a="MM-dd\nyyyy";b=Ge(b);var d=c?"UTC":"";c=b["get"+d+"FullYear"]();var e=b["get"+d+"Month"]()+1,f=b["get"+d+"Date"](),g=b["get"+d+"Hours"](),h=b["get"+d+"Minutes"]();b=b["get"+d+"Seconds"]();return a=a.replace("MM",He(e)).replace("M",e).replace("yyyy",c).replace("yy",c%100).replace("dd",He(f)).replace("d",f).replace("hh",He(g)).replace("h",g).replace("mm",He(h)).replace("m",h).replace("ss",He(b)).replace("s",b)}function Pf(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Qf(a,b,c){return a["\x00ec_\x00"+b]=c}function nc(a){var b={main:"",sub:""};a&&(a=a.split("."),b.main=a[0]||"",b.sub=a[1]||"");return b}function Ie(a,b){a.$constructor=a;a.extend=function(a){D&&r(b,function(b){a[b]||console.warn("Method `"+b+"` should be implemented"+(a.type?" in "+a.type:"")+".")});var c=this,e=function(){a.$constructor?a.$constructor.apply(this,arguments):c.apply(this,arguments)};I(e.prototype,a);e.extend=this.extend;e.superCall=du;e.superApply=eu;ja(e,this);e.superClass=c;return e}}function du(a,b){var c=Vh(arguments,2);return this.superClass.prototype[b].apply(a,c)}function eu(a,b,c){return this.superClass.prototype[b].apply(a,c)}function Rf(a,b){b=b||{};var c={};a.registerClass=function(a,b){if(b){var d=b;ca(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(d),'componentType "'+d+'" illegal');b=nc(b);b.sub?"___EC__COMPONENT__CONTAINER___"!==b.sub&&(d=c[b.main],d&&d.___EC__COMPONENT__CONTAINER___||(d=c[b.main]={},d.___EC__COMPONENT__CONTAINER___=!0),d[b.sub]=a):(D&&c[b.main]&&console.warn(b.main+" exists."),c[b.main]=a)}return a};a.getClass=function(a,b,d){var e=c[a];e&&e.___EC__COMPONENT__CONTAINER___&&(e=b?e[b]:null);if(d&&!e)throw Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return e};a.getClassesByMainType=function(a){a=nc(a);var b=[];(a=c[a.main])&&a.___EC__COMPONENT__CONTAINER___?r(a,function(a,c){"___EC__COMPONENT__CONTAINER___"!==c&&b.push(a)}):b.push(a);return b};a.hasClass=function(a){a=nc(a);return!!c[a.main]};a.getAllClassMainTypes=function(){var a=[];r(c,function(b,c){a.push(c)});return a};a.hasSubTypes=function(a){a=nc(a);return(a=c[a.main])&&a.___EC__COMPONENT__CONTAINER___};a.parseClassType=nc;if(b.registerWhenExtend){var d=a.extend;d&&(a.extend=function(b){var c=d.call(this,b);return a.registerClass(c,b.type)})}return a}function gb(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function bn(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function cn(a,b,c,d,e){var f=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(-1E-8<c&&1E-8>c){if(1E-8<f||-1E-8>f)b=-b/f,0<=b&&1>=b&&(e[a++]=b)}else b=f*f-4*c*b,-1E-8<b&&1E-8>b?e[0]=-f/(2*c):0<b&&(d=oc(b),b=(-f+d)/(2*c),f=(-f-d)/(2*c),0<=b&&1>=b&&(e[a++]=b),0<=f&&1>=f&&(e[a++]=f));return a}function dn(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b;c=(d-c)*e+c;b=(h-g)*e+g;h=(c-h)*e+h;e=(h-b)*e+b;f[0]=a;f[1]=g;f[2]=b;f[3]=e;f[4]=e;f[5]=h;f[6]=c;f[7]=d}function yb(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function Sf(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function en(a,b,c){c=a+c-2*b;return 0===c?.5:(a-b)/c}function Id(a,b,c,d,e){var f=(b-a)*d+a;b=(c-b)*d+b;d=(b-f)*d+f;e[0]=a;e[1]=f;e[2]=d;e[3]=d;e[4]=b;e[5]=c}function fn(a,b,c){if(0!==a.length){var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],k;for(k=1;k<a.length;k++)d=a[k],e=Za(e,d[0]),f=ta(f,d[0]),g=Za(g,d[1]),h=ta(h,d[1]);b[0]=e;b[1]=g;c[0]=f;c[1]=h}}function pc(a,b,c,d,e,f,g){if(0===e)return!1;var h;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a!==c)h=(b-d)/(a-c);else return Math.abs(f-a)<=e/2;a=h*f-g+(a*d-c*b)/(a-c);return a*a/(h*h+1)<=e/2*e/2}function gn(a,b,c,d,e,f,g,h,k){if(0===g||k>b+g&&k>d+g&&k>f+g||k<b-g&&k<d-g&&k<f-g||h>a+g&&h>c+g&&h>e+g||h<a-g&&h<c-g&&h<e-g)return!1;var l,m=.005,p=Infinity;Ub[0]=h;Ub[1]=k;for(k=0;1>k;k+=.05)Ob[0]=yb(a,c,e,k),Ob[1]=yb(b,d,f,k),h=qc(Ub,Ob),h<p&&(l=k,p=h);p=Infinity;for(k=0;32>k&&!(1E-4>m);k++){var n=l-m,q=l+m;Ob[0]=yb(a,c,e,n);Ob[1]=yb(b,d,f,n);h=qc(Ob,Ub);0<=n&&h<p?(l=n,p=h):(Jd[0]=yb(a,c,e,q),Jd[1]=yb(b,d,f,q),h=qc(Jd,Ub),1>=q&&h<p?(l=q,p=h):m*=.5)}return oc(p)<=g/2}function rc(a){a%=hn;0>a&&(a+=hn);return a}function cc(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=d<b?1:-1;f=(f-b)/(d-b);if(1===f||0===f)g=d<b?.5:-.5;return f*(c-a)+a>e?g:0}function jn(a,b,c,d,e){for(var f=0,g=0,h=0,k=0,l=0,m=0;m<a.length;){var p=a[m++];p===sc.M&&1<m&&(c||(f+=cc(g,h,k,l,d,e)));1==m&&(g=a[m],h=a[m+1],k=g,l=h);switch(p){case sc.M:k=a[m++];l=a[m++];g=k;h=l;break;case sc.L:if(c){if(pc(g,h,a[m],a[m+1],b,d,e))return!0}else f+=cc(g,h,a[m],a[m+1],d,e)||0;g=a[m++];h=a[m++];break;case sc.C:if(c){var n;var q=a[m++],t=a[m++],v=a[m++],u=a[m++],w=a[m],r=a[m+1];if(0===b)n=!1;else{var y=b,E;if(e>h+y&&e>t+y&&e>u+y&&e>r+y||e<h-y&&e<t-y&&e<u-y&&e<r-y||d>g+y&&d>q+y&&d>v+y&&d>w+y||d<g-y&&d<q-y&&d<v-y&&d<w-y)E=!1;else{var J=g,sa=h,Ha=q,z=t,ka=v,x=u,B=w,A=r,C=e,D=void 0,F=.005,G=Infinity,I=void 0,H=void 0,K=void 0,L=void 0;Ub[0]=d;Ub[1]=C;for(var N=0;1>N;N+=.05)Ob[0]=gb(J,Ha,ka,B,N),Ob[1]=gb(sa,z,x,A,N),K=qc(Ub,Ob),K<G&&(D=N,G=K);for(var G=Infinity,Q=0;32>Q&&!(1E-4>F);Q++)I=D-F,H=D+F,Ob[0]=gb(J,Ha,ka,B,I),Ob[1]=gb(sa,z,x,A,I),K=qc(Ob,Ub),0<=I&&K<G?(D=I,G=K):(Jd[0]=gb(J,Ha,ka,B,H),Jd[1]=gb(sa,z,x,A,H),L=qc(Jd,Ub),1>=H&&L<G?(D=H,G=L):F*=.5);E=oc(G)<=y/2}n=E}if(n)return!0}else{var S=f,R;var Z=g,M=h,aa=a[m++],P=a[m++],ba=a[m++],U=a[m++],fa=a[m],V=a[m+1],ha=d;if(e>M&&e>P&&e>U&&e>V||e<M&&e<P&&e<U&&e<V)R=0;else{var da,Y=zb,W=V+3*(P-U)-M,O=3*(U-2*P+M),ga=3*(P-M),ja=M-e,X=O*O-3*W*ga,ca=O*ga-9*W*ja,na=ga*ga-3*O*ja,ea=0;if(-1E-8<X&&1E-8>X&&-1E-8<ca&&1E-8>ca)if(-1E-8<O&&1E-8>O)Y[0]=0;else{var T=-ga/O;0<=T&&1>=T&&(Y[ea++]=T)}else{var la=ca*ca-4*X*na;if(-1E-8<la&&1E-8>la){var ra=ca/X,T=-O/W+ra,ia=-ra/2;0<=T&&1>=T&&(Y[ea++]=T);0<=ia&&1>=ia&&(Y[ea++]=ia)}else if(0<la){var ua=oc(la),oa=X*O+1.5*W*(-ca+ua),qa=X*O+1.5*W*(-ca-ua),oa=0>oa?-Tf(-oa,Uf):Tf(oa,Uf),qa=0>qa?-Tf(-qa,Uf):Tf(qa,Uf),T=(-O-(oa+qa))/(3*W);0<=T&&1>=T&&(Y[ea++]=T)}else{var Da=(2*X*O-3*W*ca)/(2*oc(X*X*X)),za=Math.acos(Da)/3,Aa=oc(X),Ba=Math.cos(za),T=(-O-2*Aa*Ba)/(3*W),ia=(-O+Aa*(Ba+kn*Math.sin(za)))/(3*W),Ca=(-O+Aa*(Ba-kn*Math.sin(za)))/(3*W);0<=T&&1>=T&&(Y[ea++]=T);0<=ia&&1>=ia&&(Y[ea++]=ia);0<=Ca&&1>=Ca&&(Y[ea++]=Ca)}}da=ea;if(0===da)R=0;else{for(var pa=0,wa=-1,ya=void 0,Ga=void 0,Ia=0;Ia<da;Ia++){var va=zb[Ia],ma=0===va||1===va?.5:1;if(!(gb(Z,aa,ba,fa,va)<ha)){if(0>wa){wa=cn(M,P,U,V,Pb);if(Pb[1]<Pb[0]&&1<wa){var cb=Pb[0];Pb[0]=Pb[1];Pb[1]=cb}ya=gb(M,P,U,V,Pb[0]);1<wa&&(Ga=gb(M,P,U,V,Pb[1]))}pa=2==wa?va<Pb[0]?pa+(ya<M?ma:-ma):va<Pb[1]?pa+(Ga<ya?ma:-ma):pa+(V<Ga?ma:-ma):va<Pb[0]?pa+(ya<M?ma:-ma):pa+(V<ya?ma:-ma)}}R=pa}}f=S+(R||0)}g=a[m++];h=a[m++];break;case sc.Q:if(c){if(gn(g,h,a[m++],a[m++],a[m],a[m+1],b,d,e))return!0}else{var eb=f,Ka;var Za=g,ta=h,ab=a[m++],Ja=a[m++],db=a[m],Ea=a[m+1],hb=d;if(e>ta&&e>Ja&&e>Ea||e<ta&&e<Ja&&e<Ea)Ka=0;else{var bb,Ta=zb,La=ta-2*Ja+Ea,Fa=2*(Ja-ta),ob=ta-e,Sa=0;if(-1E-8<La&&1E-8>La){if(1E-8<Fa||-1E-8>Fa){var xa=-ob/Fa;0<=xa&&1>=xa&&(Ta[Sa++]=xa)}}else{var fb=Fa*Fa-4*La*ob;if(-1E-8<fb&&1E-8>fb)xa=-Fa/(2*La),0<=xa&&1>=xa&&(Ta[Sa++]=xa);else if(0<fb){var ub=oc(fb),xa=(-Fa+ub)/(2*La),nb=(-Fa-ub)/(2*La);0<=xa&&1>=xa&&(Ta[Sa++]=xa);0<=nb&&1>=nb&&(Ta[Sa++]=nb)}}bb=Sa;if(0===bb)Ka=0;else{var ib=en(ta,Ja,Ea);if(0<=ib&&1>=ib){for(var jb=0,xb=yb(ta,Ja,Ea,ib),Wa=0;Wa<bb;Wa++){var Ra=0===zb[Wa]||1===zb[Wa]?.5:1,sb=yb(Za,ab,db,zb[Wa]);sb<hb||(jb=zb[Wa]<ib?jb+(xb<ta?Ra:-Ra):jb+(Ea<xb?Ra:-Ra))}Ka=jb}else Ra=0===zb[0]||1===zb[0]?.5:1,sb=yb(Za,ab,db,zb[0]),Ka=sb<hb?0:Ea<ta?Ra:-Ra}}f=eb+(Ka||0)}g=a[m++];h=a[m++];break;case sc.A:var Ya=a[m++],lb=a[m++],wb=a[m++],Ma=a[m++],Qa=a[m++],tb=a[m++];m++;var Cb=1-a[m++],Na=Math.cos(Qa)*wb+Ya,Oa=Math.sin(Qa)*Ma+lb;1<m?f+=cc(g,h,Na,Oa,d,e):(k=Na,l=Oa);var Db=(d-Ya)*Ma/wb+Ya;if(c){var pb;var Ua=Qa,Pa=Qa+tb,qb=Db,rb=e;if(0===b)pb=!1;else{var Ib=b,qb=qb-Ya,rb=rb-lb,Jb=Math.sqrt(qb*qb+rb*rb);if(Jb-Ib>Ma||Jb+Ib<Ma)pb=!1;else if(1E-4>Math.abs(Ua-Pa)%Je)pb=!0;else{if(Cb)var Nb=Ua,Ua=rc(Pa),Pa=rc(Nb);else Ua=rc(Ua),Pa=rc(Pa);Ua>Pa&&(Pa+=Je);var mb=Math.atan2(rb,qb);0>mb&&(mb+=Je);pb=mb>=Ua&&mb<=Pa||mb+Je>=Ua&&mb+Je<=Pa}}if(pb)return!0}else{var Qb=f,vb;var Eb=Ya,$a=Qa,Va=Qa+tb,Fb=Cb,Gb=Db,kb=e,kb=kb-lb;if(kb>Ma||kb<-Ma)vb=0;else{var Ab=Math.sqrt(Ma*Ma-kb*kb);zb[0]=-Ab;zb[1]=Ab;var Kb=Math.abs($a-Va);if(1E-4>Kb)vb=0;else if(1E-4>Kb%Ke){var Bb;vb=Gb>=zb[0]+Eb&&Gb<=zb[1]+Eb?Fb?1:-1:0}else{Fb?(Ab=$a,$a=rc(Va),Va=rc(Ab)):($a=rc($a),Va=rc(Va));$a>Va&&(Va+=Ke);for(var Lb=0,Hb=0;2>Hb;Hb++){var Mb=zb[Hb];if(Mb+Eb>Gb){var Xa=Math.atan2(kb,Mb);Bb=Fb?1:-1;0>Xa&&(Xa=Ke+Xa);if(Xa>=$a&&Xa<=Va||Xa+Ke>=$a&&Xa+Ke<=Va)Xa>Math.PI/2&&Xa<1.5*Math.PI&&(Bb=-Bb),Lb+=Bb}}vb=Lb}}f=Qb+vb}g=Math.cos(Qa+tb)*wb+Ya;h=Math.sin(Qa+tb)*Ma+lb;break;case sc.R:var k=g=a[m++],l=h=a[m++],Rb=a[m++],Sb=a[m++],Na=k+Rb,Oa=l+Sb;if(c){if(pc(k,l,Na,l,b,d,e)||pc(Na,l,Na,Oa,b,d,e)||pc(Na,Oa,k,Oa,b,d,e)||pc(k,Oa,k,l,b,d,e))return!0}else f+=cc(Na,l,Na,Oa,d,e),f+=cc(k,Oa,k,l,d,e);break;case sc.Z:if(c){if(pc(g,h,k,l,b,d,e))return!0}else f+=cc(g,h,k,l,d,e);g=k;h=l}}c||1E-4>Math.abs(h-l)||(f+=cc(g,h,k,l,d,e)||0);return 0!==f}function fa(a){lb.call(this,a);this.path=null}function ln(a,b,c,d,e,f,g,h,k,l,m){k*=Vf/180;var p=Wf(k)*(a-c)/2+Xf(k)*(b-d)/2,n=-1*Xf(k)*(a-c)/2+Wf(k)*(b-d)/2,q=p*p/(g*g)+n*n/(h*h);1<q&&(g*=Ii(q),h*=Ii(q));q=(e===f?-1:1)*Ii((g*g*h*h-g*g*n*n-h*h*p*p)/(g*g*n*n+h*h*p*p))||0;e=q*g*n/h;q=q*-h*p/g;a=(a+c)/2+Wf(k)*e-Xf(k)*q;b=(b+d)/2+Xf(k)*e+Wf(k)*q;d=mn([1,0],[(p-e)/g,(n-q)/h]);c=[(p-e)/g,(n-q)/h];p=[(-1*p-e)/g,(-1*n-q)/h];n=mn(c,p);-1>=Ji(c,p)&&(n=Vf);1<=Ji(c,p)&&(n=0);0===f&&0<n&&(n-=2*Vf);1===f&&0>n&&(n+=2*Vf);m.addData(l,a,b,g,h,d,n,k,f)}function fu(a){if(!a)return[];var b=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(a=0;a<Ki.length;a++)b=b.replace(new RegExp(Ki[a],"g"),"|"+Ki[a]);var b=b.split("|"),c=0,d=0,e=new ub,f=ub.CMD,g;for(a=1;a<b.length;a++){var h=b[a],k=h.charAt(0),l=0,h=h.slice(1).replace(/e,-/g,"e-").split(","),m;0<h.length&&""===h[0]&&h.shift();for(var p=0;p<h.length;p++)h[p]=parseFloat(h[p]);for(;l<h.length&&!isNaN(h[l])&&!isNaN(h[0]);){var n,q,t,v,u,w;switch(k){case "l":c+=h[l++];d+=h[l++];m=f.L;e.addData(m,c,d);break;case "L":c=h[l++];d=h[l++];m=f.L;e.addData(m,c,d);break;case "m":c+=h[l++];d+=h[l++];m=f.M;e.addData(m,c,d);k="l";break;case "M":c=h[l++];d=h[l++];m=f.M;e.addData(m,c,d);k="L";break;case "h":c+=h[l++];m=f.L;e.addData(m,c,d);break;case "H":c=h[l++];m=f.L;e.addData(m,c,d);break;case "v":d+=h[l++];m=f.L;e.addData(m,c,d);break;case "V":d=h[l++];m=f.L;e.addData(m,c,d);break;case "C":m=f.C;e.addData(m,h[l++],h[l++],h[l++],h[l++],h[l++],h[l++]);c=h[l-2];d=h[l-1];break;case "c":m=f.C;e.addData(m,h[l++]+c,h[l++]+d,h[l++]+c,h[l++]+d,h[l++]+c,h[l++]+d);c+=h[l-2];d+=h[l-1];break;case "S":n=c;q=d;m=e.len();p=e.data;g===f.C&&(n+=c-p[m-4],q+=d-p[m-3]);m=f.C;p=h[l++];w=h[l++];c=h[l++];d=h[l++];e.addData(m,n,q,p,w,c,d);break;case "s":n=c;q=d;m=e.len();p=e.data;g===f.C&&(n+=c-p[m-4],q+=d-p[m-3]);m=f.C;p=c+h[l++];w=d+h[l++];c+=h[l++];d+=h[l++];e.addData(m,n,q,p,w,c,d);break;case "Q":p=h[l++];w=h[l++];c=h[l++];d=h[l++];m=f.Q;e.addData(m,p,w,c,d);break;case "q":p=h[l++]+c;w=h[l++]+d;c+=h[l++];d+=h[l++];m=f.Q;e.addData(m,p,w,c,d);break;case "T":n=c;q=d;m=e.len();p=e.data;g===f.Q&&(n+=c-p[m-4],q+=d-p[m-3]);c=h[l++];d=h[l++];m=f.Q;e.addData(m,n,q,c,d);break;case "t":n=c;q=d;m=e.len();p=e.data;g===f.Q&&(n+=c-p[m-4],q+=d-p[m-3]);c+=h[l++];d+=h[l++];m=f.Q;e.addData(m,n,q,c,d);break;case "A":n=h[l++];q=h[l++];t=h[l++];v=h[l++];u=h[l++];p=c;w=d;c=h[l++];d=h[l++];m=f.A;ln(p,w,c,d,v,u,n,q,t,m,e);break;case "a":n=h[l++],q=h[l++],t=h[l++],v=h[l++],u=h[l++],p=c,w=d,c+=h[l++],d+=h[l++],m=f.A,ln(p,w,c,d,v,u,n,q,t,m,e)}}if("z"===k||"Z"===k)m=f.Z,e.addData(m);g=m}e.toStatic();return e}function nn(a,b){var c=fu(a);b=b||{};b.buildPath=function(a){if(a.setData){a.setData(c.data);var b=a.getContext();b&&a.rebuildPath(b)}else c.rebuildPath(a)};b.applyTransform=function(a){var b=c.data,d,g,h,k,l,m=Kd.M,p=Kd.C,n=Kd.L,q=Kd.R,t=Kd.A,v=Kd.Q;for(h=0;h<b.length;){d=b[h++];k=h;g=0;switch(d){case m:g=1;break;case n:g=1;break;case p:g=3;break;case v:g=2;break;case t:k=a[4];d=a[5];var u=on(a[0]*a[0]+a[1]*a[1]),w=on(a[2]*a[2]+a[3]*a[3]),r=gu(-a[1]/w,a[0]/u);b[h]*=u;b[h++]+=k;b[h]*=w;b[h++]+=d;b[h++]*=u;b[h++]*=w;b[h++]+=r;b[h++]+=r;k=h+=2;break;case q:l[0]=b[h++],l[1]=b[h++],da(l,l,a),b[k++]=l[0],b[k++]=l[1],l[0]+=b[h++],l[1]+=b[h++],da(l,l,a),b[k++]=l[0],b[k++]=l[1]}for(d=0;d<g;d++)l=hu[d],l[0]=b[h++],l[1]=b[h++],da(l,l,a),b[k++]=l[0],b[k++]=l[1]}this.dirty(!0)};return b}function pn(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function qn(a,b,c){var d=b.points,e=b.smooth;if(d&&2<=d.length){if(e&&"spline"!==e){var f=d,g=b.smoothConstraint;b=[];var h=[],k=[],l=[],m,p,n,q;if(g){n=[Infinity,Infinity];q=[-Infinity,-Infinity];for(var t=0,v=f.length;t<v;t++)Wb(n,n,f[t]),Xb(q,q,f[t]);Wb(n,n,g[0]);Xb(q,q,g[1])}t=0;for(v=f.length;t<v;t++){var u=f[t];if(c)m=f[t?t-1:v-1],p=f[(t+1)%v];else if(0===t||t===v-1){b.push(tb(f[t]));continue}else m=f[t-1],p=f[t+1];Vb(h,p,m);Ff(h,h,e);m=ye(u,m);p=ye(u,p);var w=m+p;0!==w&&(m/=w,p/=w);Ff(k,h,-m);Ff(l,h,p);m=Yh([],u,k);u=Yh([],u,l);g&&(Xb(m,m,n),Wb(m,m,q),Xb(u,u,n),Wb(u,u,q));b.push(m);b.push(u)}c&&b.push(b.shift());a.moveTo(d[0][0],d[0][1]);f=d.length;for(e=0;e<(c?f:f-1);e++)n=b[2*e],q=b[2*e+1],g=d[(e+1)%f],a.bezierCurveTo(n[0],n[1],q[0],q[1],g[0],g[1])}else{if("spline"===e){b=d.length;e=[];n=0;for(f=1;f<b;f++)n+=ye(d[f-1],d[f]);n/=2;n=n<b?b:n;for(f=0;f<n;f++)q=f/(n-1)*(c?b:b-1),l=Math.floor(q),q-=l,h=d[l%b],c?(g=d[(l-1+b)%b],k=d[(l+1)%b],l=d[(l+2)%b]):(g=d[0===l?l:l-1],k=d[l>b-2?b-1:l+1],l=d[l>b-3?b-1:l+2]),t=q*q,v=q*t,e.push([pn(g[0],h[0],k[0],l[0],q,t,v),pn(g[1],h[1],k[1],l[1],q,t,v)]);d=e}a.moveTo(d[0][0],d[0][1]);e=1;for(b=d.length;e<b;e++)a.lineTo(d[e][0],d[e][1])}c&&a.closePath()}}function rn(a,b,c){var d=a.cpy2;return null===a.cpx2||null===d?[(c?bn:gb)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?bn:gb)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?Sf:yb)(a.x1,a.cpx1,a.x2,b),(c?Sf:yb)(a.y1,a.cpy1,a.y2,b)]}function Qb(a){return fa.extend(a)}function Le(a,b,c,d){a=new fa(nn(a,b));b=a.getBoundingRect();c&&("center"===d&&(c=sn(c,b)),tn(a,c));return a}function un(a,b,c){var d=new Ka({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){"center"===c&&d.setStyle(sn(b,{width:a.width,height:a.height}))}});return d}function sn(a,b){var c=b.width/b.height,d=a.height*c;d<=a.width?c=a.height:(d=a.width,c=d/c);return{x:a.x+a.width/2-d/2,y:a.y+a.height/2-c/2,width:d,height:c}}function tn(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function $c(a){var b=a.shape,c=a.style.lineWidth;Ld(2*b.x1)===Ld(2*b.x2)&&(b.x1=b.x2=vb(b.x1,c,!0));Ld(2*b.y1)===Ld(2*b.y2)&&(b.y1=b.y2=vb(b.y1,c,!0));return a}function Li(a){var b=a.shape,c=a.style.lineWidth,d=b.x,e=b.y,f=b.width,g=b.height;b.x=vb(b.x,c,!0);b.y=vb(b.y,c,!0);b.width=Math.max(vb(d+f,c,!1)-b.x,0===f?0:1);b.height=Math.max(vb(e+g,c,!1)-b.y,0===g?0:1);return a}function vb(a,b,c){a=Ld(2*a);return 0===(a+Ld(b))%2?a/2:(a+(c?1:-1))/2}function vn(a){return"string"===typeof a?om(a,-.1):a}function wn(a){if(a.__hoverStlDirty){var b=a.style.stroke,c=a.style.fill,d=a.__hoverStl;d.fill=d.fill||(null!=c&&"none"!=c?vn(c):null);d.stroke=d.stroke||(null!=b&&"none"!=b?vn(b):null);var b={},e;for(e in d)null!=d[e]&&(b[e]=a.style[e]);a.__normalStl=b;a.__hoverStlDirty=!1}}function xn(a){if(!a.__isHover){wn(a);if(a.useHoverLayer)a.__zr&&a.__zr.addHover(a,a.__hoverStl);else{var b=a.style,c=b.insideRollbackOpt;if(c){var d=b.insideRollback;d&&(b.textFill=d.textFill,b.textStroke=d.textStroke,b.textStrokeWidth=d.textStrokeWidth)}b.extendFrom(a.__hoverStl);c&&(yn(b,b.insideOriginalTextPosition,c),null==b.textFill&&(b.textFill=c.autoColor));a.dirty(!1);a.z2+=1}a.__isHover=!0}}function zn(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),--a.z2);a.__isHover=!1}}function An(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&xn(a)}):xn(a)}function Bn(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&zn(a)}):zn(a)}function Cn(a,b){a.__hoverStl=a.hoverStyle||b||{};a.__hoverStlDirty=!0;a.__isHover&&wn(a)}function iu(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&An(this)}function ju(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Bn(this)}function ku(){this.__isEmphasis=!0;An(this)}function lu(){this.__isEmphasis=!1;Bn(this)}function T(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch;"group"===a.type?a.traverse(function(a){"group"!==a.type&&Cn(a,b)}):Cn(a,b);a.on("mouseover",iu).on("mouseout",ju);a.on("emphasis",ku).on("normal",lu)}function Db(a,b,c,d,e,f,g){e=e||Yf;var h=e.labelFetcher,k=e.labelDataIndex,l=e.labelDimIndex,m=c.getShallow("show"),p=d.getShallow("show"),n=m||p?pa(h?h.getFormattedLabel(k,"normal",null,l):null,e.defaultText):null,m=m?n:null,h=p?pa(h?h.getFormattedLabel(k,"emphasis",null,l):null,n):null;if(null!=m||null!=h)ua(a,c,f,e),ua(b,d,g,e,!0);a.text=m;b.text=h}function ua(a,b,c,d,e){Dn(a,b,d,e);c&&I(a,c);a.host&&a.host.dirty&&a.host.dirty(!1);return a}function Dn(a,b,c,d){c=c||Yf;if(c.isRectText){var e=b.getShallow("position")||(d?null:"inside");"outside"===e&&(e="top");a.textPosition=e;a.textOffset=b.getShallow("offset");e=b.getShallow("rotate");null!=e&&(e*=Math.PI/180);a.textRotation=e;a.textDistance=pa(b.getShallow("distance"),d?null:5)}for(var e=(e=b.ecModel)&&e.option.textStyle,f,g=b;g&&g!==g.ecModel;){var h=(g.option||Yf).rich;if(h){f=f||{};for(var k in h)h.hasOwnProperty(k)&&(f[k]=1)}g=g.parentModel}var l;if(f){l={};for(var m in f)f.hasOwnProperty(m)&&(k=b.getModel(["rich",m]),En(l[m]={},k,e,c,d))}a.rich=l;En(a,b,e,c,d,!0);c.forceRich&&!c.textStyle&&(c.textStyle={});return a}function En(a,b,c,d,e,f){c=!e&&c||Yf;a.textFill=Zf(b.getShallow("color"),d)||c.color;a.textStroke=Zf(b.getShallow("textBorderColor"),d)||c.textBorderColor;a.textStrokeWidth=pa(b.getShallow("textBorderWidth"),c.textBorderWidth);e||(f&&(e=a.textPosition,a.insideRollback=yn(a,e,d),a.insideOriginalTextPosition=e,a.insideRollbackOpt=d),null==a.textFill&&(a.textFill=d.autoColor));a.fontStyle=b.getShallow("fontStyle")||c.fontStyle;a.fontWeight=b.getShallow("fontWeight")||c.fontWeight;a.fontSize=b.getShallow("fontSize")||c.fontSize;a.fontFamily=b.getShallow("fontFamily")||c.fontFamily;a.textAlign=b.getShallow("align");a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline");a.textLineHeight=b.getShallow("lineHeight");a.textWidth=b.getShallow("width");a.textHeight=b.getShallow("height");a.textTag=b.getShallow("tag");f&&d.disableBox||(a.textBackgroundColor=Zf(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=Zf(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY"));a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor;a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur;a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX;a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function Zf(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function yn(a,b,c){var d=c.useInsideStyle,e;null==a.textFill&&!1!==d&&(!0===d||c.isRectText&&b&&"string"===typeof b&&0<=b.indexOf("inside"))&&(e={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=c.autoColor,null==a.textStrokeWidth&&(a.textStrokeWidth=2)));return e}function Mi(a,b){var c=b||b.getModel("textStyle");return[a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" ")}function Fn(a,b,c,d,e,f){"function"===typeof e&&(f=e,e=null);if(d&&d.isAnimationEnabled()){var g=a?"Update":"";a=d.getShallow("animationDuration"+g);var h=d.getShallow("animationEasing"+g),g=d.getShallow("animationDelay"+g);"function"===typeof g&&(g=g(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null));"function"===typeof a&&(a=a(e));0<a?b.animateTo(c,a,g||0,h,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function Z(a,b,c,d,e){Fn(!0,a,b,c,d,e)}function hb(a,b,c,d,e){Fn(!1,a,b,c,d,e)}function ad(a,b){for(var c=ze([]);a&&a!==b;)Uc(c,a.getLocalTransform(),c),a=a.parent;return c}function Eb(a,b,c){b&&!Sc(b)&&(b=$a.getLocalTransform(b));c&&(b=If([],b));return da([],a,b)}function Ni(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]);a=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];a=Eb(a,b,c);return Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Oi(a,b,c,d){function e(a){var b={position:tb(a.position),rotation:a.rotation};a.shape&&(b.shape=I({},a.shape));return b}if(a&&b){var f=function(a){var b={};a.traverse(function(a){!a.isGroup&&a.anid&&(b[a.anid]=a)});return b}(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=f[a.anid];if(b){var d=e(a);a.attr(e(b));Z(a,d,c,a.dataIndex)}}})}}function Gn(a,b){return z(a,function(a){var c=a[0],c=$f(c,b.x),c=ag(c,b.x+b.width);a=a[1];a=$f(a,b.y);a=ag(a,b.y+b.height);return[c,a]})}function Me(a,b,c){b=I({rectHover:!0},b);var d=b.style={strokeNoScale:!0};c=c||{x:-1,y:-1,width:2,height:2};if(a)return 0===a.indexOf("image://")?(d.image=a.slice(8),H(d,c),new Ka(b)):Le(a.replace("path://",""),b,c,"center")}function V(a,b,c){this.parentModel=b;this.ecModel=c;this.option=a}function Hn(a,b,c){for(var d=0;d<b.length&&(!b[d]||(a=a&&"object"===typeof a?a[b[d]]:null,null!=a));d++);null==a&&c&&(a=c.get(b));return a}function Pi(a,b){var c=a["\x00ec_\x00getParent"];return c?c.call(a,b):a.parentModel}function nb(a){return a instanceof Array?a:null==a?[]:[a]}function bd(a,b){if(a)for(var c=a.emphasis=a.emphasis||{},d=a.normal=a.normal||{},e=0,f=b.length;e<f;e++){var g=b[e];!c.hasOwnProperty(g)&&d.hasOwnProperty(g)&&(c[g]=d[g])}}function Ne(a){return a&&(null==a.value?a:a.value)}function Qi(a){return Md(a)&&!(a instanceof Array)}function Ri(a,b){var c=b&&b.type;if("ordinal"===c)return a;"time"===c&&"number"!==typeof a&&null!=a&&"-"!==a&&(a=+Ge(a));return null==a||""===a?NaN:+a}function Si(a,b){b=(b||[]).slice();var c=z(a||[],function(a,b){return{exist:a}});tc(b,function(a,e){if(Md(a)){for(var d=0;d<c.length;d++)if(!c[d].option&&null!=a.id&&c[d].exist.id===a.id+""){c[d].option=a;b[e]=null;return}for(d=0;d<c.length;d++){var g=c[d].exist;if(!(c[d].option||null!=g.id&&null!=a.id||null==a.name||bg(a)||bg(g))&&g.name===a.name+""){c[d].option=a;b[e]=null;break}}}});tc(b,function(a,b){if(Md(a)){for(var d=0;d<c.length;d++){var e=c[d].exist;if(!c[d].option&&!bg(e)&&null==a.id){c[d].option=a;break}}d>=c.length&&c.push({option:a})}});return c}function In(a){var b=za();tc(a,function(a,d){var c=a.exist;c&&b.set(c.id,a)});tc(a,function(a,d){var c=a.option;ca(!c||null==c.id||!b.get(c.id)||b.get(c.id)===a,"id duplicates: "+(c&&c.id));c&&null!=c.id&&b.set(c.id,a);!a.keyInfo&&(a.keyInfo={})});tc(a,function(a,d){var c=a.exist,f=a.option,g=a.keyInfo;if(Md(f)){g.name=null!=f.name?f.name+"":c?c.name:"\x00-";if(c)g.id=c.id;else if(null!=f.id)g.id=f.id+"";else{c=0;do g.id="\x00"+g.name+"\x00"+c++;while(b.get(g.id))}b.set(g.id,a)}})}function bg(a){return Md(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function mu(a,b){function c(a,b,c){for(var d=0,e=a.length;d<e;d++)for(var f=a[d].seriesId,g=nb(a[d].dataIndex),h=c&&c[f],k=0,v=g.length;k<v;k++){var u=g[k];h&&h[u]?h[u]=null:(b[f]||(b[f]={}))[u]=1}}function d(a,b){var c=[],e;for(e in a)if(a.hasOwnProperty(e)&&null!=a[e])if(b)c.push(+e);else{var f=d(a[e],!0);f.length&&c.push({seriesId:e,dataIndex:f})}return c}var e={},f={};c(a||[],e);c(b||[],f,e);return[d(e),d(f)]}function cg(a,b){if(null!=b.dataIndexInside)return b.dataIndexInside;if(null!=b.dataIndex)return x(b.dataIndex)?z(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex);if(null!=b.name)return x(b.name)?z(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name)}function Oe(a,b,c){if(ya(b)){var d={};d[b+"Index"]=0;b=d}d=c&&c.defaultMainType;!d||b&&b.hasOwnProperty(d+"Index")||b&&b.hasOwnProperty(d+"Id")||b&&b.hasOwnProperty(d+"Name")||(b[d+"Index"]=0);var e={};tc(b,function(d,g){d=b[g];if("dataIndex"===g||"dataIndexInside"===g)e[g]=d;else{var f=g.match(/^(\w+)(Index|Id|Name)$/)||[],k=f[1],f=(f[2]||"").toLowerCase();if(!(!k||!f||null==d||"index"===f&&"none"===d||c&&c.includeMainTypes&&0>R(c.includeMainTypes,k))){var l={mainType:k};if("index"!==f||"all"!==d)l[f]=d;f=a.queryComponents(l);e[k+"Models"]=f;e[k+"Model"]=f[0]}}});return e}function nu(a,b){var c=[];tc(a.dimensions,function(d){d=a.getDimensionInfo(d);d.coordDim===b&&(c[d.coordDimIndex]=d.name)});return c}function Jn(a,b){var c=[];tc(a.dimensions,function(d){d=a.getDimensionInfo(d);var e=d.otherDims[b];null!=e&&!1!==e&&(c[e]=d.name)});return c}function Ti(a){return[a||"",ou++,Math.random()].join("_")}function Ui(a,b,c,d,e){var f=0,g=0;null==d&&(d=Infinity);null==e&&(e=Infinity);var h=0;b.eachChild(function(k,l){var m=k.position,p=k.getBoundingRect(),n=b.childAt(l+1),n=n&&n.getBoundingRect(),q,t;"horizontal"===a?(n=p.width+(n?-n.x+p.x:0),q=f+n,q>d||k.newline?(f=0,q=n,g+=h+c,h=p.height):h=Math.max(h,p.height)):(n=p.height+(n?-n.y+p.y:0),t=g+n,t>e||k.newline?(f+=h+c,g=0,t=n,h=p.width):h=Math.max(h,p.width));k.newline||(m[0]=f,m[1]=g,"horizontal"===a?f=q+c:g=t+c)})}function Ia(a,b,c){c=cd(c||0);var d=b.width;b=b.height;var e=B(a.left,d),f=B(a.top,b),g=B(a.right,d),h=B(a.bottom,b),k=B(a.width,d),l=B(a.height,b),m=c[2]+c[0],p=c[1]+c[3],n=a.aspect;isNaN(k)&&(k=d-g-p-e);isNaN(l)&&(l=b-h-m-f);null!=n&&(isNaN(k)&&isNaN(l)&&(n>d/b?k=.8*d:l=.8*b),isNaN(k)&&(k=n*l),isNaN(l)&&(l=k/n));isNaN(e)&&(e=d-g-k-p);isNaN(f)&&(f=b-h-l-m);switch(a.left||a.right){case "center":e=d/2-k/2-c[3];break;case "right":e=d-k-p}switch(a.top||a.bottom){case "middle":case "center":f=b/2-l/2-c[0];break;case "bottom":f=b-l-m}e=e||0;f=f||0;isNaN(k)&&(k=d-p-e-(g||0));isNaN(l)&&(l=b-m-f-(h||0));a=new S(e+c[3],f+c[0],k,l);a.margin=c;return a}function dg(a,b,c,d,e){var f=!e||!e.hv||e.hv[0],g=!e||!e.hv||e.hv[1];e=e&&e.boundingMode||"all";if(f||g){var h;if("raw"===e)h="group"===a.type?new S(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(h=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();h=h.clone();h.applyTransform(k)}b=Ia(H({width:h.width,height:h.height},b),c,d);c=a.position;f=f?b.x-h.x:0;b=g?b.y-h.y:0;a.attr("position","raw"===e?[f,b]:[c[0]+f,c[1]+b])}}function uc(a,b,c){function d(c,d){var f={},h=0,k={},l=0;eg(c,function(b){k[b]=a[b]});eg(c,function(a){b.hasOwnProperty(a)&&(f[a]=k[a]=b[a]);e(f,a)&&h++;e(k,a)&&l++});if(g[d])return e(b,c[1])?k[c[2]]=null:e(b,c[2])&&(k[c[1]]=null),k;if(2!==l&&h){if(!(2<=h))for(var t=0;t<c.length;t++){var v=c[t];if(!f.hasOwnProperty(v)&&a.hasOwnProperty(v)){f[v]=a[v];break}}return f}return k}function e(a,b){return null!=a[b]&&"auto"!==a[b]}function f(a,b,c){eg(a,function(a){b[a]=c[a]})}!Q(c)&&(c={});var g=c.ignoreSize;!x(g)&&(g=[g,g]);c=d(dd[0],0);var h=d(dd[1],1);f(dd[0],a,c);f(dd[1],a,h)}function ed(a,b){b&&a&&eg(Kn,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});return a}function pu(a,b){r(b,function(b,d){U.hasClass(d)||("object"===typeof b?a[d]=a[d]?K(a[d],b,!1):G(b):null==a[d]&&(a[d]=b))})}function qu(a){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap=za({series:[]});this._seriesIndices=null;pu(a,this._theme.option);K(a,ru,!1);this.mergeOption(a)}function su(a,b){x(b)||(b=b?[b]:[]);var c={};ob(b,function(b){c[b]=(a.get(b)||[]).slice()});return c}function Vi(a){return Ln(a,function(a){return a.componentIndex})||[]}function Mn(a,b){return b.hasOwnProperty("subType")?vc(a,function(a){return a.subType===b.subType}):a}function fg(a){if(D&&!a._seriesIndices)throw Error("Option should contains series.");}function tu(a){r(uu,function(b){this[b]=A(a[b],a)},this)}function ab(){this._coordinateSystems=[]}function Wi(a){this._api=a;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function vu(a,b,c){var d=[],e=[],f,g,h=a.timeline;a.baseOption&&(g=a.baseOption);if(h||a.options)g=g||{},d=(a.options||[]).slice();a.media&&(g=g||{},gg(a.media,function(a){a&&a.option&&(a.query?e.push(a):f||(f=a))}));g||(g=a);g.timeline||(g.timeline=h);gg([g].concat(d).concat(z(e,function(a){return a.option})),function(a){gg(b,function(b){b(a,c)})});return{baseOption:g,timelineOptions:d,mediaDefault:f,mediaList:e}}function wu(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;r(a,function(a,b){var c=b.match(xu);if(c&&c[1]&&c[2]){var f=c[1],c=c[2].toLowerCase();c=d[c];("min"===f?c>=a:"max"===f?c<=a:c===a)||(e=!1)}});return e}function yu(a,b){return a.join(",")===b.join(",")}function zu(a,b){b=b||{};gg(b,function(b,d){if(null!=b){var c=a[d];U.hasClass(d)?(b=nb(b),c=nb(c),c=Si(c,b),a[d]=hg(c,function(a){return a.option&&a.exist?Nn(a.exist,a.option,!0):a.exist||a.option})):a[d]=Nn(c,b,!0)}})}function wc(a){var b=a&&a.itemStyle;if(b)for(var c=0,d=On.length;c<d;c++){var e=On[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?K(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null);g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?K(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function bb(a,b){var c=Nd(a)&&a[b],d=Nd(c)&&c.textStyle;if(d)for(var e=0,f=Pn.length;e<f;e++)b=Pn[e],d.hasOwnProperty(b)&&(c[b]=d[b])}function Sa(a){Nd(a)&&(bb(a,"normal"),bb(a,"emphasis"))}function fd(a){return x(a)?a:a?[a]:[]}function Xi(a){return(x(a)?a[0]:a)||{}}function Qn(a){r(Au,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function Ta(){this.group=new F;this.uid=Ti("viewChart")}function Yi(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)Yi(a.childAt(c),b)}function Rn(a,b,c){b=cg(a,b);null!=b?r(nb(b),function(b){Yi(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){Yi(a,c)})}function Zi(a,b,c){function d(){g=(new Date).getTime();h=null;a.apply(l,m||[])}var e,f=0,g=0,h=null,k,l,m,p;b=b||0;var n=function(){e=(new Date).getTime();l=this;m=arguments;var a=p||b,n=p||c;p=null;k=e-(n?f:g)-a;clearTimeout(h);n?h=setTimeout(d,a):0<=k?d():h=setTimeout(d,-k);f=e};n.clear=function(){h&&(clearTimeout(h),h=null)};n.debounceNextCall=function(a){p=a};return n}function Pe(a,b,c,d){var e=a[b];if(e){var f=e["\x00__throttleOriginMethod"]||e,g=e["\x00__throttleType"];if(e["\x00__throttleRate"]!==c||g!==d){if(null==c||!d)return a[b]=f;e=a[b]=Zi(f,c,"debounce"===d);e["\x00__throttleOriginMethod"]=f;e["\x00__throttleType"]=d;e["\x00__throttleRate"]=c}return e}}function Sn(a,b){var c=a[b];c&&c["\x00__throttleOriginMethod"]&&(a[b]=c["\x00__throttleOriginMethod"])}function Od(a){return function(b,c,d){b=b&&b.toLowerCase();pb.prototype[a].call(this,b,c,d)}}function Qe(){this._$handlers={}}function Re(a,b,c){function d(a,b){return a.prio-b.prio}c=c||{};"string"===typeof b&&(b=Tn[b]);this._dom=a;var e="canvas";D&&(e=("undefined"===typeof window?global:window).__ECHARTS__DEFAULT__RENDERER__||e);a=this._zr=zi(a,{renderer:c.renderer||e,devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=Zi(A(a.flush,a),17);(b=G(b))&&Un(b,!0);this._theme=b;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new ab;this._api=Bu(this);this._$handlers={};this._messageCenter=new Qe;this._initEvents();this.resize=A(this.resize,this);this._pendingActions=[];Lf(Se,d);Lf($i,d);a.animation.on("frame",this._onframe,this);gm(this)}function Vn(a,b,c){var d=this._model,e=this._coordSysMgr.getCoordinateSystems(),f;b=Oe(d,b);for(var g=0;g<e.length;g++){var h=e[g];if(h[a]&&null!=(f=h[a](d,b,c)))return f}D&&console.warn("No coordinate system that supports "+a+" found by the given finder.")}function Wn(a,b,c,d,e){function f(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"];h[d+"Index"]=c[d+"Index"];h[d+"Name"]=c[d+"Name"];h={mainType:d,query:h};e&&(h.subType=e);g&&g.eachComponent(h,function(b,c){f(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)}else va(a._componentsViews.concat(a._chartsViews),f)}function Xn(a,b){var c=a.type,d=a.escapeConnect,e=ig[c],f=e.actionInfo,g=(f.update||"update").split(":"),h=g.pop(),g=null!=g[0]&&Yn(g[0]);this.__flagInMainProcess=!0;var k=[a],l=!1;a.batch&&(l=!0,k=z(a.batch,function(b){b=H(I({},b),a);b.batch=null;return b}));var m=[],p,n="highlight"===c||"downplay"===c;va(k,function(a){p=(p=e.action(a,this._model,this._api))||I({},a);p.type=f.event||p.type;m.push(p);n?Wn(this,h,a,"series"):g&&Wn(this,h,a,g.main,g.sub)},this);"none"===h||n||g||(this.__optionUpdated?(Pd.prepareAndUpdate.call(this,a),this.__optionUpdated=!1):Pd[h].call(this,a));p=l?{type:f.event||c,escapeConnect:d,batch:m}:m[0];this.__flagInMainProcess=!1;!b&&this._messageCenter.trigger(p.type,p)}function jg(a){for(var b=this._pendingActions;b.length;){var c=b.shift();Xn.call(this,c,a)}}function aj(a,b,c){var d=this._api;va(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c);kg(f,e)},this);b.eachSeries(function(e,f){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c);kg(e,g);Zn(e,g)},this);$n(this._zr,b);va(bj,function(a){a(b,d)})}function ao(a,b){for(var c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,f=this._zr,g=0;g<d.length;g++)d[g].__alive=!1;b[c?"eachComponent":"eachSeries"](function(a,g){if(c){if("series"===a)return}else g=a;var h="_ec_"+g.id+"_"+g.type,k=e[h];if(!k)if(k=Yn(g.type),k=c?dc.getClass(k.main,k.sub):Ta.getClass(k.sub))k=new k,k.init(b,this._api),e[h]=k,d.push(k),f.add(k.group);else return;g.__viewId=k.__id=h;k.__alive=!0;k.__model=g;k.group.__ecComponentInfo={mainType:g.mainType,index:g.componentIndex}},this);for(g=0;g<d.length;){var h=d[g];h.__alive?g++:(f.remove(h.group),h.dispose(b,this._api),d.splice(g,1),delete e[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Cu(a,b){va($i,function(c){c.func(a,b)})}function Du(a){var b={};a.eachSeries(function(a){var c=a.get("stack");a=a.getData();if(c&&"list"===a.type){var e=b[c];b.hasOwnProperty(c)&&e&&(a.stackedOn=e);b[c]=a}})}function Eu(a,b){var c=this._api;va(Se,function(d){d.isLayout&&d.func(a,c,b)})}function cj(a,b,c){var d=this._api;a.clearColorPalette();a.eachSeries(function(a){a.clearColorPalette()});va(Se,function(e){c&&e.isLayout||e.func(a,d,b)})}function Fu(a,b){var c=this._api;va(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b);kg(e,d)},this);va(this._chartsViews,function(a){a.__alive=!1},this);a.eachSeries(function(d,e){var f=this._chartsMap[d.__viewId];f.__alive=!0;f.render(d,a,c,b);f.group.silent=!!d.get("silent");kg(d,f);Zn(d,f)},this);$n(this._zr,a);va(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function $n(a,b){var c=a.storage,d=0;c.traverse(function(a){a.isGroup||d++});d>b.get("hoverLayerThreshold")&&!ba.node&&c.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function Zn(a,b){var c=0;b.group.traverse(function(a){"group"===a.type||a.ignore||c++});var d=+a.get("progressive"),e=c>a.get("progressiveThreshold")&&d&&!ba.node;e&&b.group.traverse(function(a){a.isGroup||(a.progressive=e?Math.floor(c++/d):-1,e&&a.stopAnimation(!0))});var f=a.get("blendMode")||null;D&&!ba.canvasSupported&&f&&"source-over"!==f&&console.warn("Only canvas support blendMode");b.group.traverse(function(a){a.isGroup||a.setStyle("blend",f)})}function kg(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d))})}function Bu(a){var b=a._coordSysMgr;return I(new tu(a),{getCoordinateSystems:A(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}}})}function Gu(a){function b(a,b){for(var c=0;c<a.length;c++)a[c].__connectUpdateStatus=b}r(lg,function(c,d){a._messageCenter.on(d,function(c){if(mg[a.group]&&0!==a.__connectUpdateStatus&&(!c||!c.escapeConnect)){var d=a.makeActionFromEvent(c),e=[];r(gd,function(b){b!==a&&b.group===a.group&&e.push(b)});b(e,0);va(e,function(a){1!==a.__connectUpdateStatus&&a.dispatchAction(d)});b(e,2)}})})}function bo(a){mg[a]=!1}function dj(a){a=a.getAttribute?a.getAttribute("_echarts_instance_"):a._echarts_instance_;return gd[a]}function cb(a){co.push(a)}function Ua(a,b){"function"===typeof a&&(b=a,a=1E3);if(D&&isNaN(a))throw Error("Unkown processor priority");$i.push({prio:a,func:b})}function W(a,b,c){"function"===typeof b&&(c=b,b="");var d=Q(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase();b=a.event;ca(eo.test(d)&&eo.test(b));ig[d]||(ig[d]={action:c,actionInfo:a});lg[b]=d}function ej(a,b){ab.register(a,b)}function oa(a,b){"function"===typeof a&&(b=a,a=1E3);if(D&&isNaN(a))throw Error("Unkown layout priority");Se.push({prio:a,func:b,isLayout:!0})}function ra(a,b){"function"===typeof a&&(b=a,a=3E3);if(D&&isNaN(a))throw Error("Unkown visual priority");Se.push({prio:a,func:b})}function ib(a){return U.extend(a)}function ma(a){return dc.extend(a)}function Te(a){return wa.extend(a)}function La(a){return Ta.extend(a)}function fo(a){return a}function xc(a,b,c,d,e){this._old=a;this._new=b;this._oldKeyGetter=c||fo;this._newKeyGetter=d||fo;this.context=e}function go(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];null==h?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function ho(a,b){r(Hu.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});a.__wrappedMethods=b.__wrappedMethods}function ng(a){this._array=a||[]}function fj(a){x(a)||(a=[a]);return a}function io(a,b){var c=a.dimensions,d=new ia(z(c,a.getDimensionInfo,a),a.hostModel);ho(d,a);for(var e=d._storage={},f=a._storage,g=0;g<c.length;g++){var h=c[g],k=f[h];0<=R(b,h)?e[h]=new k.constructor(f[h].length):e[h]=f[h]}return d}function Ja(a,b,c){function d(a,b,c){Iu[b]?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,k.set(b,!0))}function e(a,b,c){if(c||null!=b.get(a)){for(c=0;null!=b.get(a+c);)c++;a+=c}b.set(a,!0);return a}b=b||[];c=c||{};a=(a||[]).slice();var f=(c.dimsDef||[]).slice(),g=za(c.encodeDef),h=za(),k=za(),l=[],m=c.dimCount;if(null==m){var p=jo(b[0]),m=Math.max(x(p)&&p.length||1,a.length,f.length);og(a,function(a){(a=a.dimsDef)&&(m=Math.max(m,a.length))})}for(var n=0;n<m;n++){var q=pg(f[n])?{name:f[n]}:f[n]||{},t=q.name,p=l[n]={otherDims:{}};null!=t&&null==h.get(t)&&(p.name=p.tooltipName=t,h.set(t,n));null!=q.type&&(p.type=q.type)}g.each(function(a,b){a=g.set(b,nb(a).slice());og(a,function(c,e){pg(c)&&(c=h.get(c));null!=c&&c<m&&(a[e]=c,d(l[c],b,e))})});var v=0;og(a,function(a,b){var c,e,f;pg(a)?(c=a,a={}):(c=a.name,a=G(a),e=a.dimsDef,f=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null);var h=nb(g.get(c));if(!h.length)for(var k=0;k<(e&&e.length||1);k++){for(;v<l.length&&null!=l[v].coordDim;)v++;v<l.length&&h.push(v++)}og(h,function(b,g){var h=l[b];d(ko(h,a),c,g);null==h.name&&e&&(h.name=h.tooltipName=e[g]);f&&ko(h.otherDims,f)})});a=c.extraPrefix||"value";for(f=0;f<m;f++)p=l[f]=l[f]||{},null==p.coordDim&&(p.coordDim=e(a,k,c.extraFromZero),p.coordDimIndex=0,p.isExtraCoord=!0),null==p.name&&(p.name=e(p.coordDim,h)),null==p.type&&Ju(b,f)&&(p.type="ordinal");return l}function jo(a){return x(a)?a:Q(a)?a.value:a}function Ku(a){for(var b=0;b<a.length&&null==a[b];)b++;a=a[b];return null!=a&&!x(Ne(a))}function yc(a,b,c){a=a||[];if(D&&!x(a))throw Error("Invalid data.");var d=b.get("coordinateSystem"),e=Lu[d],d=ab.get(d),f={encodeDef:b.get("encode"),dimsDef:b.get("dimensions")},g=e&&e(a,b,c,f),h=g&&g.dimensions;h||(h=d&&(d.getDimensionsInfo?d.getDimensionsInfo():d.dimensions.slice())||["x","y"],h=Ja(h,a,f));var k=g?g.categoryIndex:-1,l=new ia(h,b);b=Mu(g,a);var m={};c=0<=k&&Ku(a)?function(a,b,c,d){Qi(a)&&(l.hasItemOption=!0);return d===k?c:Ri(Ne(a),h[d])}:function(a,b,c,d){c=Ne(a);d=Ri(c&&c[d],h[d]);Qi(a)&&(l.hasItemOption=!0);(a=g&&g.categoryAxesModels)&&a[b]&&"string"===typeof d&&(m[b]=m[b]||a[b].getCategories(),d=R(m[b],d),0>d&&!isNaN(d)&&(d=+d));return d};l.hasItemOption=!1;l.initData(a,b,c);return l}function Ue(a){return"category"!==a&&"time"!==a}function Ve(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function Mu(a,b){var c=[],d=a&&a.dimensions[a.categoryIndex],e;d&&(e=a.categoryAxesModels[d.name]);if(e&&(d=e.getCategories()))if(e=b.length,x(b[0])&&1<b[0].length)for(var c=[],f=0;f<e;f++)c[f]=d[b[f][a.categoryIndex||0]];else c=d.slice(0);return c}function Aa(a){this._setting=a||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}function lo(a,b){!isFinite(a[0])&&(a[0]=b[0]);!isFinite(a[1])&&(a[1]=b[1]);a[0]=Math.max(Math.min(a[0],b[1]),b[0]);a[1]=Math.max(Math.min(a[1],b[1]),b[0]);a[0]>a[1]&&(a[0]=a[1])}function mo(a,b){var c=a.type,d=b.getMin(),e=b.getMax(),f=null!=d,g=null!=e,h=a.getExtent(),k,l,m;"ordinal"===c?k=(b.get("data")||[]).length:(l=b.get("boundaryGap"),x(l)||(l=[l||0,l||0]),"boolean"===typeof l[0]&&(D&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),l=[0,0]),l[0]=B(l[0],1),l[1]=B(l[1],1),m=h[1]-h[0]||Math.abs(h[0]));null==d&&(d="ordinal"===c?k?0:NaN:h[0]-l[0]*m);null==e&&(e="ordinal"===c?k?k-1:NaN:h[1]+l[1]*m);"dataMin"===d?d=h[0]:"function"===typeof d&&(d=d({min:h[0],max:h[1]}));"dataMax"===e?e=h[1]:"function"===typeof e&&(e=e({min:h[0],max:h[1]}));null!=d&&isFinite(d)||(d=NaN);null!=e&&isFinite(e)||(e=NaN);a.setBlank(ve(d)||ve(e));b.getNeedCrossZero()&&(0<d&&0<e&&!f&&(d=0),0>d&&0>e&&!g&&(e=0));return[d,e]}function zc(a,b){var c=mo(a,b),d=null!=b.getMin(),e=null!=b.getMax(),f=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var g=a.type;a.setExtent(c[0],c[1]);a.niceExtent({splitNumber:f,fixMin:d,fixMax:e,minInterval:"interval"===g||"time"===g?b.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?b.get("maxInterval"):null});c=b.get("interval");null!=c&&a.setInterval&&a.setInterval(c)}function Qd(a,b){if(b=b||a.get("type"))switch(b){case "category":return new gj(a.getCategories(),[Infinity,-Infinity]);case "value":return new Va;default:return(Aa.getClass(b)||Va).create(a)}}function no(a,b,c,d,e){var f,g=0,h=0;d=(d-e)/180*Math.PI;e=1;40<b.length&&(e=Math.floor(b.length/40));for(var k=0;k<a.length;k+=e){var l=a[k],m=$b(b[k],c,"center","top");m.x+=l*Math.cos(d);m.y+=l*Math.sin(d);m.width*=1.3;m.height*=1.3;f?f.intersect(m)?(h++,g=Math.max(g,h)):(f.union(m),h=0):f=m.clone()}return 0===g&&1<e?e:(g+1)*e-1}function hj(a,b){var c=a.scale,d=c.getTicksLabels(),c=c.getTicks();return"string"===typeof b?(b=function(a){return function(b){return a.replace("{value}",null!=b?b:"")}}(b),z(d,b)):"function"===typeof b?z(c,function(c,d){return b(ij(a,c),d)},this):d}function ij(a,b){return"category"===a.type?a.scale.getLabel(b):b}function Nu(a){return Q(a)&&null!=a.value?a.value:a+""}function Ou(a,b){if("image"!==this.type){var c=this.style,d=this.shape;d&&"line"===d.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));this.dirty(!1)}}function jb(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));a=0===a.indexOf("image://")?un(a.slice(8),new S(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?Le(a.slice(7),{},new S(b,c,d,e),g?"center":"cover"):new Pu({shape:{symbolType:a,x:b,y:c,width:d,height:e}});a.__isEmptyBrush=h;a.setColor=Ou;a.setColor(f);return a}function oo(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c;a[1]-=c}function hd(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++)var g=a[f],d=d+cc(e[0],e[1],g[0],g[1],b,c),e=g;a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(d+=cc(e[0],e[1],a[0],a[1],b,c));return 0!==d}function qg(a,b,c){this.name=a;this.geometries=b;c?c=[c[0],c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}function Qu(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var k=f[h];if("Polygon"===e.type)f[h]=po(k,g[h],b);else if("MultiPolygon"===e.type)for(var l=0;l<k.length;l++)k[l]=po(k[l],g[h][l],b)}a.UTF8Encoding=!1;return a}function po(a,b,c){var d=[],e=b[0];b=b[1];for(var f=0;f<a.length;f+=2){var g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64,g=g>>1^-(g&1),h=h>>1^-(h&1),g=g+e,h=h+b,e=g;b=h;d.push([g/c,h/c])}return d}function qo(a){var b,c=Jn(a,"label");if(c.length)b=c[0];else for(var c=a.dimensions.slice(),d;c.length&&(b=c.pop(),d=a.getDimensionInfo(b).type,"ordinal"===d||"time"===d););return b}function Rd(a,b,c){F.call(this);this.updateData(a,b,c)}function Ru(a,b){this.parent.drift(a,b)}function Sd(a){this.group=new F;this._symbolCtor=a||Rd}function ro(a,b,c){var d=a.getItemLayout(b);return d&&!isNaN(d[0])&&!isNaN(d[1])&&!(c&&c(b))&&"none"!==a.getItemVisual(b,"symbol")}function so(a){return 0<=a?1:-1}function to(a,b,c){for(var d=a.getBaseAxis(),e=a.getOtherAxis(d),f=d.onZero?0:e.scale.getExtent()[0],e=e.dim,g="x"===e||"radius"===e?1:0,h,k=b.stackedOn,l=b.get(e,c);k&&so(k.get(e,c))===so(l);){h=k;break}k=[];k[g]=b.get(d.dim,c);k[1-g]=h?h.get(e,c,!0):f;return a.dataToPoint(k)}function Su(a,b){var c=[];b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"\x3d",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute();return c}function Ac(a){return isNaN(a[0])||isNaN(a[1])}function jj(a,b,c,d,e,f,g,h,k,l,m){for(var p=0,n=c,q=0;q<d;q++){var t=b[n];if(n>=e||0>n)break;if(Ac(t)){if(m){n+=f;continue}break}if(n===c)a[0<f?"moveTo":"lineTo"](t[0],t[1]),uo(Bc,t);else if(0<k){var v=n+f,u=b[v];if(m)for(;u&&Ac(b[v]);)v+=f,u=b[v];var w=.5,p=b[p],u=b[v];!u||Ac(u)?uo(Cc,t):(Ac(u)&&!m&&(u=t),Vb(kj,u,p),"x"===l||"y"===l?(w="x"===l?0:1,v=Math.abs(t[w]-p[w]),u=Math.abs(t[w]-u[w])):(v=id(t,p),u=id(t,u)),w=u/(u+v),vo(Cc,t,kj,-k*(1-w)));wo(Bc,Bc,h);xo(Bc,Bc,g);wo(Cc,Cc,h);xo(Cc,Cc,g);a.bezierCurveTo(Bc[0],Bc[1],Cc[0],Cc[1],t[0],t[1]);vo(Bc,t,kj,k*w)}else a.lineTo(t[0],t[1]);p=n;n+=f}return q}function lj(a,b){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]);f[1]<c[1]&&(c[1]=f[1]);f[0]>d[0]&&(d[0]=f[0]);f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function yo(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function zo(a){return"number"===typeof a?a:a?.3:0}function Ao(a){var b=a.getGlobalExtent();if(a.onBand){a=a.getBandWidth()/2-1;var c=b[1]>b[0]?1:-1;b[0]+=c*a;b[1]-=c*a}return b}function Bo(a){return 0<=a?1:-1}function Tu(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=0;if(!c.onZero){var f=d.scale.getExtent();0<f[0]?e=f[0]:0>f[1]&&(e=f[1])}var g=d.dim,h="x"===g||"radius"===g?1:0;return b.mapArray([g],function(d,f){for(var k,l=b.stackedOn;l&&Bo(l.get(g,f))===Bo(d);){k=l;break}l=[];l[h]=b.get(c.dim,f);l[1-h]=k?k.get(g,f,!0):e;return a.dataToPoint(l)},!0)}function Co(a,b,c){if("polar"===a.type){var d=a.getAngleAxis(),e=a.getRadiusAxis().getExtent(),f=d.getExtent(),g=Math.PI/180;a=new Dc({shape:{cx:a.cx,cy:a.cy,r0:e[0],r:e[1],startAngle:-f[0]*g,endAngle:-f[1]*g,clockwise:d.inverse}});b&&(a.shape.endAngle=-f[0]*g,hb(a,{shape:{endAngle:-f[1]*g}},c));b=a}else{d=Ao(a.getAxis("x"));e=Ao(a.getAxis("y"));a=a.getBaseAxis().isHorizontal();var f=Math.min(d[0],d[1]),g=Math.min(e[0],e[1]),d=Math.max(d[0],d[1])-f,e=Math.max(e[0],e[1])-g,h=c.get("lineStyle.normal.width")||2,h=c.get("clipOverflow")?h/2:Math.max(d,e);a?(g-=h,e+=2*h):(f-=h,d+=2*h);f=new ga({shape:{x:f,y:g,width:d,height:e}});b&&(f.shape[a?"width":"height"]=0,hb(f,{shape:{width:d,height:e}},c));b=f}return b}function Ec(a,b,c){b=b.getBaseAxis();b="x"===b.dim||"radius"===b.dim?0:1;for(var d=[],e=0;e<a.length-1;e++){var f=a[e+1],g=a[e];d.push(g);var h=[];switch(c){case "end":h[b]=f[b];h[1-b]=g[1-b];d.push(h);break;case "middle":var k=[];h[b]=k[b]=(g[b]+f[b])/2;h[1-b]=g[1-b];k[1-b]=f[1-b];d.push(h);d.push(k);break;default:h[b]=g[b],h[1-b]=f[1-b],d.push(h)}}a[e]&&d.push(a[e]);return d}function Uu(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count()){for(var d,e=c.length-1;0<=e;e--)if(2>c[e].dimension){d=c[e];break}if(d&&"cartesian2d"===b.type){var c=a.dimensions[d.dimension],f=b.getAxis(c),e=z(d.stops,function(a){return{coord:f.toGlobalCoord(f.dataToCoord(a.value)),color:a.color}}),g=e.length,h=d.outerColors.slice();g&&e[0].coord>e[g-1].coord&&(e.reverse(),h.reverse());var k=e[0].coord-10;d=e[g-1].coord+10;var l=d-k;if(.001>l)return"transparent";r(e,function(a){a.offset=(a.coord-k)/l});e.push({offset:g?e[g-1].offset:.5,color:h[1]||"transparent"});e.unshift({offset:g?e[0].offset:.5,color:h[0]||"transparent"});e=new Td(0,0,0,0,e,!0);e[c]=k;e[c+"2"]=d;return e}D&&console.warn("Visual map on line style only support x or y dimension.")}}function Vu(a){return this._axes[a]}function We(a){rg.call(this,a)}function Do(a,b){return b.type||(b.data?"category":"value")}function Ud(a,b,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(a,b,c);this.model=a}function Eo(a,b,c){a=a[b];if(c.onZero)if(b=c.onZeroAxisIndex,null!=b){var d=a[b];d&&Fo(d)&&(c.onZero=!1)}else{for(var e in a)if(a.hasOwnProperty(e)&&(d=a[e])&&!Fo(d)){b=+e;break}null==b&&(c.onZero=!1);c.onZeroAxisIndex=b}}function Fo(a){var b;(b="category"===a.type||"time"===a.type)||(b=a.scale.getExtent(),a=b[0],b=b[1],b=!!(0<a&&0<b||0>a&&0>b));return b}function Wu(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b};a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function Go(a,b){return z(Xu,function(b){var c=a.getReferringComponents(b)[0];if(D&&!c)throw Error(b+' "'+na(a.get(b+"Index"),a.get(b+"Id"),0)+'" not found');return c})}function Ho(a){return"cartesian2d"===a.get("coordinateSystem")}function Io(a){var b={componentType:a.mainType};b[a.mainType+"Index"]=a.componentIndex;return b}function Yu(a,b,c,d){a=Ci(c-a.rotation);d=d[0]>d[1];d="start"===b&&!d||"start"!==b&&d;Fe(a-Fc/2)?(b=d?"bottom":"top",d="center"):Fe(a-1.5*Fc)?(b=d?"top":"bottom",d="center"):(b="middle",d=a<1.5*Fc&&a>Fc/2?d?"left":"right":d?"right":"left");return{rotation:a,textAlign:d,textVerticalAlign:b}}function Jo(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function wb(a){a&&(a.ignore=!0)}function Ko(a,b,c){c=a&&a.getBoundingRect().clone();var d=b&&b.getBoundingRect().clone();if(c&&d){var e=ze([]);Vc(e,e,-a.rotation);c.applyTransform(Uc([],e,a.getLocalTransform()));d.applyTransform(Uc([],e,b.getLocalTransform()));return c.intersect(d)}}function Zu(a,b,c){var d=b.axis;if(na(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.scale.getTicks(),h=b.getFormattedLabels(),k=(na(c.labelRotate,e.get("rotate"))||0)*Fc/180,l=Lo(c.rotation,k,c.labelDirection),m=b.get("data"),p=[],n=Jo(b),q=b.get("triggerEvent"),t=b.get("axisLabel.showMinLabel"),v=b.get("axisLabel.showMaxLabel");r(g,function(k,w){if(!Mo(d,w,c.labelInterval,g.length,t,v)){var u=e;m&&m[k]&&m[k].textStyle&&(u=new V(m[k].textStyle,e,b.ecModel));var r=u.getTextColor()||b.get("axisLine.lineStyle.color"),E=[d.dataToCoord(k),c.labelOffset+c.labelDirection*f],J=d.scale.getLabel(k),E=new P({anid:"label_"+k,position:E,rotation:l.rotation,silent:n,z2:10});ua(E.style,u,{text:h[w],textAlign:u.getShallow("align",!0)||l.textAlign,textVerticalAlign:u.getShallow("verticalAlign",!0)||u.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"===typeof r?r("category"===d.type?J:"value"===d.type?k+"":k,w):r});q&&(E.eventData=Io(b),E.eventData.targetType="axisLabel",E.eventData.value=J);a._dumbGroup.add(E);E.updateTransform();p.push(E);a.group.add(E);E.decomposeTransform()}});return p}}function $u(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",!0)||[],g=[];Vd(c.getCoordinateSystems(),function(c){function h(d,h,k){var l=k.model.getModel("axisPointer",e),n=l.get("show");if(n&&("auto"!==n||d||l.get("handle.show"))){null==h&&(h=l.get("triggerTooltip"));var l=d?av(k,p,e,b,d,h):l,q=l.get("snap");d=Xe(k.model);n=h||q||"category"===k.type;h=a.axesInfo[d]={key:d,axis:k,coordSys:c,axisPointerModel:l,triggerTooltip:h,involveSeries:n,snap:q,useHandle:!!l.get("handle.show"),seriesModels:[]};m[d]=h;a.seriesInvolved|=n;a:{l=k.model;k=k.dim;for(n=0;n<f.length;n++)if(q=f[n]||{},mj(q[k+"AxisId"],l.id)||mj(q[k+"AxisIndex"],l.componentIndex)||mj(q[k+"AxisName"],l.name)){k=n;break a}k=void 0}null!=k&&(l=g[k]||(g[k]={axesInfo:{}}),l.axesInfo[d]=h,l.mapper=f[k].mapper,h.linkGroup=l)}}if(c.axisPointerEnabled){var l=Xe(c.model),m=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=c;var p=c.model.getModel("tooltip",d);Vd(c.getAxes(),nj(h,!1,null));if(c.getTooltipAxes&&d&&p.get("show")){var l="axis"===p.get("trigger"),n="cross"===p.get("axisPointer.type"),q=c.getTooltipAxes(p.get("axisPointer.axis"));(l||n)&&Vd(q.baseAxes,nj(h,n?"cross":!0,l));n&&Vd(q.otherAxes,nj(h,"cross",!1))}}})}function av(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};Vd("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(a){h[a]=G(g.get(a))});h.snap="category"!==a.type&&!!f;"cross"===g.get("type")&&(h.type="line");b=h.label||(h.label={});null==b.show&&(b.show=!1);"cross"===e&&(b.show=!0,f||(e=h.lineStyle=g.get("crossStyle"))&&H(b,e.textStyle));return a.model.getModel("axisPointer",new V(h,c,d))}function bv(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,e=b.get("tooltip.trigger",!0),f=b.get("tooltip.show",!0);c&&"none"!==e&&!1!==e&&"item"!==e&&!1!==f&&!1!==b.get("axisPointer.show",!0)&&Vd(a.coordSysAxesInfo[Xe(c.model)],function(a){var d=a.axis;c.getAxis(d.dim)===d&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function mj(a,b){return"all"===a||x(a)&&0<=R(a,b)||a===b}function oj(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[Xe(a)]}function Xe(a){return a.type+"||"+a.id}function No(a,b,c,d,e,f){if(c=xb.getAxisPointerClass(a.axisPointerClass))(e=(e=oj(b))&&e.axisPointerModel)?(a._axisPointer||(a._axisPointer=new c)).render(b,e,d,f):((b=a._axisPointer)&&b.dispose(d,void 0),a._axisPointer=null)}function pj(a,b,c){c=c||{};var d=a.coordinateSystem;a=b.axis;var e={},f=a.position,g=a.onZero?"onZero":f,h=a.dim,k=d.getRect(),k=[k.x,k.x+k.width,k.y,k.y+k.height],l={left:0,right:1,top:0,bottom:1,onZero:2},m=b.get("offset")||0,m="x"===h?[k[2]-m,k[3]+m]:[k[0]-m,k[1]+m];a.onZero&&(d=d.getAxis("x"===h?"y":"x",a.onZeroAxisIndex),d=d.toGlobalCoord(d.dataToCoord(0)),m[l.onZero]=Math.max(Math.min(d,m[1]),m[0]));e.position=["y"===h?m[l[g]]:k[0],"x"===h?m[l[g]]:k[3]];e.rotation=Math.PI/2*("x"===h?0:1);e.labelDirection=e.tickDirection=e.nameDirection={top:-1,bottom:1,left:-1,right:1}[f];e.labelOffset=a.onZero?m[l[f]]-m[l.onZero]:0;b.get("axisTick.inside")&&(e.tickDirection=-e.tickDirection);na(c.labelInside,b.get("axisLabel.inside"))&&(e.labelDirection=-e.labelDirection);b=b.get("axisLabel.rotate");e.labelRotate="top"===g?-b:b;e.labelInterval=a.getLabelInterval();e.z2=1;return e}function Oo(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function cv(a,b){var c=z(a,function(a){var b=a.getData(),c=a.coordinateSystem.getBaseAxis(),d=c.getExtent(),b="category"===c.type?c.getBandWidth():Math.abs(d[1]-d[0])/b.count(),d=B(a.get("barWidth"),b),h=B(a.get("barMaxWidth"),b),k=a.get("barGap"),l=a.get("barCategoryGap");return{bandWidth:b,barWidth:d,barMaxWidth:h,barGap:k,barCategoryGap:l,axisKey:c.dim+c.index,stackId:Oo(a)}});return Po(c,b)}function Po(a,b){var c={};r(a,function(a,b){var d=a.axisKey,e=a.bandWidth,e=c[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=e.stacks;c[d]=e;d=a.stackId;f[d]||e.autoWidthCount++;f[d]=f[d]||{width:0,maxWidth:0};var l=a.barWidth;l&&!f[d].width&&(f[d].width=l,l=Math.min(e.remainedWidth,l),e.remainedWidth-=l);(l=a.barMaxWidth)&&(f[d].maxWidth=l);f=a.barGap;null!=f&&(e.gap=f);f=a.barCategoryGap;null!=f&&(e.categoryGap=f)});var d={};r(c,function(a,b){d[b]={};var c=a.stacks,e=B(a.categoryGap,a.bandWidth),f=B(a.gap,1),l=a.remainedWidth,m=a.autoWidthCount,p=(l-e)/(m+(m-1)*f),p=Math.max(p,0);r(c,function(a,b){var c=a.maxWidth;c&&c<p&&(c=Math.min(c,l),a.width&&(c=Math.min(c,a.width)),l-=c,a.width=c,m--)});var p=(l-e)/(m+(m-1)*f),p=Math.max(p,0),n=0,q;r(c,function(a,b){a.width||(a.width=p);q=a;n+=a.width*(1+f)});q&&(n-=q.width*f);var t=-n/2;r(c,function(a,c){d[b][c]=d[b][c]||{offset:t,width:a.width};t+=a.width*(1+f)})});return d}function sg(a,b,c){var d=cv(Fa(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),e={},f={};b.eachSeriesByType(a,function(a){if("cartesian2d"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,g=c.getBaseAxis(),m=Oo(a),p=d[g.dim+g.index][m],n=p.offset,q=p.width,t=c.getOtherAxis(g),v=a.get("barMinHeight")||0,u=g.onZero?t.toGlobalCoord(t.dataToCoord(0)):t.getGlobalExtent()[0],g=[a.coordDimToDataDim("x")[0],a.coordDimToDataDim("y")[0]],w=b.mapArray(g,function(a,b){return c.dataToPoint([a,b])},!0);e[m]=e[m]||[];f[m]=f[m]||[];b.setLayout({offset:n,size:q});b.each(a.coordDimToDataDim(t.dim)[0],function(a,c){if(!isNaN(a)){e[m][c]||(e[m][c]={p:u,n:u},f[m][c]={p:u,n:u});var d=0<=a?"p":"n",g=w[c],h=e[m][c][d],k=f[m][c][d],l,p;t.isHorizontal()?(l=h,h=g[1]+n,p=g[0]-k,g=q,f[m][c][d]+=p,Math.abs(p)<v&&(p=(0>p?-1:1)*v),e[m][c][d]+=p):(l=g[0]+n,p=q,g=g[1]-k,f[m][c][d]+=g,Math.abs(g)<v&&(g=(0>=g?-1:1)*v),e[m][c][d]+=g);b.setItemLayout(c,{x:l,y:h,width:p,height:g})}},!0)}},this)}function Qo(a,b,c,d,e,f,g){g=c.getModel("label.normal");c=c.getModel("label.emphasis");Db(a,b,g,c,{labelFetcher:e,labelDataIndex:f,defaultText:e.getRawValue(f),isRectText:!0,autoColor:d});"outside"===a.textPosition&&(a.textPosition=void 0);"outside"===b.textPosition&&(b.textPosition=void 0)}function Ro(a,b,c){c.style.text=null;Z(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function So(a,b,c){c.style.text=null;Z(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function To(a,b,c,d,e,f,g,h){var k=b.getItemVisual(c,"color"),l=b.getItemVisual(c,"opacity"),m=d.getModel("itemStyle.normal");b=d.getModel("itemStyle.emphasis").getBarItemStyle();h||a.setShape("r",m.get("barBorderRadius")||0);a.useStyle(H({fill:k,opacity:l},m.getBarItemStyle()));(l=d.getShallow("cursor"))&&a.attr("cursor",l);e=g?0<e.height?"bottom":"top":0<e.width?"left":"right";h||Qo(a.style,b,d,k,f,c,e);T(a,b)}function dv(a,b,c,d){var e=b.getData(),f=e.getName(this.dataIndex),g=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:f,seriesId:b.id});e.each(function(a){Uo(e.getItemGraphicEl(a),e.getItemLayout(a),b.isSelected(e.getName(a)),g,c)})}function Uo(a,b,c,d,e){b=(b.startAngle+b.endAngle)/2;c=c?d:0;c=[Math.cos(b)*c,Math.sin(b)*c];e?a.animate().when(200,{position:c}).start("bounceOut"):a.attr("position",c)}function qj(a,b){function c(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}F.call(this);var e=new Dc({z2:2}),f=new Fb,g=new P;this.add(e);this.add(f);this.add(g);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function Vo(a,b,c,d,e,f,g){function h(b,c,d,e){for(e=b;e<c;e++)if(a[e].y+=d,e>b&&e+1<c&&a[e+1].y>a[e].y+a[e].height){k(e,d/2);return}k(c-1,d/2)}function k(b,c){for(var d=b;0<=d&&!(a[d].y-=c,0<d&&a[d].y>a[d-1].y+a[d-1].height);d--);}function l(a,b,c,d,e,f){for(var g=b?Number.MAX_VALUE:0,h=0,k=a.length;h<k;h++)if("center"!==a[h].position){var l=Math.abs(a[h].y-d),m=a[h].len,n=a[h].len2,l=l<e+m?Math.sqrt((e+m+n)*(e+m+n)-l*l):Math.abs(a[h].x-c);b&&l>=g&&(l=g-10);!b&&l<=g&&(l=g+10);a[h].x=c+l*f;g=l}}a.sort(function(a,b){return a.y-b.y});var m=0;f=a.length;for(var p=[],n=[],q=0;q<f;q++)m=a[q].y-m,0>m&&h(q,f,-m,e),m=a[q].y+a[q].height;0>g-m&&k(f-1,m-g);for(q=0;q<f;q++)a[q].y>=c?n.push(a[q]):p.push(a[q]);l(p,!1,b,c,d,e);l(n,!0,b,c,d,e)}function ev(a,b,c,d,e,f){for(var g=[],h=[],k=0;k<a.length;k++)a[k].x<b?g.push(a[k]):h.push(a[k]);Vo(h,b,c,d,1,e,f);Vo(g,b,c,d,-1,e,f);for(k=0;k<a.length;k++)if(c=a[k].linePoints)d=c[1][0]-c[2][0],c[2][0]=a[k].x<b?a[k].x+3:a[k].x-3,c[1][1]=c[2][1]=a[k].y,c[1][0]=c[2][0]+d}function Wo(){this.group=new F;this._symbolEl=new fv({})}function Xo(a,b,c){Ba.call(this,a,b,c);this.type="value";this.angle=0;this.name=""}function Gb(a,b,c){this._model=a;this.dimensions=[];this._indicatorAxes=z(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new Xo(c,new Va);d.name=a.get("name");d.model=a;a.axis=d;this.dimensions.push(c);return d},this);this.resize(a,c)}function rj(){$a.call(this)}function jd(a){this.name=a;$a.call(this);this._roamTransform=new rj;this._viewTransform=new rj;this._center;this._zoom}function Yo(a,b,c,d){b=(b=c.seriesModel)?b.coordinateSystem:null;return b===this?b[a](d):null}function Wd(a,b,c,d,e){jd.call(this,a);this.map=b;this._nameCoordMap=za();this.loadGeoJson(c,d,e)}function Zo(a,b,c,d){b=c.geoModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return c===this?c[a](d):null}function $o(a,b){var c=a.get("boundingCoords");if(null!=c){var d=c[0],c=c[1];isNaN(d[0])||isNaN(d[1])||isNaN(c[0])||isNaN(c[1])?D&&console.error("Invalid boundingCoords"):this.setBoundingRect(d[0],d[1],c[0]-d[0],c[1]-d[1])}var e=this.getBoundingRect(),d=a.get("layoutCenter"),c=a.get("layoutSize"),f=b.getWidth(),g=b.getHeight(),h=a.get("aspectScale")||.75,e=e.width/e.height*h,h=!1;d&&c&&(d=[B(d[0],f),B(d[1],g)],c=B(c,Math.min(f,g)),isNaN(d[0])||isNaN(d[1])||isNaN(c)?D&&console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):h=!0);h?(f={},1<e?(f.width=c,f.height=c/e):(f.height=c,f.width=c*e),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2):(d=a.getBoxLayoutParams(),d.aspect=e,f=Ia(d,{width:f,height:g}));this.setViewRect(f.x,f.y,f.width,f.height);this.setCenter(a.get("center"));this.setZoom(a.get("zoom"))}function ap(a,b){r(b.get("geoCoord"),function(b,d){a.addGeoCoord(d,b)})}function gv(a,b,c){tg(a)[b]=c}function hv(a,b,c){a=tg(a);a[b]===c&&(a[b]=null)}function tg(a){return a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={})}function Ye(a){this._zr=a;this._opt={};var b=A(iv,this),c=A(jv,this),d=A(kv,this),e=A(lv,this),f=A(mv,this);this._$handlers={};this.setPointerChecker=function(a){this.pointerChecker=a};this.enable=function(g,h){this.disable();this._opt=H(G(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==g&&(g=!0);if(!0===g||"move"===g||"pan"===g)a.on("mousedown",b),a.on("mousemove",c),a.on("mouseup",d);if(!0===g||"scale"===g||"zoom"===g)a.on("mousewheel",e),a.on("pinch",f)};this.dispose=this.disable=function(){a.off("mousedown",b);a.off("mousemove",c);a.off("mouseup",d);a.off("mousewheel",e);a.off("pinch",f)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function iv(a){if(!(1<a.which||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function jv(a){if(!(1<a.which)&&bp(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!tg(this._zr).globalPan){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b;this._y=c;this._opt.preventDefaultMouseMove&&ec(a.event);this.trigger("pan",f,g,d,e,b,c)}}function kv(a){1<a.which||(this._dragging=!1)}function lv(a){if(bp(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=0<a.wheelDelta?1.1:1/1.1,c=a.offsetX,d=a.offsetY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(ec(a.event),this.trigger("zoom",b,c,d))}}function mv(a){if(!tg(this._zr).globalPan){var b=1<a.pinchScale?1.1:1/1.1,c=a.pinchX,d=a.pinchY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(ec(a.event),this.trigger("zoom",b,c,d))}}function bp(a,b,c){return(a=a._opt[b])&&(!ya(a)||c.event[a+"Key"])}function cp(a,b,c){a=a.target;var d=a.position;d[0]+=b;d[1]+=c;a.dirty()}function dp(a,b,c,d){var e=a.target,f=a.zoomLimit,g=e.position,h=e.scale,k=a.zoom=a.zoom||1,k=k*b;f&&(k=Math.max(Math.min(f.max||Infinity,k),f.min||0));b=k/a.zoom;a.zoom=k;g[0]-=(c-g[0])*(b-1);g[1]-=(d-g[1])*(b-1);h[0]*=b;h[1]*=b;e.dirty()}function sj(a,b,c){b=(a=b.getComponentByElement(a.topTarget))&&a.coordinateSystem;return a&&a!==c&&!nv[a.mainType]&&b&&b.model!==c}function ep(a,b){var c=a.getItemStyle(),d=a.get("areaColor");null!=d&&(c.fill=d);return c}function ov(a,b,c,d,e){c.off("click");c.off("mousedown");b.get("selectedMode")&&(c.on("mousedown",function(){a._mouseDownFlag=!0}),c.on("click",function(f){if(a._mouseDownFlag){a._mouseDownFlag=!1;for(f=f.target;!f.__regions;)f=f.parent;f&&(f={type:("geo"===b.mainType?"geo":"map")+"ToggleSelect",batch:z(f.__regions,function(a){return{name:a.name,from:e.uid}})},f[b.mainType+"Id"]=b.id,d.dispatchAction(f),fp(b,c))}}))}function fp(a,b){b.eachChild(function(b){r(b.__regions,function(c){b.trigger(a.isSelected(c.name)?"emphasis":"normal")})})}function ug(a,b){var c=new F;this._controller=new Ye(a.getZr());this._controllerHost={target:b?c:null};this.group=c;this._updateGroup=b}function gp(a,b,c){var d=a.getZoom(),e=a.getCenter(),f=b.zoom,g=a.dataToPoint(e);null!=b.dx&&null!=b.dy&&(g[0]-=b.dx,g[1]-=b.dy,e=a.pointToData(g),a.setCenter(e));null!=f&&(c&&(f=Math.max(Math.min(d*f,c.max||Infinity),c.min||0)/d),a.scale[0]*=f,a.scale[1]*=f,c=a.position,e=(b.originY-c[1])*(f-1),c[0]-=(b.originX-c[0])*(f-1),c[1]-=e,a.updateTransform(),e=a.pointToData(g),a.setCenter(e),a.setZoom(f*d));return{center:a.getCenter(),zoom:a.getZoom()}}function pv(a,b){var c={},d=["value"];r(a,function(a){a.each(d,function(b,d){var e="ec-"+a.getName(d);c[e]=c[e]||[];isNaN(b)||c[e].push(b)})});return a[0].map(d,function(d,f){for(var e="ec-"+a[0].getName(f),h=0,k=Infinity,l=-Infinity,m=c[e].length,p=0;p<m;p++)k=Math.min(k,c[e][p]),l=Math.max(l,c[e][p]),h+=c[e][p];e="min"===b?k:"max"===b?l:"average"===b?h/m:h;return 0===m?NaN:e})}function hp(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"});a.datas=a.mainData=null;ip(b,c,a);Ze(c,function(c){Ze(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,C(qv,a))})});b.wrapMethod("cloneShallow",C(rv,a));Ze(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,C(sv,a))});ca(c[b.dataType]===b)}function qv(a,b){if(this["\x00__link_mainData"]===this){var c=I({},this["\x00__link_datas"]);c[this.dataType]=b;ip(b,c,a)}else tj(b,this.dataType,this["\x00__link_mainData"],a);return b}function sv(a,b){a.struct&&a.struct.update(this);return b}function rv(a,b){Ze(b["\x00__link_datas"],function(c,d){c!==b&&tj(c.cloneShallow(),d,b,a)});return b}function tv(a){var b=this["\x00__link_mainData"];return null==a||null==b?b:b["\x00__link_datas"][a]}function ip(a,b,c){a["\x00__link_datas"]={};Ze(b,function(b,e){tj(b,e,a,c)})}function tj(a,b,c,d){c["\x00__link_datas"][b]=a;a["\x00__link_mainData"]=c;a.dataType=b;d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a);a.getLinkedData=tv}function Xd(a,b,c){this._nodes=[];this.hostModel=a;this.levelModels=z(b||[],function(b){return new V(b,a,a.ecModel)});this.leavesModel=new V(c||{},a,a.ecModel)}function uv(a){a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};a=[a];for(var b,c;b=a.pop();)if(c=b.children,b.isExpand&&c.length)for(b=c.length-1;0<=b;b--){var d=c[b];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null};a.push(d)}}function vv(a,b){var c=a.isExpand?a.children:[],d=a.parentNode.children,e=a.hierNode.i?d[a.hierNode.i-1]:null;if(c.length){for(var f=a.children,g=f.length,h=0,k=0;0<=--g;){var l=f[g];l.hierNode.prelim+=h;l.hierNode.modifier+=h;k+=l.hierNode.change;h+=l.hierNode.shift+k}c=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;e?(a.hierNode.prelim=e.hierNode.prelim+b(a,e),a.hierNode.modifier=a.hierNode.prelim-c):a.hierNode.prelim=c}else e&&(a.hierNode.prelim=e.hierNode.prelim+b(a,e));c=a.parentNode.hierNode;d=a.parentNode.hierNode.defaultAncestor||d[0];if(e){for(var g=f=a,h=g.parentNode.children[0],k=f.hierNode.modifier,l=g.hierNode.modifier,m=h.hierNode.modifier,p=e.hierNode.modifier;e=uj(e),g=vj(g),e&&g;){f=uj(f);h=vj(h);f.hierNode.ancestor=a;var n=e.hierNode.prelim+p-g.hierNode.prelim-l+b(e,g);if(0<n){var q=e.hierNode.ancestor.parentNode===a.parentNode?e.hierNode.ancestor:d,t=a,v=n,u=v/(t.hierNode.i-q.hierNode.i);t.hierNode.change-=u;t.hierNode.shift+=v;t.hierNode.modifier+=v;t.hierNode.prelim+=v;q.hierNode.change+=u;l+=n;k+=n}p+=e.hierNode.modifier;l+=g.hierNode.modifier;k+=f.hierNode.modifier;m+=h.hierNode.modifier}e&&!uj(f)&&(f.hierNode.thread=e,f.hierNode.modifier+=p-k);g&&!vj(h)&&(h.hierNode.thread=g,h.hierNode.modifier+=l-m,d=a)}c.defaultAncestor=d}function wv(a){a.setLayout({x:a.hierNode.prelim+a.parentNode.hierNode.modifier},!0);a.hierNode.modifier+=a.parentNode.hierNode.modifier}function jp(a){return arguments.length?a:xv}function $e(a,b){var c={};a-=Math.PI/2;c.x=b*Math.cos(a);c.y=b*Math.sin(a);return c}function yv(a,b){return Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function uj(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function vj(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function xv(a,b){return a.parentNode===b.parentNode?1:2}function kp(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)&&"none"!==a.getItemVisual(b,"symbol")}function lp(a,b,c){c.itemModel=b;c.itemStyle=b.getModel("itemStyle.normal").getItemStyle();c.hoverItemStyle=b.getModel("itemStyle.emphasis").getItemStyle();c.lineStyle=b.getModel("lineStyle.normal").getLineStyle();c.labelModel=b.getModel("label.normal");c.hoverLabelModel=b.getModel("label.emphasis");c.symbolInnerColor=!1===a.isExpand&&0!==a.children.length?c.itemStyle.fill:"#fff";return c}function mp(a,b,c,d,e,f){var g=!c,h=a.tree.getNodeByDataIndex(b),k=h.getModel();f=lp(h,k,f);var k=a.tree.root,l=h.parentNode===k?h:h.parentNode||h,m=a.getItemGraphicEl(l.dataIndex),l=l.getLayout(),m=m?{x:m.position[0],y:m.position[1],rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:l,p=h.getLayout();g?(c=new Rd(a,b,f),c.attr("position",[m.x,m.y])):c.updateData(a,b,f);c.__radialOldRawX=c.__radialRawX;c.__radialOldRawY=c.__radialRawY;c.__radialRawX=p.rawX;c.__radialRawY=p.rawY;d.add(c);a.setItemGraphicEl(b,c);Z(c,{position:[p.x,p.y]},e);a=c.getSymbolPath();if("radial"===f.layout){var n=k.children[0];b=n.getLayout();var q=n.children.length;p.x===b.x&&!0===h.isExpand?(g=(n.children[0].getLayout().x+n.children[q-1].getLayout().x)/2,n=(n.children[0].getLayout().y+n.children[q-1].getLayout().y)/2,n=Math.atan2(n-b.y,g-b.x),0>n&&(n=2*Math.PI+n),(b=g<b.x)&&(n-=Math.PI)):(n=Math.atan2(p.y-b.y,p.x-b.x),0>n&&(n=2*Math.PI+n),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(b=p.x<b.x)&&(n-=Math.PI):(b=p.x>b.x)||(n-=Math.PI));a.setStyle({textPosition:b?"left":"right",textRotation:-n,textOrigin:"center",verticalAlign:"middle"})}h.parentNode&&h.parentNode!==k&&(h=c.__edge,h||(h=c.__edge=new wj({shape:xj(f,m,m),style:H({opacity:0},f.lineStyle)})),Z(h,{shape:xj(f,l,p),style:{opacity:1}},e),d.add(h))}function np(a,b,c,d,e,f){var g=a.tree.getNodeByDataIndex(b),h=a.tree.root,k=g.getModel();f=lp(g,k,f);for(var g=g.parentNode===h?g:g.parentNode||g,l;l=g.getLayout(),null==l;)g=g.parentNode===h?g:g.parentNode||g;Z(c,{position:[l.x+1,l.y+1]},e,function(){d.remove(c);a.setItemGraphicEl(b,null)});c.fadeOut(null,{keepLabel:!0});var m=c.__edge;m&&Z(m,{shape:xj(f,l,l),style:{opacity:0}},e,function(){d.remove(m)})}function xj(a,b,c){var d,e,f,g,h=a.orient;if("radial"===a.layout){var k=b.rawX,l=b.rawY;b=c.rawX;c=c.rawY;d=$e(k,l);k=$e(k,l+(c-l)*a.curvature);a=$e(b,c+(l-c)*a.curvature);b=$e(b,c);return{x1:d.x,y1:d.y,x2:b.x,y2:b.y,cpx1:k.x,cpy1:k.y,cpx2:a.x,cpy2:a.y}}k=b.x;l=b.y;b=c.x;c=c.y;"horizontal"===h&&(d=k+(b-k)*a.curvature,e=l,f=b+(k-b)*a.curvature,g=c);"vertical"===h&&(d=k,e=l+(c-l)*a.curvature,f=b,g=c+(l-c)*a.curvature);return{x1:k,y1:l,x2:b,y2:c,cpx1:d,cpy1:e,cpx2:f,cpy2:g}}function zv(a,b,c){a=[a];for(var d=[],e;e=a.pop();)if(d.push(e),e.isExpand&&(e=e.children,e.length))for(var f=0;f<e.length;f++)a.push(e[f]);for(;e=d.pop();)b(e,c)}function af(a,b){for(var c=[a],d;d=c.pop();)if(b(d),d.isExpand&&(d=d.children,d.length))for(var e=d.length-1;0<=e;e--)c.push(d[e])}function yj(a,b){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var c=b.getData().tree.root,d=a.targetNode;if(d&&c.contains(d))return{node:d};var e=a.targetNodeId;if(null!=e&&(d=c.getNodeById(e)))return{node:d}}}function op(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function pp(a,b){var c=op(a);return 0<=R(c,b)}function qp(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)});a=a.parentNode}c.reverse();return c}function rp(a){var b=0;r(a.children,function(a){rp(a);a=a.value;x(a)&&(a=a[0]);b+=a});var c=a.value;x(c)&&(c=c[0]);if(null==c||isNaN(c))c=b;0>c&&(c=0);x(a.value)?a.value[0]=c:a.value=c}function Av(a,b){var c=b.get("color");if(c){a=a||[];var d;r(a,function(a){a=new V(a);var b=a.get("color");if(a.get("itemStyle.normal.color")||b&&"none"!==b)d=!0});d||((a[0]||(a[0]={})).color=c.slice());return a}}function zj(a){this.group=new F;a.add(this.group)}function Bv(){var a=[],b={},c;return{add:function(c,e,f,g,h){ya(g)&&(h=g,g=0);if(b[c.id])return!1;b[c.id]=1;a.push({el:c,target:e,time:f,delay:g,easing:h});return!0},done:function(a){c=a;return this},start:function(){function d(){e--;e||(a.length=0,b={},c&&c())}for(var e=a.length,f=0,g=a.length;f<g;f++){var h=a[f];h.el.animateTo(h.target,h.time,h.delay,h.easing,d)}return this}}}function bf(){return{nodeGroup:[],background:[],content:[]}}function Cv(a,b,c,d,e,f,g,h,k,l){function m(b,c,d){c.dataIndex=g.dataIndex;c.seriesIndex=a.seriesIndex;c.setShape({x:0,y:0,width:u,height:w});var e=g.getVisual("borderColor",!0),f=x.get("borderColor");n(c,function(){var a=sp(z);a.fill=e;var b=Aj(x);b.fill=f;if(d){var g=u-2*r;q(a,b,e,g,sa,{x:r,y:0,width:g,height:sa})}else a.text=b.text=null;c.setStyle(a);T(c,b)});b.add(c)}function p(b,c){c.dataIndex=g.dataIndex;c.seriesIndex=a.seriesIndex;var d=Math.max(u-2*r,0),e=Math.max(w-2*r,0);c.culling=!0;c.setShape({x:r,y:r,width:d,height:e});var f=g.getVisual("color",!0);n(c,function(){var a=sp(z);a.fill=f;var b=Aj(x);q(a,b,f,d,e);c.setStyle(a);T(c,b)});b.add(c)}function n(a,b){y?!a.invisible&&f.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function q(b,c,d,e,f,h){var k=g.getModel(),l=na(a.getFormattedLabel(g.dataIndex,"normal",null,null,h?"upperLabel":"label"),k.get("name"));if(!h&&v.isLeafRoot)var m=a.get("drillDownIcon",!0),l=m?m+" "+l:l;var m=k.getModel(h?Dv:Ev),k=k.getModel(h?Fv:Gv),n=m.getShallow("show");Db(b,c,m,k,{defaultText:n?l:null,autoColor:d,isRectText:!0});h&&(b.textRect=G(h));b.truncate=n&&m.get("ellipsis")?{outerWidth:e,outerHeight:f,minChar:2}:null}function t(a,f,h,k){var l=null!=J&&c[a][J],m=e[a];l?(c[a][J]=null,f=l,(m[E]={}).old="nodeGroup"===a?f.position.slice():I({},f.shape)):y||(l=10*h+k,l=new f({z:(l-1)/l}),l.__tmDepth=h,l.__tmStorageName=a,m=m[E]={},!(k=g.parentNode)||d&&"drillDown"!==d.direction||(h=f=0,k=e.background[k.getRawIndex()],!d&&k&&k.old&&(f=k.old.width,h=k.old.height),m.old="nodeGroup"===a?[0,h]:{x:f,y:h,width:0,height:0}),m.fadein="nodeGroup"!==a);return b[a][E]=l}if(g){var v=g.getLayout();if(v&&v.isInView){var u=v.width,w=v.height,r=v.borderWidth,y=v.invisible,E=g.getRawIndex(),J=h&&h.getRawIndex();h=g.viewChildren;var sa=v.upperHeight,Ha=h&&h.length,z=g.getModel("itemStyle.normal"),x=g.getModel("itemStyle.emphasis");if(h=t("nodeGroup",tp)){k.add(h);h.attr("position",[v.x||0,v.y||0]);h.__tmNodeWidth=u;h.__tmNodeHeight=w;if(v.isAboveViewRoot)return h;(k=t("background",up,l,1))&&m(h,k,Ha&&v.upperHeight);Ha||(l=t("content",up,l,2))&&p(h,l);return h}}}}function Hv(a){var b=a.pieceList;a.hasSpecialVisual=!1;r(b,function(b,d){b.originIndex=d;null!=b.visual&&(a.hasSpecialVisual=!0)})}function Iv(a){var b=a.categories,c=a.visual,d=a.categoryMap={};cf(b,function(a,b){d[a]=b});if(!x(c)){var e=[];Q(c)?cf(c,function(a,b){var c=d[b];e[null!=c?c:-1]=a}):e[-1]=c;c=vp(a,e)}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function Bj(a,b){var c=a.visual,d=[];Q(c)?cf(c,function(a){d.push(a)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||c.hasOwnProperty(a.type)||(d[1]=d[0]);vp(a,d)}function vg(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:Cj([0,1])}}function wp(a){var b=this.option.visual;return b[Math.round(aa(a,[0,1],[0,b.length-1],!0))]||{}}function Dj(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function wg(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function Ej(){return this.option.visual[0]}function Cj(a){return{linear:function(b){return aa(b,a,this.option.visual,!0)},category:wg,piecewise:function(b,c){var d=Fj.call(this,c);null==d&&(d=aa(b,a,this.option.visual,!0));return d},fixed:Ej}}function Fj(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=O.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function vp(a,b){a.visual=b;"color"===a.type&&(a.parsedVisual=z(b,function(a){return Ya(a)}));return b}function xg(a,b,c){return a?b<=c:b<c}function xp(a,b,c,d,e,f){var g=a.getModel(),h=a.getLayout();if(h&&!h.invisible&&h.isInView){var k=a.getModel("itemStyle.normal"),l=Jv(k,b,c[a.depth],d),m=k.get("borderColor");b=k.get("borderColorSaturation");null!=b&&(m=yp(l,a),m=null!=m?Hd(m,null,null,b):null);a.setVisual("borderColor",m);if((b=a.viewChildren)&&b.length){var p=Kv(a,g,h,k,l,b);r(b,function(a,b){if(a.depth>=e.length||a===e[a.depth]){var h=I({},l);if(p){var k=p.type,m="color"===k&&p.__drColorMappingBy,m="index"===m?b:"id"===m?f.mapIdToIndex(a.getId()):a.getValue(g.get("visualDimension"));h[k]=p.mapValueToVisual(m)}xp(a,h,c,d,e,f)}})}else m=yp(l,a),a.setVisual("color",m)}}function Jv(a,b,c,d){var e=I({},b);r(["color","colorAlpha","colorSaturation"],function(f){var g=a.get(f,!0);null==g&&c&&(g=c[f]);null==g&&(g=b[f]);null==g&&(g=d.get(f));null!=g&&(e[f]=g)});return e}function yp(a){var b=Gj(a,"color");if(b){var c=Gj(a,"colorAlpha");(a=Gj(a,"colorSaturation"))&&(b=Hd(b,null,null,a));c&&(b=Kf(b,c));return b}}function Gj(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function Kv(a,b,c,d,e,f){if(f&&f.length&&(a=Hj(b,"color")||null!=e.color&&"none"!==e.color&&(Hj(b,"colorAlpha")||Hj(b,"colorSaturation"))))return d=b.get("visualMin"),e=b.get("visualMax"),c=c.dataExtent.slice(),null!=d&&d<c[0]&&(c[0]=d),null!=e&&e>c[1]&&(c[1]=e),b=b.get("colorMappingBy"),c={type:a.name,dataExtent:c,visual:a.range},"color"!==c.type||"index"!==b&&"id"!==b?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0),c=new O(c),c.__drColorMappingBy=b,c}function Hj(a,b){var c=a.get(b);return Lv(c)&&c.length?{name:b,range:c}:null}function zp(a,b,c,d){var e,f;if(!a.isRemoved()){var g=a.getLayout();e=g.width;f=g.height;var g=a.getModel(),h=g.get(Ap),k=g.get(Mv)/2,l=Bp(g),m=Math.max(h,l),p=h-k,n=m-k,g=a.getModel();a.setLayout({borderWidth:h,upperHeight:m,upperLabelHeight:l},!0);e=df(e-2*p,0);f=df(f-p-n,0);h=e*f;a=Nv(a,g,h,b,c,d);if(a.length){p={x:p,y:n,width:e,height:f};e=yg(e,f);f=Infinity;n=[];l=n.area=0;for(m=a.length;l<m;){var q=a[l];n.push(q);n.area+=q.getLayout().area;for(var t=n,v=e,u=b.squareRatio,q=0,w=Infinity,r=0,y,E=t.length;r<E;r++)if(y=t[r].getLayout().area)y<w&&(w=y),y>q&&(q=y);t=t.area*t.area;v=v*v*u;q=t?df(v*q/t,t/(v*w)):Infinity;q<=f?(l++,f=q):(n.area-=n.pop().getLayout().area,Cp(n,e,p,k,!1),e=yg(p.width,p.height),n.length=n.area=0,f=Infinity)}n.length&&Cp(n,e,p,k,!0);c||(g=g.get("childrenVisibleMin"),null!=g&&h<g&&(c=!0));l=0;for(m=a.length;l<m;l++)zp(a[l],b,c,d+1)}}}function Nv(a,b,c,d,e,f){var g=a.children||[],h=d.sort;"asc"!==h&&"desc"!==h&&(h=null);d=null!=d.leafDepth&&d.leafDepth<=f;if(e&&!d)return a.viewChildren=[];g=Fa(g,function(a){return!a.isRemoved()});Ov(g,h);e=Pv(b,g,h);if(0===e.sum)return a.viewChildren=[];e.sum=Qv(b,c,e.sum,h,g);if(0===e.sum)return a.viewChildren=[];b=0;for(h=g.length;b<h;b++)f=g[b].getValue()/e.sum*c,g[b].setLayout({area:f});d&&(g.length&&a.setLayout({isLeafRoot:!0},!0),g.length=0);a.viewChildren=g;a.setLayout({dataExtent:e.dataExtent},!0);return g}function Qv(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var f=e.length,g=f,h=f-1;0<=h;h--){var k=e["asc"===d?f-h-1:h].getValue();k/c*b<a&&(g=h,c-=k)}"asc"===d?e.splice(0,f-g):e.splice(g,f-g);return c}function Ov(a,b){b&&a.sort(function(a,d){var c="asc"===b?a.getValue()-d.getValue():d.getValue()-a.getValue();return 0===c?"asc"===b?a.dataIndex-d.dataIndex:d.dataIndex-a.dataIndex:c});return a}function Pv(a,b,c){for(var d=0,e=0,f=b.length;e<f;e++)d+=b[e].getValue();var g=a.get("visualDimension"),h;b&&b.length?"value"===g&&c?(h=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&h.reverse()):(h=[Infinity,-Infinity],Ij(b,function(a){a=a.getValue(g);a<h[0]&&(h[0]=a);a>h[1]&&(h[1]=a)})):h=[NaN,NaN];return{sum:d,dataExtent:h}}function Cp(a,b,c,d,e){var f=b===c.width?0:1,g=1-f,h=["x","y"],k=["width","height"],l=c[h[f]];b=b?a.area/b:0;if(e||b>c[k[g]])b=c[k[g]];e=0;for(var m=a.length;e<m;e++){var p=a[e],n={},q=b?p.getLayout().area/b:0,t=n[k[g]]=df(b-2*d,0),v=c[h[f]]+c[k[f]]-l,q=e===m-1||v<q?v:q,v=n[k[f]]=df(q-2*d,0);n[h[g]]=c[h[g]]+yg(d,t/2);n[h[f]]=l+yg(d,v/2);l+=q;p.setLayout(n,!0)}c[h[g]]+=b;c[k[g]]-=b}function Rv(a,b,c,d,e){var f=(b||{}).node;b=[d,e];if(!f||f===c)return b;c=d*e;for(var g=c*a.option.zoomToNodeRatio;a=f.parentNode;){for(var h=0,k=a.children,l=0,m=k.length;l<m;l++)h+=k[l].getValue();f=f.getValue();if(0===f)return b;g*=h/f;h=a.getModel();f=h.get(Ap);h=Math.max(f,Bp(h,f));g+=4*f*f+(3*f+h)*Math.pow(g,.5);9007199254740991<g&&(g=9007199254740991);f=a}g<c&&(g=c);b=Math.pow(g/c,.5);return[d*b,e*b]}function Sv(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function Dp(a,b,c,d,e){var f=a.getLayout(),g=c[e],h=g&&g===a;if(!(g&&!h||e===c.length&&a!==d)){a.setLayout({isInView:!0,invisible:!h&&!b.intersect(f),isAboveViewRoot:h},!0);var k=new S(b.x-f.x,b.y-f.y,b.width,b.height);Ij(a.viewChildren||[],function(a){Dp(a,k,c,d,e+1)})}}function Bp(a){return a.get(Tv)?a.get(Uv):0}function kb(a,b){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==b?-1:b}function zg(a,b,c){this.node1=a;this.node2=b;this.dataIndex=null==c?-1:c}function Jj(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function Ep(a,b,c){var d=b.getItemVisual(c,"color"),e=b.getItemVisual(c,a);b=b.getItemVisual(c,a+"Size");if(e&&"none"!==e)return x(b)||(b=[b,b]),d=jb(e,-b[0]/2,-b[1]/2,b[0],b[1],d),d.name=a,d}function Vv(a){var b=new Wv({name:"line"});Kj(b.shape,a);return b}function Kj(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0];a.y1=c[1];a.x2=d[0];a.y2=d[1];a.percent=1;e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function ef(a,b,c){F.call(this);this._createLine(a,b,c)}function Fp(a){return isNaN(a[0])||isNaN(a[1])}function Gp(a){return!Fp(a[0])&&!Fp(a[1])}function Ag(a){this._ctor=a||ef;this.group=new F}function Hp(a,b,c){var d=a[0],e=a[1];a=a[2];var f=Infinity,g;c*=c;for(var h=.1,k=.1;.9>=k;k+=.1){Lj[0]=Yd(d[0],e[0],a[0],k);Lj[1]=Yd(d[1],e[1],a[1],k);var l=Ip(Mj(Lj,b)-c);l<f&&(f=l,g=k)}for(f=0;32>f;f++){l=g+h;Nj[0]=Yd(d[0],e[0],a[0],g);Nj[1]=Yd(d[1],e[1],a[1],g);Oj[0]=Yd(d[0],e[0],a[0],l);Oj[1]=Yd(d[1],e[1],a[1],l);l=Mj(Nj,b)-c;if(.01>Ip(l))break;k=Mj(Oj,b)-c;h/=2;g=0>l?0<=k?g+h:g-h:0<=k?g-h:g+h}return g}function Jp(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function Bg(a,b,c){var d=a.getGraphicEl(),e=Jp(a,b);null!=c&&(null==e&&(e=1),e*=c);d.downplay&&d.downplay();d.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",e)})}function kd(a,b){var c=Jp(a,b),d=a.getGraphicEl();d.highlight&&d.highlight();d.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",c)})}function Cg(a){a instanceof Array||(a=[a,a]);return a}function Kp(a){var b=a.coordinateSystem;b&&"view"!==b.type||(a=a.getGraph(),a.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),Lp(a))}function Lp(a){a.eachEdge(function(a){var b=a.getModel().get("lineStyle.normal.curveness")||0,d=tb(a.node1.getLayout()),e=tb(a.node2.getLayout()),f=[d,e];+b&&f.push([(d[0]+e[0])/2-(d[1]-e[1])*b,(d[1]+e[1])/2-(e[0]-d[0])*b]);a.setLayout(f)})}function Mp(a){var b=a.coordinateSystem;if(!b||"view"===b.type){b=b.getBoundingRect();a=a.getData();var c=a.graph,d=0,e=a.getSum("value"),f=2*Math.PI/(e||a.count()),g=b.width/2+b.x,h=b.height/2+b.y,k=Math.min(b.width,b.height)/2;c.eachNode(function(a){var b=a.getValue("value");d+=f*(e?b:1)/2;a.setLayout([k*Math.cos(d)+g,k*Math.sin(d)+h]);d+=f*(e?b:1)/2});a.setLayout({cx:g,cy:h});c.eachEdge(function(a){var b=a.getModel().get("lineStyle.normal.curveness")||0,c=tb(a.node1.getLayout()),d=tb(a.node2.getLayout()),e,f=(c[0]+d[0])/2,k=(c[1]+d[1])/2;+b&&(b*=3,e=[g*b+f*(1-b),h*b+k*(1-b)]);a.setLayout([c,d,e])})}}function Xv(a,b,c){var d=c.rect,e=d.width,f=d.height,g=[d.x+e/2,d.y+f/2],h=null==c.gravity?.1:c.gravity;for(c=0;c<a.length;c++)d=a[c],d.p||(d.p=kc(e*(Math.random()-.5)+g[0],f*(Math.random()-.5)+g[1])),d.pp=tb(d.p),d.edges=null;var k=.6;return{warmUp:function(){k=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){for(var d=[],e=a.length,f=0;f<b.length;f++){var l=b[f],t=l.n1,v=l.n2;Vb(d,v.p,t.p);var l=xe(d)-l.d,u=v.w/(t.w+v.w);isNaN(u)&&(u=0);Dd(d,d);!t.fixed&&Zd(t.p,t.p,d,u*l*k);!v.fixed&&Zd(v.p,v.p,d,-(1-u)*l*k)}for(f=0;f<e;f++)t=a[f],t.fixed||(Vb(d,g,t.p),Zd(t.p,t.p,d,h*k));for(f=0;f<e;f++)for(t=a[f],u=f+1;u<e;u++)v=a[u],Vb(d,v.p,t.p),l=xe(d),0===l&&(im(d,Math.random()-.5,Math.random()-.5),l=1),l=(t.rep+v.rep)/l/l,!t.fixed&&Zd(t.pp,t.pp,d,l),!v.fixed&&Zd(v.pp,v.pp,d,-l);d=[];for(f=0;f<e;f++)t=a[f],t.fixed||(Vb(d,t.p,t.pp),Zd(t.p,t.p,d,k),eb(t.pp,t.p));k*=.992;c&&c(a,b,.01>k)}}}function Yv(a,b,c){a=a.getBoxLayoutParams();a.aspect=c;return Ia(a,{width:b.getWidth(),height:b.getHeight()})}function Np(a,b){b&&("string"===typeof b?a=b.replace("{value}",null!=a?a:""):"function"===typeof b&&(a=b(a)));return a}function Pj(a,b){function c(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}F.call(this);var e=new Ma,f=new Fb,g=new P;this.add(e);this.add(f);this.add(g);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function Zv(a,b){return Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function $v(a,b){for(var c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b,f=0,g=a.count();f<g;f++)d[f]=f;"function"===typeof b?d.sort(b):"none"!==b&&d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]});return d}function aw(a){a.each(function(b){var c=a.getItemModel(b),d=c.getModel("label.normal").get("position"),e=c.getModel("labelLine.normal");b=a.getItemLayout(b);var f=b.points,c="inner"===d||"inside"===d||"center"===d,g;if(c)d=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,g=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,f="center",e=[[d,g],[d,g]];else{var h,k=e.get("length");"left"===d?(e=(f[3][0]+f[0][0])/2,g=(f[3][1]+f[0][1])/2,h=e-k,d=h-5,f="right"):(e=(f[1][0]+f[2][0])/2,g=(f[1][1]+f[2][1])/2,h=e+k,d=h+5,f="left");k=g;e=[[e,g],[h,k]];g=k}b.label={linePoints:e,x:d,y:g,verticalAlign:"middle",textAlign:f,inside:c}})}function bw(a){if(!a.parallel){var b=!1;r(a.series,function(a){a&&"parallel"===a.type&&(b=!0)});b&&(a.parallel=[{}])}}function cw(a){var b=nb(a.parallelAxis);r(b,function(b){if(Q(b)){var c=b.parallelIndex||0;(c=nb(a.parallel)[c])&&c.parallelAxisDefault&&K(b,c.parallelAxisDefault,!1)}})}function Qj(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:0<c?-1:0>c?1:b?-1:1}}function Dg(a,b){return Math.min(b[1],Math.max(b[0],a))}function Rj(a,b,c){this._axesMap=za();this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,b,c)}function Eg(a,b){return Op(Pp(a,b[0]),b[1])}function dw(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function ew(a,b){var c=b.layoutLength,d=b.axisExpandWidth,e=b.axisCount,f=b.axisCollapseWidth,g=b.winInnerIndices,h=f,k=!1,l;a<g[0]?(c=a*f,l=f):a<=g[1]?(c=b.axisExpandWindow0Pos+a*d-b.axisExpandWindow[0],h=d,k=!0):(c-=(e-1-a)*f,l=f);return{position:c,axisNameAvailableWidth:h,axisLabelShow:k,nameTruncateMaxWidth:l}}function $d(a){D&&ca(a);this._$handlers={};this._zr=a;this.group=new F;this._track=[];this._covers=[];D&&this._mounted;this._uid="brushController_"+fw++;this._handlers={};Ab(gw,function(a,c){this._handlers[c]=A(a,this)},this)}function hw(a,b){var c=a._zr;a._enableGlobalPan||gv(c,"globalPan",a._uid);Ab(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=K(G(Qp),b,!0)}function iw(a){var b=a._zr;hv(b,"globalPan",a._uid);Ab(a._handlers,function(a,d){b.off(d,a)});a._brushType=a._brushOption=null}function Rp(a,b){var c=ld[b.brushType].createCover(a,b);c.__brushOption=b;Sp(c,b);a.group.add(c);return c}function Tp(a,b){var c=ld[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),Sp(b,b.__brushOption));return b}function Sp(a,b){var c=b.z;null==c&&(c=1E4);a.traverse(function(a){a.z=c;a.z2=c})}function Sj(a,b){ld[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;ld[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function Tj(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;Ab(d,function(a){a.isTargetByCursor(b,c,f)&&(e=a)});return e}function Up(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function Uj(a){var b=a._covers,c=b.length;Ab(b,function(b){a.group.remove(b)},a);b.length=0;return!!c}function md(a,b){var c=jw(a._covers,function(a){a=a.__brushOption;var b=G(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function Vp(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function Wp(a,b,c,d){var e=new F;e.add(new ga({name:"main",style:Vj(c),silent:!0,draggable:!0,cursor:"move",drift:Gc(a,b,e,"nswe"),ondragend:Gc(md,b,{isEnd:!0})}));Ab(d,function(c){e.add(new ga({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Gc(a,b,e,c),ondragend:Gc(md,b,{isEnd:!0})}))});return e}function Xp(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=ae(e,6),g=c[0][0],h=c[1][0],k=g-e/2,l=h-e/2,m=c[0][1],p=c[1][1];c=m-f+e/2;var n=p-f+e/2,m=m-g,p=p-h,q=m+e,e=p+e;fc(a,b,"main",g,h,m,p);d.transformable&&(fc(a,b,"w",k,l,f,e),fc(a,b,"e",c,l,f,e),fc(a,b,"n",k,l,q,f),fc(a,b,"s",k,n,q,f),fc(a,b,"nw",k,l,f,f),fc(a,b,"ne",c,l,f,f),fc(a,b,"sw",k,n,f,f),fc(a,b,"se",c,n,f,f))}function Wj(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(Vj(c));e.attr({silent:!d,cursor:d?"move":"default"});Ab("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=Xj(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?kw[c]+"-resize":null})})}function fc(a,b,c,d,e,f,g){(c=b.childOfName(c))&&c.setShape(lw(Yj(a,b,[[d,e],[d+f,e+g]])))}function Vj(a){return H({strokeNoScale:!0},a.brushStyle)}function Yp(a,b,c,d){var e=[ff(a,c),ff(b,d)];a=[ae(a,c),ae(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function Xj(a,b){if(1<b.length){b=b.split("");var c=[Xj(a,b[0]),Xj(a,b[1])];"e"!==c[0]&&"w"!==c[0]||c.reverse();return c.join("")}c=Ni({w:"left",e:"right",n:"top",s:"bottom"}[b],ad(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function Zp(a,b,c,d,e,f,g,h){h=d.__brushOption;var k=a(h.range),l=$p(c,f,g);Ab(e.split(""),function(a){a=mw[a];k[a[0]][a[1]]+=l[a[0]]});h.range=b(Yp(k[0][0],k[1][0],k[0][1],k[1][1]));Sj(c,d);md(c,{isEnd:!1})}function nw(a,b,c,d,e){e=b.__brushOption.range;var f=$p(a,c,d);Ab(e,function(a){a[0]+=f[0];a[1]+=f[1]});Sj(a,b);md(a,{isEnd:!1})}function $p(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function Yj(a,b,c){return(b=Up(a,b))&&!0!==b?b.clipPath(c,a._transform):G(c)}function lw(a){var b=ff(a[0][0],a[1][0]),c=ff(a[0][1],a[1][1]),d=ae(a[0][0],a[1][0]);a=ae(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:a-c}}function Zj(a){a=a.event;a.preventDefault&&a.preventDefault()}function ak(a,b,c){return a.childOfName("main").contain(b,c)}function aq(a,b,c,d){var e=a._creatingCover,f=a._creatingPanel,g=a._brushOption,h;a._track.push(c.slice());var k;var l=a._track;if(l.length){k=l[l.length-1];var m=l[0],l=k[0]-m[0];k=k[1]-m[1];k=6<ow(l*l+k*k,.5)}else k=!1;k||e?(f&&!e&&("single"===g.brushMode&&Uj(a),e=G(g),e.brushType=bq(e.brushType,f),e.panelId=!0===f?null:f.panelId,e=a._creatingCover=Rp(a,e),a._covers.push(e)),e&&(f=ld[bq(a._brushType,f)],e.__brushOption.range=f.getCreatingRange(Yj(a,e,a._track)),d&&(Tp(a,e),f.updateCommon(a,e)),f=e.__brushOption,ld[e.__brushOption.brushType].updateCoverShape(a,e,f.range,f),h={isEnd:d})):d&&"single"===g.brushMode&&g.removeOnClick&&Tj(a,b,c)&&Uj(a)&&(h={isEnd:d,removeOnClick:!0});return h}function bq(a,b){return"auto"===a?(D&&ca(b&&b.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),b.defaultBrushType):a}function cq(a){if(this._dragging){Zj(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a=aq(this,a,b,!0);this._dragging=!1;this._track=[];this._creatingCover=null;a&&md(this,a)}}function dq(a){return{createCover:function(b,c){return Wp(Gc(Zp,function(b){b=[b,[0,100]];a&&b.reverse();return b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=Vp(b);b=ff(c[0][a],c[1][a]);c=ae(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(b,c,d,e){var f;f=Up(b,c);!0!==f&&f.getLinearBrushOtherExtent?f=f.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,f=[0,[f.getWidth(),f.getHeight()][1-a]]);d=[d,f];a&&d.reverse();Xp(b,c,d,e)},updateCommon:Wj,contain:ak}}function eq(a){a=S.create(a);return function(b,c){return Gn(b,a)}}function fq(a,b){a=S.create(a);return function(c){var d=(c=null!=b?b:c)?a.x:a.y;return[d,d+((c?a.width:a.height)||0)]}}function gq(a,b,c){a=S.create(a);return function(d,e,f){return a.contain(e[0],e[1])&&!sj(d,b,c)}}function hq(a){var b=a.axis;return z(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}function bk(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}function pw(a,b,c){var d=a.get("data"),e=+b.replace("dim","");d&&d.length&&r(c,function(a){if(a){var b=R(d,a[e]);a[e]=0<=b?b:NaN}})}function qw(a,b){var c=0;r(a,function(a){a=+a.replace("dim","");a>c&&(c=a)});var d=b[0];d&&d.length-1>c&&(c=d.length-1);for(var d=[],e=0;e<=c;e++)d.push("dim"+e);return d}function rw(a,b,c){var d=a.model;a=a.getRect();var e=new ga({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),d="horizontal"===d.get("layout")?"width":"height";e.setShape(d,0);hb(e,{shape:{width:a.width,height:a.height}},b,c);return e}function iq(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g=c[f],h=a.get(g,b);("category"===d.getAxis(g).type?null==h:null==h||isNaN(h))||e.push(d.dataToPoint(h,g))}return e}function sw(a,b){var c=a.hostModel.getModel("lineStyle.normal"),d=c.getLineStyle();a.eachItemGraphicEl(function(e,f){a.hasItemOption&&(d=a.getItemModel(f).getModel("lineStyle.normal",c).getLineStyle(["color","stroke"]));e.useStyle(I(d,{fill:null,stroke:a.getItemVisual(f,"color"),opacity:a.getItemVisual(f,"opacity")}));e.shape.smooth=b})}function tw(a,b,c){var d=new ga({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});hb(d,{shape:{width:a.width+20,height:a.height+20}},b,c);return d}function ck(){function a(b,d){if(d>=c.length)return b;for(var e=-1,f=b.length,k=c[d++],l={},m={};++e<f;){var p=k(b[e]),n=m[p];n?n.push(b[e]):m[p]=[b[e]]}r(m,function(b,c){l[c]=a(b,d)});return l}function b(a,f){if(f>=c.length)return a;var e=[],h=d[f++];r(a,function(a,c){e.push({key:c,values:b(a,f)})});return h?e.sort(function(a,b){return h(a.key,b.key)}):e}var c=[],d=[];return{key:function(a){c.push(a);return this},sortKeys:function(a){d[c.length-1]=a;return this},entries:function(c){return b(a(c,0),0)}}}function uw(a,b){return Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function vw(a,b,c,d,e,f,g){for(var h=a,k,l=0;h.length;){k=[];for(var m=0,p=h.length;m<p;m++){var n=h[m];n.setLayout({x:l},!0);n.setLayout({dx:c},!0);for(var q=0,t=n.outEdges.length;q<t;q++)k.push(n.outEdges[q].node2)}h=k;++l}ww(a,l);xw(a,(e-c)/(l-1));yw(a,b,f,d,g);zw(a)}function Aw(a){r(a,function(a){var b=be(a.outEdges,Fg),d=be(a.inEdges,Fg);a.setLayout({value:Math.max(b,d)},!0)})}function ww(a,b){r(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function xw(a,b){r(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function yw(a,b,c,d,e){var f=ck().key(function(a){return a.getLayout().x}).sortKeys(Bw).entries(a).map(function(a){return a.values});Cw(a,f,b,c,d);dk(f,d,c);for(a=1;0<e;e--)a*=.99,Dw(f,a),dk(f,d,c),Ew(f,a),dk(f,d,c)}function Cw(a,b,c,d,e){var f=[];r(b,function(a){var b=a.length,c=0;r(a,function(a){c+=a.getLayout().value});f.push((d-(b-1)*e)/c)});f.sort(function(a,b){return a-b});var g=f[0];r(b,function(a){r(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*g;a.setLayout({dy:c},!0)})});r(c,function(a){var b=+a.getValue()*g;a.setLayout({dy:b},!0)})}function dk(a,b,c){r(a,function(a){var d,f;f=0;var g=a.length,h;a.sort(Fw);for(h=0;h<g;h++)d=a[h],f-=d.getLayout().y,0<f&&(f=d.getLayout().y+f,d.setLayout({y:f},!0)),f=d.getLayout().y+d.getLayout().dy+b;f=f-b-c;if(0<f)for(f=d.getLayout().y-f,d.setLayout({y:f},!0),f=d.getLayout().y,h=g-2;0<=h;--h)d=a[h],f=d.getLayout().y+d.getLayout().dy+b-f,0<f&&(f=d.getLayout().y-f,d.setLayout({y:f},!0)),f=d.getLayout().y})}function Dw(a,b){r(a.slice().reverse(),function(a){r(a,function(a){if(a.outEdges.length){var c=be(a.outEdges,Gw)/be(a.outEdges,Fg),c=a.getLayout().y+(c-Gg(a))*b;a.setLayout({y:c},!0)}})})}function Gw(a){return Gg(a.node2)*a.getValue()}function Ew(a,b){r(a,function(a){r(a,function(a){if(a.inEdges.length){var c=be(a.inEdges,Hw)/be(a.inEdges,Fg),c=a.getLayout().y+(c-Gg(a))*b;a.setLayout({y:c},!0)}})})}function Hw(a){return Gg(a.node1)*a.getValue()}function zw(a){r(a,function(a){a.outEdges.sort(Iw);a.inEdges.sort(Jw)});r(a,function(a){var b=0,d=0;r(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});r(a.inEdges,function(a){a.setLayout({ty:d},!0);d+=a.getLayout().dy})})}function Iw(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function Jw(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function be(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var f=+b.call(a,a[e],e);isNaN(f)||(c+=f)}return c}function Gg(a){return a.getLayout().y+a.getLayout().dy/2}function Fw(a,b){return a.getLayout().y-b.getLayout().y}function Bw(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function Fg(a){return a.getValue()}function Hg(a,b,c,d){F.call(this);this.styleUpdater=c;this._createContent(a,b,d);this.updateData(a,b,d)}function jq(a,b,c){return z(a,function(a){a=a.slice();a[b]=c.initBaseline;return a})}function kq(a){var b={};r(a,function(a,d){b["ends"+d]=a});return b}function lq(a){this.group=new F;this.styleUpdater=a}function Kw(a,b,c){var d=b.getItemModel(c),e=d.getModel(Lw);b=b.getItemVisual(c,"color");e=e.getItemStyle(["borderColor"]);c=a.childAt(a.whiskerIndex);c.style.set(e);c.style.stroke=b;c.dirty();c=a.childAt(a.bodyIndex);c.style.set(e);c.style.stroke=b;c.dirty();d=d.getModel(Mw).getItemStyle();T(a,d)}function Nw(a){var b=[],c=[];a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),f=R(c,d);0>f&&(f=c.length,c[f]=d,b[f]={axis:d,seriesModels:[]});b[f].seriesModels.push(a)});return b}function Ow(a){var b=a.axis,c=a.seriesModels,d=c.length,e=a.boxWidthList=[],f=a.boxOffsetList=[],g=[],h;if("category"===b.type)h=b.getBandWidth();else{var k=0;gf(c,function(a){k=Math.max(k,a.getData().count())});a=b.getExtent();Math.abs(a[1]-a[0])/k}gf(c,function(a){a=a.get("boxWidth");x(a)||(a=[a,a]);g.push([B(a[0],h)||0,B(a[1],h)||0])});a=.8*h-2;var l=a/d*.3,m=(a-l*(d-1))/d,p=m/2-a/2;gf(c,function(a,b){f.push(p);p+=l+m;e.push(Math.min(Math.max(m,g[b][0]),g[b][1]))})}function Pw(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=c/2,g=a.get("layout"),h="horizontal"===g?0:1,k=1-h,l=["x","y"],m=[],p;r(e.dimensions,function(a){var b=e.getDimensionInfo(a).coordDim;b===l[k]?m.push(a):b===l[h]&&(p=a)});null==p||5>m.length||e.each([p].concat(m),function(){function a(a){var c=[];c[h]=u;c[k]=a;isNaN(u)||isNaN(a)?a=[NaN,NaN]:(a=d.dataToPoint(c),a[h]+=b);return a}function c(a,b){var c=a.slice(),d=a.slice();c[h]+=f;d[h]-=f;b?sa.push(c,d):sa.push(d,c)}function l(a){a=[a.slice(),a.slice()];a[0][h]-=f;a[1][h]+=f;J.push(a)}var p=arguments,u=p[0],w=p[m.length+1],r=a(p[3]),y=a(p[1]),E=a(p[5]),J=[[y,a(p[2])],[E,a(p[4])]];l(y);l(E);l(r);var sa=[];c(J[0][1],0);c(J[1][1],1);e.setItemLayout(w,{chartLayout:g,initBaseline:r[k],median:r,bodyEnds:sa,whiskerEnds:J})})}function Qw(a,b,c){var d=b.getItemModel(c),e=d.getModel(Rw),f=b.getItemVisual(c,"color");b=b.getItemVisual(c,"borderColor")||f;e=e.getItemStyle(["color","color0","borderColor","borderColor0"]);c=a.childAt(a.whiskerIndex);c.useStyle(e);c.style.stroke=b;c=a.childAt(a.bodyIndex);c.useStyle(e);c.style.fill=f;c.style.stroke=b;d=d.getModel(Sw).getItemStyle();T(a,d)}function Tw(a,b){var c=a.getBaseAxis(),d,c="category"===c.type?c.getBandWidth():(d=c.getExtent(),Math.abs(d[1]-d[0])/b.count());d=B(mq(a.get("barMaxWidth"),c),c);var e=B(mq(a.get("barMinWidth"),1),c),f=a.get("barWidth");return null!=f?B(f,c):Math.max(Math.min(c/2,d),e)}function Uw(a){x(a)||(a=[+a,+a]);return a}function nq(a,b){a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function ek(a,b){F.call(this);var c=new Rd(a,b),d=new F;this.add(c);this.add(d);d.beforeUpdate=function(){this.attr(c.getScale())};this.updateData(a,b)}function oq(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(D&&console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=z(b,function(a){var b={coords:[a[0].coord,a[1].coord]};a[0].name&&(b.fromName=a[0].name);a[1].name&&(b.toName=a[1].name);return te([b,a[0],a[1]])}))}function hf(a,b,c){F.call(this);this.add(this.createLine(a,b,c));this._updateEffectSymbol(a,b)}function Ig(a,b,c){F.call(this);this._createPolyline(a,b,c)}function fk(a,b,c){hf.call(this,a,b,c);this._lastFramePercent=this._lastFrame=0}function pq(){this.group=new F;this._lineEl=new Vw}function Jg(a){a instanceof Array||(a=[a,a]);return a}function qq(){this.canvas=Bd();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}function Ww(a,b,c){var d=a[1]-a[0];b=z(b,function(b){return{interval:[(b.interval[0]-a[0])/d,(b.interval[1]-a[0])/d]}});var e=b.length,f=0;return function(a){for(var d=f;d<e;d++){var g=b[d].interval;if(g[0]<=a&&a<=g[1]){f=d;break}}if(d===e)for(d=f-1;0<=d;d--)if(g=b[d].interval,g[0]<=a&&a<=g[1]){f=d;break}return 0<=d&&d<e&&c[d]}}function Xw(a,b){var c=a[1]-a[0];b=[(b[0]-a[0])/c,(b[1]-a[0])/c];return function(a){return a>=b[0]&&a<=b[1]}}function Yw(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}function rq(a,b,c,d){var e=a.getItemLayout(b),f=c.get("symbolRepeat"),g=c.get("symbolClip"),h=c.get("symbolPosition")||"start",k=(c.get("symbolRotate")||0)*Math.PI/180||0,l=c.get("symbolPatternSize")||2,m=c.isAnimationEnabled(),g={dataIndex:b,layout:e,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,"color"),symbolClip:g,symbolRepeat:f,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:k,animationModel:m?c:null,hoverAnimation:m&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0},m=d.valueDim,p=c.get("symbolBoundingData"),n=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),q=n.toGlobalCoord(n.dataToCoord(0)),t=1-+(0>=e[m.wh]);x(p)?(p=[n.toGlobalCoord(n.dataToCoord(n.scale.parse(p[0])))-q,n.toGlobalCoord(n.dataToCoord(n.scale.parse(p[1])))-q],p[1]<p[0]&&p.reverse(),t=p[t]):t=null!=p?n.toGlobalCoord(n.dataToCoord(n.scale.parse(p)))-q:f?d.coordSysExtent[m.index][t]-q:e[m.wh];g.boundingLength=t;f&&(g.repeatCutLength=e[m.wh]);g.pxSign=0<t?1:0>t?-1:0;m=g.boundingLength;t=g.pxSign;p=d.valueDim;n=d.categoryDim;q=Math.abs(e[n.wh]);a=a.getItemVisual(b,"symbolSize");x(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[n.index]=B(a[n.index],q);a[p.index]=B(a[p.index],f?q:Math.abs(m));g.symbolSize=a;(g.symbolScale=[a[0]/l,a[1]/l])[p.index]*=(d.isHorizontal?-1:1)*t;l=g.symbolScale;if(a=c.get(Zw)||0)gk.attr({scale:l.slice(),rotation:k}),gk.updateTransform(),a/=gk.getLineScale(),a*=l[d.valueDim.index];g.valueLineWidth=a;var v=g.symbolSize,k=c.get("symbolOffset");x(k)&&(k=[B(k[0],v[0]),B(k[1],v[1])]);b=k;m=g.boundingLength;t=g.repeatCutLength;k=d.categoryDim;l=d.valueDim;a=g.pxSign;n=p=Math.max(v[l.index]+g.valueLineWidth,0);if(f){n=Math.abs(m);c=na(c.get("symbolMargin"),"15%")+"";q=!1;c.lastIndexOf("!")===c.length-1&&(q=!0,c=c.slice(0,c.length-1));c=B(c,v[l.index]);var u=Math.max(p+2*c,0),w=q?0:2*c,r=Ym(f),v=r?f:sq((n+w)/u);c=(n-v*p)/2/(q?v:v-1);u=p+2*c;w=q?0:2*c;r||"fixed"===f||(v=t?sq((Math.abs(t)+w)/u):0);n=v*u-w;g.repeatTimes=v;g.symbolMargin=c}f=n/2*a;c=g.pathPosition=[];c[k.index]=e[k.wh]/2;c[l.index]="start"===h?f:"end"===h?m-f:m/2;b&&(c[0]+=b[0],c[1]+=b[1]);h=g.bundlePosition=[];h[k.index]=e[k.xy];h[l.index]=e[l.xy];h=g.barRectShape=I({},e);h[l.wh]=a*Math.max(Math.abs(e[l.wh]),Math.abs(c[l.index]+f));h[k.wh]=e[k.wh];h=g.clipShape={};h[k.xy]=-e[k.xy];h[k.wh]=d.ecSize[k.wh];h[l.xy]=0;h[l.wh]=e[l.wh];return g}function tq(a){var b=a.symbolPatternSize;a=jb(a.symbolType,-b/2,-b/2,b,b,a.color);a.attr({culling:!0});"image"!==a.type&&a.setStyle({strokeNoScale:!0});return a}function uq(a,b,c,d){function e(a){var b=k.slice(),d=c.pxSign,e=a;if("start"===c.symbolRepeatDirection?0<d:0>d)e=m-1-a;b[l.index]=n*(e-m/2+.5)+k[l.index];return{position:b,scale:c.symbolScale.slice(),rotation:c.rotation}}function f(){jf(a,function(a){a.trigger("emphasis")})}function g(){jf(a,function(a){a.trigger("normal")})}var h=a.__pictorialBundle,k=c.pathPosition,l=b.valueDim,m=c.repeatTimes||0,p=0,n=c.symbolSize[b.valueDim.index]+c.valueLineWidth+2*c.symbolMargin;for(jf(a,function(a){a.__pictorialAnimationIndex=p;a.__pictorialRepeatTimes=m;p<m?ce(a,null,e(p),c,d):ce(a,null,{scale:[0,0]},c,d,function(){h.remove(a)});hk(a,c);p++});p<m;p++){b=tq(c);b.__pictorialAnimationIndex=p;b.__pictorialRepeatTimes=m;h.add(b);var q=e(p);ce(b,{position:q.position,scale:[0,0]},{scale:q.scale,rotation:q.rotation},c,d);b.on("mouseover",f).on("mouseout",g);hk(b,c)}}function vq(a,b,c,d){function e(){this.trigger("emphasis")}function f(){this.trigger("normal")}b=a.__pictorialBundle;var g=a.__pictorialMainPath;g?ce(g,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(g=a.__pictorialMainPath=tq(c),b.add(g),ce(g,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),g.on("mouseover",e).on("mouseout",f));hk(g,c)}function wq(a,b,c){var d=I({},b.barRectShape),e=a.__pictorialBarRect;e?ce(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new ga({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function xq(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=I({},c.clipShape);b=b.valueDim;var g=c.animationModel,h=c.dataIndex;e?Z(e,{shape:f},g,h):(f[b.wh]=0,e=new ga({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e,a={},a[b.wh]=c.clipShape[b.wh],Pa[d?"updateProps":"initProps"](e,{shape:a},g,h))}}function yq(a,b){var c=a.getItemModel(b);c.getAnimationDelayParams=$w;c.isAnimationEnabled=ax;return c}function $w(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function ax(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function hk(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function zq(a,b,c,d){var e=new F,f=new F;e.add(f);e.__pictorialBundle=f;f.attr("position",c.bundlePosition.slice());c.symbolRepeat?uq(e,b,c):vq(e,b,c);wq(e,c,d);xq(e,b,c,d);e.__pictorialShapeStr=Aq(a,c);e.__pictorialSymbolMeta=c;return e}function Bq(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text=null);var f=[];jf(d,function(a){f.push(a)});d.__pictorialMainPath&&f.push(d.__pictorialMainPath);d.__pictorialClipPath&&(c=null);r(f,function(a){Z(a,{scale:[0,0]},c,b,function(){d.parent&&d.parent.remove(d)})});a.setItemGraphicEl(b,null)}function Aq(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function jf(a,b,c){r(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function ce(a,b,c,d,e,f){b&&a.attr(b);d.symbolClip&&!e?c&&a.attr(c):c&&Pa[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function Cq(a,b,c){var d=c.color,e=c.dataIndex,f=c.itemModel,g=f.getModel("itemStyle.normal").getItemStyle(["color"]),h=f.getModel("itemStyle.emphasis").getItemStyle(),k=f.getShallow("cursor");jf(a,function(a){a.setColor(d);a.setStyle(H({fill:d,opacity:c.opacity},g));T(a,h);k&&(a.cursor=k);a.z2=c.z2});var l={};a=a.__pictorialBarRect;Qo(a.style,l,f,d,b.seriesModel,e,b.valueDim.posDesc[+(0<c.boundingLength)]);T(a,l)}function sq(a){var b=Math.round(a);return 1E-4>Math.abs(a-b)?b:Math.ceil(a)}function Kg(a,b,c){this.dimension="single";this.dimensions=["single"];this._axis=null;this._init(a,b,c);this.model=a}function ik(a,b){b=b||{};var c=a.axis,d={},e=c.position,f=c.orient,g=a.coordinateSystem.getRect(),g=[g.x,g.x+g.width,g.y,g.y+g.height],h={top:g[2],bottom:g[3]},k={left:g[0],right:g[1]};d.position=["vertical"===f?k[e]:g[0],"horizontal"===f?h[e]:g[3]];d.rotation=Math.PI/2*{horizontal:0,vertical:1}[f];d.labelDirection=d.tickDirection=d.nameDirection={top:-1,bottom:1,right:1,left:-1}[e];a.get("axisTick.inside")&&(d.tickDirection=-d.tickDirection);na(b.labelInside,a.get("axisLabel.inside"))&&(d.labelDirection=-d.labelDirection);f=b.rotate;null==f&&(f=a.get("axisLabel.rotate"));d.labelRotation="top"===e?-f:f;d.labelInterval=c.getLabelInterval();d.z2=1;return d}function Dq(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b))if(a.involveSeries){var g=bx(b,a),h=g.payloadBatch,k=g.snapToValue;h[0]&&null==e.seriesIndex&&I(e,h[0]);!d&&a.snap&&f.containData(k)&&null!=k&&(b=k);c.showPointer(a,b,h,e);c.showTooltip(a,g,k)}else c.showPointer(a,b)}function bx(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;Kb(b.seriesModels,function(b,l){var k=b.coordDimToDataDim(d),p;if(b.getAxisTooltipData)k=b.getAxisTooltipData(k,a,c),p=k.dataIndices,k=k.nestestValue;else{p=b.getData().indicesOfNearest(k[0],a,!1,"category"===c.type?.5:null);if(!p.length)return;k=b.getData().get(k[0],p[0])}if(null!=k&&isFinite(k)){var n=a-k,q=Math.abs(n);if(q<=g){if(q<g||0<=n&&0>h)g=q,h=n,e=k,f.length=0;Kb(p,function(a){f.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})})}}});return{payloadBatch:f,snapToValue:e}}function cx(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function dx(a,b,c,d){c=c.payloadBatch;var e=b.axis,f=e.model,g=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var h=Xe(b),k=a.map[h];k||(k=a.map[h]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},a.list.push(k));k.dataByAxis.push({axisDim:e.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:d,valueLabelOpt:{precision:g.get("label.precision"),formatter:g.get("label.formatter")},seriesDataIndices:c.slice()})}}function ex(a,b,c){var d=c.axesInfo=[];Kb(b,function(b,c){var e=b.axisPointerModel.option,f=a[c];f?(!b.useHandle&&(e.status="show"),e.value=f.value,e.seriesDataIndices=(f.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide");"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function fx(a,b,c,d){if(Lg(b)||!a.list.length)d({type:"hideTip"});else{var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}}function gx(a,b,c){b=c.getZr();var d=Eq(b).axisPointerLastHighlights||{},e=Eq(b).axisPointerLastHighlights={};Kb(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&Kb(c.seriesDataIndices,function(a){e[a.seriesIndex+" | "+a.dataIndex]=a})});var f=[],g=[];r(d,function(a,b){!e[b]&&g.push(a)});r(e,function(a,b){!d[b]&&f.push(a)});g.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:g});f.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:f})}function Fq(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;c.axisIndex=c[a+"AxisIndex"]=b.componentIndex;c.axisName=c[a+"AxisName"]=b.name;c.axisId=c[a+"AxisId"]=b.id;return c}function Lg(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function Gq(a,b,c){if(!ba.node){var d=b.getZr();gc(d).records||(gc(d).records={});hx(d,b);(gc(d).records[a]||(gc(d).records[a]={})).handler=c}}function hx(a,b){function c(c,e){a.on(c,function(c){var d=ix(b);jx(gc(a).records,function(a){a&&e(a,c,d.dispatchAction)});kx(d.pendings,b)})}gc(a).initialized||(gc(a).initialized=!0,c("click",C(Hq,"click")),c("mousemove",C(Hq,"mousemove")),c("globalout",lx))}function kx(a,b){var c=a.showTip.length,d=a.hideTip.length,e;c?e=a.showTip[c-1]:d&&(e=a.hideTip[d-1]);e&&(e.dispatchAction=null,b.dispatchAction(e))}function lx(a,b,c){a.handler("leave",null,c)}function Hq(a,b,c,d){b.handler(a,c,d)}function ix(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function jk(a,b){if(!ba.node){var c=b.getZr();(gc(c).records||{})[a]&&(gc(c).records[a]=null)}}function nd(){}function Iq(a,b,c,d){Jq(od(c).lastProp,d)||(od(c).lastProp=d,b?Z(c,d,a):(c.stopAnimation(),c.attr(d)))}function Jq(a,b){if(Q(a)&&Q(b)){var c=!0;r(b,function(b,e){c=c&&Jq(a[e],b)});return!!c}return a===b}function Kq(a,b){a[b.get("label.show")?"show":"hide"]()}function kk(a){return{position:a.position.slice(),rotation:a.rotation||0}}function Lq(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function lk(a){var b=a.get("type");a=a.getModel(b+"Style");var c;"line"===b?(c=a.getLineStyle(),c.fill=null):"shadow"===b&&(c=a.getAreaStyle(),c.stroke=null);return c}function Mq(a,b,c,d,e){var f=c.get("value"),f=Nq(f,b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")});c=c.getModel("label");var g=cd(c.get("padding")||0),h=c.getFont(),k=$b(f,h),l=e.position,m=k.width+g[1]+g[3],g=k.height+g[0]+g[2],k=e.align;"right"===k&&(l[0]-=m);"center"===k&&(l[0]-=m/2);e=e.verticalAlign;"bottom"===e&&(l[1]-=g);"middle"===e&&(l[1]-=g/2);e=d.getWidth();d=d.getHeight();l[0]=Math.min(l[0]+m,e)-m;l[1]=Math.min(l[1]+g,d)-g;l[0]=Math.max(l[0],0);l[1]=Math.max(l[1],0);(d=c.get("backgroundColor"))&&"auto"!==d||(d=b.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:m,height:g,r:c.get("borderRadius")},position:l.slice(),style:{text:f,textFont:h,textFill:c.getTextColor(),textPosition:"inside",fill:d,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function Nq(a,b,c,d,e){var f=b.scale.getLabel(a,{precision:e.precision});if(e=e.formatter){var g={value:ij(b,a),seriesData:[]};r(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex);a=a.dataIndexInside;(b=b&&b.getDataParams(a))&&g.seriesData.push(b)});ya(e)?f=e.replace("{value}",f):jc(e)&&(f=e(g))}return f}function mk(a,b,c){var d=Yb();Vc(d,d,c.rotation);Nb(d,d,c.position);return Eb([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function Oq(a,b,c,d,e,f){var g=db.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get("label.margin");Mq(b,d,e,f,{position:mk(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function nk(a,b,c){c=c||0;return{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function Pq(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function Qq(a,b){var c={};c[b.dim+"AxisIndex"]=b.index;return a.getCartesian(c)}function ok(a,b){var c=a.getRect();return[c[Rq[b]],c[Rq[b]]+c[mx[b]]]}function nx(a,b,c){var d=new ga({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});hb(d,{shape:{width:a.width+20,height:a.height+20}},b,c);return d}function Sq(a,b,c){if(a.count()){var d=b.coordinateSystem;b=b.getLayerSeries();var e=z(b,function(b){return z(b.indices,function(b){var c=d.dataToPoint(a.get("time",b));c[1]=a.get("value",b);return c})}),f=ox(e),g=f.y0;c/=f.max;for(var f=b.length,h=b[0].indices.length,k,l=0;l<h;++l){k=g[l]*c;a.setItemLayout(b[0].indices[l],{layerIndex:0,x:e[0][l][0],y0:k,y:e[0][l][1]*c});for(var m=1;m<f;++m)k+=e[m-1][l][1]*c,a.setItemLayout(b[m].indices[l],{layerIndex:m,x:e[m][l][0],y0:k,y:e[m][l][1]*c})}}}function ox(a){for(var b=a.length,c=a[0].length,d=[],e=[],f=0,g,h={},k=0;k<c;++k){var l=0;for(g=0;l<b;++l)g+=a[l][k][1];g>f&&(f=g);d.push(g)}for(a=0;a<c;++a)e[a]=(f-d[a])/2;for(a=f=0;a<c;++a)b=d[a]+e[a],b>f&&(f=b);h.y0=e;h.max=f;return h}function px(a,b){b=b||[0,0];return z(["x","y"],function(c,d){var e=this.getAxis(c),f=b[d],g=a[d]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g))},this)}function qx(a,b){b=b||[0,0];return z([0,1],function(c){var d=b[c],e=a[c]/2,f=[],g=[];f[c]=d-e;g[c]=d+e;f[1-c]=g[1-c]=b[1-c];return Math.abs(this.dataToPoint(f)[c]-this.dataToPoint(g)[c])},this)}function rx(a,b){var c=this.getAxis(),d=b instanceof Array?b[0]:b,e=(a instanceof Array?a[0]:a)/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-e)-c.dataToCoord(d+e))}function sx(a,b){return z(["Radius","Angle"],function(c,d){var e=this["get"+c+"Axis"](),f=b[d],g=a[d]/2,h="dataTo"+c,e="category"===e.type?e.getBandWidth():Math.abs(e[h](f-g)-e[h](f+g));"Angle"===c&&(e=e*Math.PI/180);return e},this)}function tx(a,b,c,d,e,f){e={};var g=c.style||{};c.shape&&(e.shape=G(c.shape));c.position&&(e.position=c.position.slice());c.scale&&(e.scale=c.scale.slice());c.origin&&(e.origin=c.origin.slice());c.rotation&&(e.rotation=c.rotation);if("image"===a.type&&c.style){var h=e.style={};r(["x","y","width","height"],function(b){var c=a.style;null==g[b]||f||(h[b]=g[b],g[b]=c[b])})}"text"===a.type&&c.style&&(h=e.style={},r(["x","y"],function(b){var c=a.style;null==g[b]||f||(h[b]=g[b],g[b]=c[b])}),!g.hasOwnProperty("textFill")&&g.fill&&(g.textFill=g.fill),!g.hasOwnProperty("textStroke")&&g.stroke&&(g.textStroke=g.stroke));if("group"!==a.type&&(a.useStyle(g),f)){a.style.opacity=0;var k=g.opacity;null==k&&(k=1);hb(a,{style:{opacity:k}},d,b)}f?a.attr(e):Z(a,e,d,b);a.attr({z2:c.z2||0,silent:c.silent});!1!==c.styleEmphasis&&T(a,c.styleEmphasis)}function ux(a,b,c,d){function e(a){null==a&&(a=m);p&&(n=b.getItemModel(a),q=n.getModel(vx),t=n.getModel(wx),v=qo(b),u=b.getItemVisual(a,"color"),p=!1)}var f=a.get("renderItem"),g=a.coordinateSystem,h={};g&&(D&&(ca(f,"series.render is required."),ca(g.prepareCustoms||Tq[g.type],"This coordSys does not support custom series.")),h=g.prepareCustoms?g.prepareCustoms():Tq[g.type](g));var k=H({getWidth:d.getWidth,getHeight:d.getHeight,getZr:d.getZr,getDevicePixelRatio:d.getDevicePixelRatio,value:function(a,c){null==c&&(c=m);return b.get(b.getDimension(a||0),c)},style:function(c,d){null==d&&(d=m);e(d);var f=n.getModel(xx).getItemStyle();null!=u&&(f.fill=u);var g=b.getItemVisual(d,"opacity");null!=g&&(f.opacity=g);null!=v&&(ua(f,q,null,{autoColor:u,isRectText:!0}),f.text=q.getShallow("show")?pa(a.getFormattedLabel(d,"normal"),b.get(v,d)):null);c&&I(f,c);return f},styleEmphasis:function(c,d){null==d&&(d=m);e(d);var f=n.getModel(yx).getItemStyle();null!=v&&(ua(f,t,null,{isRectText:!0},!0),f.text=t.getShallow("show")?Tc(a.getFormattedLabel(d,"emphasis"),a.getFormattedLabel(d,"normal"),b.get(v,d)):null);c&&I(f,c);return f},visual:function(a,c){null==c&&(c=m);return b.getItemVisual(c,a)},barLayout:function(a){if(g.getBaseAxis){var b=g.getBaseAxis();return sg.getLayoutOnAxis(H({axis:b},a),d)}},currentSeriesIndices:function(){return c.getCurrentSeriesIndices()},font:function(a){return Mi(a,c)}},h.api||{}),l={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:h.coordSys,dataInsideLength:b.count(),encode:zx(a.getData())},m,p=!0,n,q,t,v,u;return function(a){m=a;p=!0;return f&&f(H({dataIndexInside:a,dataIndex:b.getRawIndex(a)},l),k)||{}}}function zx(a){var b={};r(a.dimensions,function(c,d){var e=a.getDimensionInfo(c);if(!e.isExtraCoord){var f=e.coordDim;(b[f]=b[f]||[])[e.coordDimIndex]=d}});return b}function Mg(a,b,c,d,e,f){var g=c.type;!a||g===a.__customGraphicType||"path"===g&&c.pathData===a.__customPathData||"image"===g&&c.style.image===a.__customImagePath||"text"===g&&c.style.text===a.__customText||(e.remove(a),a=null);if(null!=g){var h=!a;if(!a){a=c.type;var k;"path"===a?(k=c.shape,k=Le(k.pathData,null,{x:k.x||0,y:k.y||0,width:k.width||0,height:k.height||0},"center"),k.__customPathData=c.pathData):"image"===a?(k=new Ka({}),k.__customImagePath=c.style.image):"text"===a?(k=new P({}),k.__customText=c.style.text):(k=Pa[a.charAt(0).toUpperCase()+a.slice(1)],D&&ca(k,'graphic type "'+a+'" can not be found.'),k=new k);k.__customGraphicType=a;k.name=c.name;a=k}tx(a,b,c,d,f,h);if("group"===g)if(g=a.children()||[],h=c.children||[],c.diffChildrenByName)b={oldChildren:g,newChildren:h,dataIndex:b,animatableModel:d,group:a,data:f},(new xc(b.oldChildren,b.newChildren,Uq,Uq,b)).add(Vq).update(Vq).remove(Ax).execute();else{for(c=0;c<h.length;c++)Mg(a.childAt(c),b,h[c],d,a,f);for(;c<g.length;c++)g[c]&&a.remove(g[c])}e.add(a);return a}}function Uq(a,b){var c=a&&a.name;return null!=c?c:"e\x00\x00"+b}function Vq(a,b){var c=this.context;Mg(null!=b?c.oldChildren[b]:null,c.dataIndex,null!=a?c.newChildren[a]:null,c.animatableModel,c.group,c.data)}function Ax(a){var b=this.context;(a=b.oldChildren[a])&&b.group.remove(a)}function Wq(a,b,c,d){var e=c.type;D&&ca(e,"graphic type MUST be set");e=Pa[e.charAt(0).toUpperCase()+e.slice(1)];D&&ca(e,"graphic type can not be found");c=new e(c);b.add(c);d.set(a,c);c.__ecGraphicId=a}function Ng(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){Ng(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function Bx(a){a=I({},a);r(["id","parentId","$action","hv","bounding"].concat(Kn),function(b){delete a[b]});return a}function Xq(a,b){var c;r(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)});return c}function pk(a,b,c){var d={},e="toggleSelected"===a,f;c.eachComponent("legend",function(c){if(e&&null!=f)c[f?"select":"unSelect"](b.name);else c[a](b.name),f=c.isSelected(b.name);var g=c.getData();r(g,function(a){a=a.get("name");if("\n"!==a&&""!==a){var b=c.isSelected(a);d.hasOwnProperty(a)?d[a]=d[a]&&b:d[a]=b}})});return{name:b.name,selected:d}}function Cx(a,b,c){var d=b.getBoxLayoutParams(),e=b.get("padding");c={width:c.getWidth(),height:c.getHeight()};var f=Ia(d,c,e);kf(b.get("orient"),a,b.get("itemGap"),f.width,f.height);dg(a,d,c,e)}function Yq(a,b){var c=cd(b.get("padding")),d=b.getItemStyle(["color","opacity"]);d.fill=b.get("backgroundColor");return a=new ga({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}function Zq(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function $q(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function ar(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}function br(a,b,c){a=a.getOrient();var d=[1,1];d[a.index]=0;uc(b,c,{type:"box",ignoreSize:d})}function Dx(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return z(Ex,function(a){return a+"transition:"+b}).join(";")}function Fx(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();d&&b.push("color:"+d);b.push("font:"+a.getFont());c&&b.push("line-height:"+Math.round(3*c/2)+"px");cr(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)});return b.join(";")}function Gx(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");c&&b.push(Dx(c));d&&(ba.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+pm(d)),b.push("filter:alpha(opacity\x3d70)")));cr(["width","color","radius"],function(c){var d="border-"+c,e=Hx(d),e=a.get(e);null!=e&&b.push(d+":"+e+("color"===c?"":"px"))});b.push(Fx(e));null!=f&&b.push("padding:"+cd(f).join("px ")+"px");return b.join(";")+";"}function qk(a,b){var c=document.createElement("div"),d=this._zr=b.getZr();this.el=c;this._x=b.getWidth()/2;this._y=b.getHeight()/2;a.appendChild(c);this._container=a;this._show=!1;var e=this;c.onmouseenter=function(){e._enterable&&(clearTimeout(e._hideTimeout),e._show=!0);e._inContent=!0};c.onmousemove=function(b){b=b||window.event;if(!e._enterable){var c=d.handler;Yc(a,b,!0);c.dispatch("mousemove",b)}};c.onmouseleave=function(){e._enterable&&e._show&&e.hideLater(e._hideDelay);e._inContent=!1}}function rk(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(c instanceof V&&(c=c.get("tooltip",!0)),"string"===typeof c&&(c={formatter:c}),b=new V(c,b,b.ecModel))}return b}function dr(a){var b=a.clientWidth,c=a.clientHeight;document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a))&&(b+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),c+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10));return{width:b,height:c}}function er(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Ix(a,b){var c={};r(a,function(a,b){var d=a.getData(),e=a.coordinateSystem.getBaseAxis(),f=e.getExtent(),l="category"===e.type?e.getBandWidth():Math.abs(f[1]-f[0])/d.count(),d=c[e.dim]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=d.stacks;c[e.dim]=d;e=er(a);f[e]||d.autoWidthCount++;f[e]=f[e]||{width:0,maxWidth:0};var m=B(a.get("barWidth"),l),l=B(a.get("barMaxWidth"),l),p=a.get("barGap"),n=a.get("barCategoryGap");m&&!f[e].width&&(m=Math.min(d.remainedWidth,m),f[e].width=m,d.remainedWidth-=m);l&&(f[e].maxWidth=l);null!=p&&(d.gap=p);null!=n&&(d.categoryGap=n)});var d={};r(c,function(a,b){d[b]={};var c=a.stacks,e=B(a.categoryGap,a.bandWidth),f=B(a.gap,1),l=a.remainedWidth,m=a.autoWidthCount,p=(l-e)/(m+(m-1)*f),p=Math.max(p,0);r(c,function(a,b){var c=a.maxWidth;c&&c<p&&(c=Math.min(c,l),a.width&&(c=Math.min(c,a.width)),l-=c,a.width=c,m--)});var p=(l-e)/(m+(m-1)*f),p=Math.max(p,0),n=0,q;r(c,function(a,b){a.width||(a.width=p);q=a;n+=a.width*(1+f)});q&&(n-=q.width*f);var t=-n/2;r(c,function(a,c){d[b][c]=d[b][c]||{offset:t,width:a.width};t+=a.width*(1+f)})});return d}function Og(a,b){Ba.call(this,"radius",a,b);this.type="category"}function Pg(a,b){b=b||[0,360];Ba.call(this,"angle",a,b);this.type="category"}function fr(a,b){return b.type||(b.data?"category":"value")}function Jx(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();d.scale.setExtent(Infinity,-Infinity);e.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(a){a.coordinateSystem===c&&(a=a.getData(),e.scale.unionExtentFromData(a,"radius"),d.scale.unionExtentFromData(a,"angle"))});zc(d.scale,d.model);zc(e.scale,e.model);if("category"===d.type&&!d.onBand){var f=d.getExtent(),g=360/d.scale.count();d.inverse?f[1]+=g:f[1]-=g;d.setExtent(f[0],f[1])}}function gr(a,b){a.type=b.get("type");a.scale=Qd(b);a.onBand=b.get("boundaryGap")&&"category"===a.type;a.inverse=b.get("inverse");if("angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a;a.model=b}function hr(a,b,c){b[1]>b[0]&&(b=b.slice().reverse());var d=a.coordToPoint([b[0],c]);a=a.coordToPoint([b[1],c]);return{x1:d[0],y1:d[1],x2:a[0],y2:a[1]}}function sk(a,b){b.update="updateView";W(b,function(b,d){var c={};d.eachComponent({mainType:"geo",query:b},function(d){d[a](b.name);r(d.coordinateSystem.regions,function(a){c[a.name]=d.isSelected(a.name)||!1})});return{selected:c,name:b.name}})}function Kx(a){var b={};r(a,function(a){b[a]=1});a.length=0;r(b,function(b,d){a.push(d)})}function ir(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}function tk(a,b,c){function d(){var a=function(){};a.prototype.__hidden=a.prototype;return new a}var e={};jr(b,function(b){var f=e[b]=d();jr(a[b],function(a,d){if(O.isValidType(d)){var e={type:d,visual:a};c&&c(e,b);f[d]=new O(e);"opacity"===d&&(e=G(e),e.type="colorAlpha",f.__hidden.__alphaForOpacity=new O(e))}})});return e}function kr(a,b,c){var d;r(c,function(a){b.hasOwnProperty(a)&&ir(b[a])&&(d=!0)});d&&r(c,function(c){b.hasOwnProperty(c)&&ir(b[c])?a[c]=G(b[c]):delete a[c]})}function lr(a,b,c,d,e,f){function g(a){return c.getItemVisual(m,a)}function h(a,b){c.setItemVisual(m,a,b)}function k(a,k){m=null==f?a:k;var p=c.getRawDataItem(m);if(!p||!1!==p.visualMap)for(var n=d.call(e,a),p=b[n],n=l[n],v=0,u=n.length;v<u;v++){var w=n[v];p[w]&&p[w].applyVisual(a,g,h)}}var l={};r(a,function(a){var c=O.prepareVisualTypes(b[a]);l[a]=c});var m;null==f?c.each(k,!0):c.each([f],k,!0)}function mr(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,f){if(b)return lf(b[a],f.range)},rect:function(d,e,f){if(d)return e=f.range,d=[d[b[a]],d[b[a]]+d[c[a]]],d[1]<d[0]&&d.reverse(),lf(d[0],e)||lf(d[1],e)||lf(e[0],d)||lf(e[1],d)}}}function lf(a,b){return b[0]<=a&&a<=b[1]}function Qg(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=e[f],k;k=a;var l=b,m=c,p=d,n=h[0],q=h[1],t=g[0],v=g[1],g=(m-k)*(q-v)-(n-t)*(p-l);1E-6>=g&&-1E-6<=g?k=!1:(t=((n-k)*(q-v)-(n-t)*(q-l))/g,0>t||1<t?k=!1:(k=((m-k)*(q-l)-(n-k)*(p-l))/g,k=0>k||1<k?!1:!0));if(k)return!0;g=h}}function Rg(a,b,c){var d=this._targetInfoList=[],e={},f=Oe(b,a,{includeMainTypes:nr});Hc(Lx,function(a,b){(!c||!c.include||0<=Sg(c.include,b))&&a(f,d,e)})}function uk(a){a[0]>a[1]&&a.reverse();return a}function or(a,b,c,d){D&&ca("cartesian2d"===c.type,"lineX/lineY brush is available only in cartesian2d.");var e=c.getAxis(["x","y"][a]);c=uk(z([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))}));var f=[];f[a]=c;f[1-a]=[NaN,NaN];return{values:c,xyMinMax:f}}function pr(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function Mx(a,b){var c=qr(a),d=qr(b),c=[c[0]/d[0],c[1]/d[1]];isNaN(c[0])&&(c[0]=1);isNaN(c[1])&&(c[1]=1);return c}function qr(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function Nx(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=Ox),Pe(e,"__ecBrushSelect",c,b)(a,d)))}function Ox(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function rr(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a[g.brushType](d,c,g.selectors,g))return!0}}function sr(a){var b=a.brushSelector;if(ya(b)){var c=[];r(vk,function(a,d){c[d]=function(c,d,e,f){c=d.getItemLayout(c);return a[b](c,e,f)}});return c}if(jc(b)){var d={};r(vk,function(a,c){d[c]=b});return d}return b}function Px(a,b){var c=a.option.seriesIndex;return null!=c&&"all"!==c&&(x(c)?0>R(c,b):b!==c)}function Qx(a){var b=a.selectors={};r(vk[a.brushType],function(c,d){b[d]=function(d){return c(d,b,a)}});return a}function tr(a){return new S(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function ur(a,b){return K({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new V(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function Tg(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}function wk(a,b,c){this.model=a;this.ecModel=b;this.api=c}function hc(a,b,c){this._model=a}function vr(a,b,c,d){b=c.calendarModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem:null;return c===this?c[a](d):null}function wr(a,b){var c=a.cellSize;x(c)?1===c.length&&(c[1]=c[0]):c=a.cellSize=[c,c];var d=z([0,1],function(a){if(null!=b[dd[a][0]]||null!=b[dd[a][1]]&&null!=b[dd[a][2]])c[a]="auto";return null!=c[a]&&"auto"!==c[a]});uc(a,b,{type:"box",ignoreSize:d})}function Rx(a,b,c){function d(a,d){var e=!1;b(function(b){r(c(a,b)||[],function(a){d.records[b.name][a]&&(e=!0)})});return e}function e(a,d){d.nodes.push(a);b(function(b){r(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){function f(a){0<=R(h.nodes,a)||!d(a,h)||(e(a,h),k=!0)}var h={nodes:[],records:{}};b(function(a){h.records[a.name]={}});if(!c)return h;e(c,h);var k;do k=!1,a(f);while(k);return h}}function Sx(a,b,c){var d=[Infinity,-Infinity];pd(c,function(a){var c=a.getData();c&&pd(a.coordDimToDataDim(b),function(a){a=c.getDataExtent(a);a[0]<d[0]&&(d[0]=a[0]);a[1]>d[1]&&(d[1]=a[1])})});d[1]<d[0]&&(d=[NaN,NaN]);Tx(a,d);return d}function Tx(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),f=e&&(c.get("data")||[]).length;null!=d&&"dataMin"!==d&&"function"!==typeof d?b[0]=d:e&&(b[0]=0<f?0:NaN);d=c.getMax(!0);null!=d&&"dataMax"!==d&&"function"!==typeof d?b[1]=d:e&&(b[1]=0<f?f-1:NaN);c.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0));return b}function xr(a,b){var c=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var f=Bi(e,[0,500]),f=Math.min(f,20),d=b||0===d[0]&&100===d[1];c.setRange(d?null:+e[0].toFixed(f),d?null:+e[1].toFixed(f))}}function Ux(a){var b=a._minMaxSpan={},c=a._dataZoomModel;pd(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var e=c.get(d+"ValueSpan");if(null!=e&&(b[d+"ValueSpan"]=e,e=a.getAxisModel().axis.scale.parse(e),null!=e)){var f=a._dataExtent;b[d+"Span"]=aa(f[0]+e,f,[0,100],!0)}})}function yr(a){var b={};de(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});return b}function zr(a,b){var c=a._rangePropMode,d=a.get("rangeMode");de([["start","startValue"],["end","endValue"]],function(a,f){var e=null!=b[a[0]],h=null!=b[a[1]];e&&!h?c[f]="percent":!e&&h?c[f]="value":d?c[f]=d[f]:e&&(c[f]="percent")})}function Ar(a){return"vertical"===a?"ns-resize":"ew-resize"}function Vx(a,b){var c=Br(a),d=b.dataZoomId,e=b.coordId;r(c,function(a,c){var f=a.dataZoomInfos;f[d]&&0>R(b.allCoordIds,e)&&(delete f[d],a.count--)});Cr(c);var f=c[e];f||(f=c[e]={coordId:e,dataZoomInfos:{},count:0},f.controller=Wx(a,f),f.dispatchAction=C(Xx,a));!f.dataZoomInfos[d]&&f.count++;f.dataZoomInfos[d]=b;c=Yx(f.dataZoomInfos);f.controller.enable(c.controlType,c.opt);f.controller.setPointerChecker(b.containsPoint);Pe(f,"dispatchAction",b.throttleRate,"fixRate")}function Zx(a,b){var c=Br(a);r(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)});Cr(c)}function $x(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0}function Br(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function Wx(a,b){var c=new Ye(a.getZr());c.on("pan",Dr(ay,b));c.on("zoom",Dr(by,b));return c}function Cr(a){r(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function ay(a,b,c,d,e,f,g){Er(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function by(a,b,c,d){Er(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function Er(a,b){var c=[];r(a.dataZoomInfos,function(a){var d=b(a);!a.disabled&&d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})});a.dispatchAction(c)}function Xx(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function Yx(a){var b,c={},d={"true":2,move:1,"false":0,undefined:-1};r(a,function(a){var e=a.disabled?!1:a.zoomLock?"move":!0;d[e]>d[b]&&(b=e);I(c,a.roamControllerOpt)});return{controlType:b,opt:c}}function cy(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function dy(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}function ee(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function ey(a,b){a.eachTargetSeries(function(b){b=b.getData();lr(a.stateList,a.targetVisuals,b,a.getValueState,a,a.getDataDimension(b))})}function fy(a){a.eachSeries(function(b){var c=b.getData(),d=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(b)){var e=a.getVisualMeta(A(gy,null,b,a))||{stops:[],outerColors:[]};e.dimension=a.getDataDimension(c);d.push(e)}});b.getData().setVisual("visualMeta",d)})}function gy(a,b,c,d){function e(a){return g[a]}function f(a,b){g[a]=b}b=b.targetVisuals[d];d=O.prepareVisualTypes(b);var g={color:a.getData().getVisual("color")};a=0;for(var h=d.length;a<h;a++){var k=d[a];(k=b["opacity"===k?"__alphaForOpacity":k])&&k.applyVisual(c,e,f)}return g.color}function Fr(a,b,c){if(c[0]===c[1])return c.slice();a=(c[1]-c[0])/200;b=c[0];for(var d=[],e=0;200>=e&&b<c[1];e++)d.push(b),b+=a;d.push(c[1]);return d}function Gr(a,b,c){a=a.option;var d=a.align;if(null!=d&&"auto"!==d)return d;b={width:b.getWidth(),height:b.getHeight()};for(var e="horizontal"===a.orient?1:0,f=[["left","right","width"],["top","bottom","height"]],d=f[e],g=[0,null,10],h={},k=0;3>k;k++)h[f[1-e][k]]=g[k],h[d[k]]=2===k?c[0]:a[d[k]];c=[["x","width",3],["y","height",0]][e];a=Ia(h,b,a.padding);return d[(a.margin[c[2]]||0)+a[c[0]]+.5*a[c[1]]<.5*b[c[1]]?0:1]}function Ug(a){r(a||[],function(b){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)});return a}function Vg(a,b,c,d){return new Ma({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){ec(a.event)},ondragend:d})}function hy(a,b,c,d){return a?[[0,-Wg(b,mf(c,0))],[6,0],[0,Wg(b,mf(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function Hr(a){var b=a.get("hoverLinkOnHandle");return!(null==b?!a.get("realtime"):!b)}function Ir(a){return"vertical"===a?"ns-resize":"ew-resize"}function Jr(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}function Xg(a){bd(a.label,["show"])}function xk(a,b,c,d,e,f){var g=[];a=yk(b,d,a);a=b.indicesOfNearest(d,a,!0)[0];g[e]=b.get(c,a,!0);g[f]=b.get(d,a,!0);c=-1;do c=Math.max(Vm(b.get(d,a)),c),b=b.stackedOn;while(b);d=Math.min(c,20);0<=d&&(g[f]=+g[f].toFixed(d));return g}function nf(a,b){var c=a.getData(),d=a.coordinateSystem,e;if(e=b)e=b,e=!(!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y)));if(e&&!x(b.coord)&&d)if(e=d.dimensions,d=Kr(b,c,d,a),b=G(b),b.type&&zk[b.type]&&d.baseAxis&&d.valueAxis){var f=Lr(e,d.baseAxis.dim);e=Lr(e,d.valueAxis.dim);b.coord=zk[b.type](c,d.baseDataDim,d.valueDataDim,f,e);b.value=b.coord[e]}else{d=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(f=0;2>f;f++)if(zk[d[f]]){var g=a.coordDimToDataDim(e[f])[0];d[f]=yk(c,g,d[f])}b.coord=d}return b}function Kr(a,b,c,d){var e={};null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(d.dataDimToCoordDim(e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0]):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0],e.valueDataDim=d.coordDimToDataDim(e.valueAxis.dim)[0]);return e}function of(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return c?a.containData(b.coord):!0}function Mr(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value}function yk(a,b,c){if("average"===c){var d=0,e=0;a.each(b,function(a,b){isNaN(a)||(d+=a,e++)},!0);return d/e}return a.getDataExtent(b,!0)["max"===c?1:0]}function Nr(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f=a.getItemModel(e),g,h=B(f.get("x"),c.getWidth()),f=B(f.get("y"),c.getHeight());if(!isNaN(h)&&!isNaN(f))g=[h,f];else if(b.getMarkerPosition)g=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){g=a.get(d.dimensions[0],e);var k=a.get(d.dimensions[1],e);g=d.dataToPoint([g,k])}isNaN(h)||(g[0]=h);isNaN(f)||(g[1]=f);a.setItemLayout(e,g)})}function iy(a,b,c){var d;d=a?z(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}):[{name:"value",type:"float"}];d=new ia(d,c);c=z(c.get("data"),C(nf,b));a&&(c=Fa(c,C(of,a)));d.initData(c,null,a?Mr:function(a){return a.value});return d}function Yg(a){return!isNaN(a)&&!isFinite(a)}function Or(a,b,c,d){var e=1-a,f=d.dimensions[a];return Yg(b[e])&&Yg(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function jy(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(Or(1,c,d,a)||Or(0,c,d,a)))return!0}return of(a,b[0])&&of(a,b[1])}function Ak(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=B(g.get("x"),e.getWidth());e=B(g.get("y"),e.getHeight());if(isNaN(h)||isNaN(e)){d.getMarkerPosition?g=d.getMarkerPosition(a.getValues(a.dimensions,b)):(d=f.dimensions,g=a.get(d[0],b),d=a.get(d[1],b),g=f.dataToPoint([g,d]));if("cartesian2d"===f.type){var k=f.getAxis("x"),l=f.getAxis("y");d=f.dimensions;Yg(a.get(d[0],b))?g[0]=k.toGlobalCoord(k.getExtent()[c?0:1]):Yg(a.get(d[1],b))&&(g[1]=l.toGlobalCoord(l.getExtent()[c?0:1]))}isNaN(h)||(g[0]=h);isNaN(e)||(g[1]=e)}else g=[h,e];a.setItemLayout(b,g)}function ky(a,b,c){var d;d=a?z(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}):[{name:"value",type:"float"}];var e=new ia(d,c);d=new ia(d,c);var f=new ia([],c);c=z(c.get("data"),C(ly,b,a,c));a&&(c=Fa(c,C(jy,a)));a=a?Mr:function(a){return a.value};e.initData(z(c,function(a){return a[0]}),null,a);d.initData(z(c,function(a){return a[1]}),null,a);f.initData(z(c,function(a){return a[2]}));f.hasItemOption=!0;return{from:e,to:d,line:f}}function fe(a){return!isNaN(a)&&!isFinite(a)}function my(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=fe(c[0])&&fe(d[0]))||(e=fe(c[1])&&fe(d[1]));if(e)return!0}return of(a,{coord:c,x:b.x0,y:b.y0})||of(a,{coord:d,x:b.x1,y:b.y1})}function Pr(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=B(g.get(c[0]),e.getWidth());e=B(g.get(c[1]),e.getHeight());if(isNaN(h)||isNaN(e)){if(d.getMarkerPosition)d=d.getMarkerPosition(a.getValues(c,b));else{var g=a.get(c[0],b),k=a.get(c[1],b);d=f.dataToPoint([g,k],!0)}if("cartesian2d"===f.type){var l=f.getAxis("x"),f=f.getAxis("y"),g=a.get(c[0],b),k=a.get(c[1],b);fe(g)?d[0]=l.toGlobalCoord(l.getExtent()["x0"===c[0]?0:1]):fe(k)&&(d[1]=f.toGlobalCoord(f.getExtent()["y0"===c[1]?0:1]))}isNaN(h)||(d[0]=h);isNaN(e)||(d[1]=e)}else d=[h,e];return d}function ny(a,b,c){var d,e;e=["x0","y0","x1","y1"];a?(d=z(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}),e=new ia(z(e,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],e=new ia(d,c));c=z(c.get("data"),C(oy,b,a,c));a&&(c=Fa(c,C(my,a)));e.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value});e.hasItemOption=!0;return e}function py(a){var b=a.type,c={number:"value",time:"time"};c[b]&&(a.axisType=c[b],delete a.type);Qr(a);a.hasOwnProperty("controlPosition")&&(b=a.controlStyle||(a.controlStyle={}),b.hasOwnProperty("position")||(b.position=a.controlPosition),"none"!==b.position||b.hasOwnProperty("show")||(b.show=!1,delete b.position),delete a.controlPosition);r(a.data||[],function(a){Q(a)&&!x(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),Qr(a))})}function Qr(a){var b=a.itemStyle||(a.itemStyle={}),b=b.emphasis||(b.emphasis={});a=a.label||a.label||{};var c=a.normal||(a.normal={}),d={normal:1,emphasis:1};r(a,function(a,b){d[b]||c.hasOwnProperty(b)||(c[b]=a)});b.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=b.label,delete b.label)}function Rr(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):(e=a.get("symbol"),e=jb(e,-1,-1,2,2,g),e.setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));b=b.getItemStyle(["color","symbol","symbolSize"]);e.setStyle(b);d=K({rectHover:!0,z2:100},d,!0);b=a.get("symbolSize");b=b instanceof Array?b.slice():[+b,+b];b[0]/=2;b[1]/=2;d.scale=b;if(c=a.get("symbolOffset"))f=d.position=d.position||[0,0],f[0]+=B(c[0],b[0]),f[1]+=B(c[1],b[1]);a=a.get("symbolRotate");d.rotation=(a||0)*Math.PI/180||0;e.attr(d);e.updateTransform();return e}function Sr(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function Zg(a){this.model=a}function Bk(a){this.model=a}function qy(a){var b={},c=[],d=[];a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var g=e.getBaseAxis();if("category"===g.type){var h=g.dim+"_"+g.index;b[h]||(b[h]={categoryAxis:g,valueAxis:e.getOtherAxis(g),series:[]},d.push({axisDim:g.dim,axisIndex:g.index}));b[h].series.push(a)}else c.push(a)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function ry(a){var b=[];r(a,function(a,d){var c=a.categoryAxis,f=a.valueAxis.dim,g=[" "].concat(z(a.series,function(a){return a.name})),h=[c.model.getCategories()];r(a.series,function(a){h.push(a.getRawData().mapArray(f,function(a){return a}))});c=[g.join("\t")];for(g=0;g<h[0].length;g++){for(var k=[],l=0;l<h.length;l++)k.push(h[l][g]);c.push(k.join("\t"))}b.push(c.join("\n"))});return b.join("\n\n"+$g+"\n\n")}function sy(a){return z(a,function(a){var b=a.getRawData(),d=[a.name],e=[];b.each(b.dimensions,function(){for(var a=arguments.length,c=b.getName(arguments[a-1]),h=0;h<a-1;h++)e[h]=arguments[h];d.push((c?c+"\t":"")+e.join("\t"))});return d.join("\n")}).join("\n\n"+$g+"\n\n")}function ty(a){a=qy(a);return{value:Fa([ry(a.seriesGroupByCategoryAxis),sy(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+$g+"\n\n"),meta:a.meta}}function ah(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uy(a){a=a.split(/\n+/g);for(var b=ah(a.shift()).split(Ck),c=[],b=z(b,function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=ah(a[d]).split(Ck);c.push(e.shift());for(var f=0;f<e.length;f++)b[f]&&(b[f].data[d]=e[f])}return{series:b,categories:c}}function vy(a,b){var c=a.split(new RegExp("\n*"+$g+"\n*","g")),d={series:[]};r(c,function(a,c){var e;e=0<=a.slice(0,a.indexOf("\n")).indexOf("\t")?!0:void 0;if(e){e=uy(a);var f=b[c],k=f.axisDim+"Axis";f&&(d[k]=d[k]||[],d[k][f.axisIndex]={data:e.categories},d.series=d.series.concat(e.series))}else{e=a.split(/\n+/g);for(var f=ah(e.shift()),k=[],l=0;l<e.length;l++){var m=ah(e[l]).split(Ck),p,n=!1;isNaN(m[0])?(n=!0,p=m[0],m=m.slice(1),k[l]={name:p,value:[]},p=k[l].value):p=k[l]=[];for(var q=0;q<m.length;q++)p.push(+m[q]);1===p.length&&(n?k[l].value=p[0]:k[l]=p[0])}e={name:f,data:k};d.series.push(e)}});return d}function pf(a){this._dom=null;this.model=a}function wy(a,b){return z(a,function(a,d){var c=b&&b[d];return Q(c)&&!x(c)?(Q(a)&&!x(a)&&(a=a.value),H({value:a},c)):a})}function xy(a,b){var c=Dk(a);Tr(b,function(b,e){for(var d=c.length-1;0<=d&&!c[d][e];d--);0>d&&(d=a.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0])&&(d=d.getPercentRange(),c[0][e]={dataZoomId:e,start:d[0],end:d[1]})});c.push(b)}function yy(a){var b=Dk(a);a=b[b.length-1];1<b.length&&b.pop();var c={};Tr(a,function(a,e){for(var d=b.length-1;0<=d;d--)if(a=b[d][e]){c[e]=a;break}});return c}function Dk(a){var b=a["\x00_ec_hist_store"];b||(b=a["\x00_ec_hist_store"]=[{}]);return b}function Ek(a,b,c){(this._brushController=new $d(c.getZr())).on("brush",A(this._onBrush,this)).mount()}function Ur(a){var b={};r(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])});return b}function zy(a,b,c,d,e){var f=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(f="dataZoomSelect"===d.key?d.dataZoomSelectActive:!1);c._isZoomActive=f;a.setIconStatus("zoom",f?"emphasis":"normal");a=new Rg(Ur(a.option),b,{include:["grid"]});c._brushController.setPanels(a.makePanelOpts(e,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(f?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function Fk(a){this.model=a}function Ay(){if(!Vr&&Wa){Vr=!0;var a=Wa.styleSheets;31>a.length?Wa.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function bh(a,b){Ay();this.root=a;this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";d.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=d;this._vmlViewport=c;this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(a){e.call(b,a);a&&a.onRemove&&a.onRemove(d)};b.addToStorage=function(a){a.onAdd&&a.onAdd(d);f.call(b,a)};this._firstPaint=!0}function By(a){return function(){}}function qd(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function qb(a){return Gk(1E4*a)/1E4}function Hk(a,b){b&&X(a,"transform","matrix("+Cy.call(b,",")+")")}function X(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&a.setAttribute(b,c)}function Wr(a,b,c){var d=c?b.textFill:b.fill;null!=d&&"none"!==d?(d=c?b.textFill:b.fill,d="transparent"===d?"none":d,"none"!==a.getAttribute("clip-path")&&"none"===d&&(d="rgba(0, 0, 0, 0.002)"),X(a,"fill",d),X(a,"fill-opacity",b.opacity)):X(a,"fill","none");d=c?b.textStroke:b.stroke;null!=d&&"none"!==d?(d=c?b.textStroke:b.stroke,X(a,"stroke","transparent"===d?"none":d),c=c?b.textStrokeWidth:b.lineWidth,d=b.strokeNoScale?b.host.getLineScale():1,X(a,"stroke-width",c/d),X(a,"paint-order","stroke"),X(a,"stroke-opacity",b.opacity),b.lineDash?(X(a,"stroke-dasharray",b.lineDash.join(",")),X(a,"stroke-dashoffset",Gk(b.lineDashOffset||0))):X(a,"stroke-dasharray",""),b.lineCap&&X(a,"stroke-linecap",b.lineCap),b.lineJoin&&X(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&X(a,"stroke-miterlimit",b.miterLimit)):X(a,"stroke","none")}function Xr(a){return"middle"===a?"middle":"bottom"===a?"baseline":"hanging"}function Yr(){}function Ca(a,b,c){this._svgRoot=a;this._tagNames="string"===typeof b?[b]:b;this._markLabel=c;this.nextId=0}function rd(a){Ca.call(this,a,["linearGradient","radialGradient"],"__gradient_in_use__")}function qf(a){Ca.call(this,a,"clipPath","__clippath_in_use__")}function ch(a,b,c){b&&a&&b.parentNode!==a&&c&&((c=c.nextSibling)?a.insertBefore(b,c):a.appendChild(b))}function Zr(a,b){if(b&&a&&b.parentNode!==a){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function Dy(a){return function(){}}var rf;"undefined"!==typeof window?rf=window.__DEV__:"undefined"!==typeof global&&(rf=global.__DEV__);"undefined"===typeof rf&&(rf=!0);var D=rf,Um=2311,Ey={},ba=Ey="undefined"===typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:re(navigator.userAgent),em={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Et={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Ef=Object.prototype.toString,sf=Array.prototype,Ft=sf.forEach,It=sf.filter,ue=sf.slice,Gt=sf.map,Ht=sf.reduce,dh={},Bd=function(){return dh.createCanvas()};dh.createCanvas=function(){return document.createElement("canvas")};var Uh,se="__ec_primitive__";Xh.prototype={constructor:Xh,get:function(a){return this["_ec_"+a]},set:function(a,b){return this["_ec_"+a]=b},each:function(a,b){void 0!==b&&(a=A(a,b));for(var c in this)this.hasOwnProperty(c)&&a(this[c],c.slice(4))},removeKey:function(a){delete this["_ec_"+a]}};var Fy=(Object.freeze||Object)({$override:function(a,b){dh[a]=b},clone:G,merge:K,mergeAll:te,extend:I,defaults:H,createCanvas:Bd,getContext:fm,indexOf:R,inherits:ja,mixin:M,isArrayLike:Sc,each:r,map:z,reduce:Cd,filter:Fa,find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:A,curry:C,isArray:x,isFunction:jc,isString:ya,isObject:Q,isBuiltInObject:Th,isDom:Ad,eqNaN:ve,retrieve:na,retrieve2:pa,retrieve3:Tc,slice:Vh,normalizeCssArray:Wh,assert:ca,setAsPrimitive:gm,isPrimitive:function(a){return a[se]},createHashMap:za,noop:Ga}),hm="undefined"===typeof Float32Array?Array:Float32Array,id=ye,qc=jm,Gy=(Object.freeze||Object)({create:kc,copy:eb,clone:tb,set:im,add:Yh,scaleAndAdd:we,sub:Vb,len:xe,length:xe,lenSquare:Zh,lengthSquare:Zh,mul:function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a},div:function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:Ff,normalize:Dd,distance:ye,dist:id,distanceSquare:jm,distSquare:qc,negate:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},lerp:km,applyTransform:da,min:Wb,max:Xb});Gf.prototype={constructor:Gf,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(Ed(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c;this._y=d;b.drift(e,f,a);this.dispatchToElement(Ed(b,a),"drag",a.event);c=this.findHover(c,d,b).target;d=this._dropTarget;this._dropTarget=c;b!==c&&(d&&c!==d&&this.dispatchToElement(Ed(d,a),"dragleave",a.event),c&&c!==d&&this.dispatchToElement(Ed(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(Ed(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(Ed(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var $r=Array.prototype.slice,pb=function(){this._$handlers={}};pb.prototype={constructor:pb,one:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;d[a].push({h:b,one:!0,ctx:c||this});return this},on:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;d[a].push({h:b,one:!1,ctx:c||this});return this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;3<c&&(b=$r.call(b,1));for(var d=this._$handlers[a],e=d.length,f=0;f<e;){switch(c){case 1:d[f].h.call(d[f].ctx);break;case 2:d[f].h.call(d[f].ctx,b[1]);break;case 3:d[f].h.call(d[f].ctx,b[1],b[2]);break;default:d[f].h.apply(d[f].ctx,b)}d[f].one?(d.splice(f,1),e--):f++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;4<c&&(b=$r.call(b,1,b.length-1));for(var d=b[b.length-1],e=this._$handlers[a],f=e.length,g=0;g<f;){switch(c){case 1:e[g].h.call(d);break;case 2:e[g].h.call(d,b[1]);break;case 3:e[g].h.call(d,b[1],b[2]);break;default:e[g].h.apply(d,b)}e[g].one?(e.splice(g,1),f--):g++}}return this}};lm.prototype.dispose=function(){};var Hy="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),ge=function(a,b,c,d){this._$handlers={};this.storage=a;this.painter=b;this.painterRoot=d;this.proxy=c=c||new lm;c.handler=this;this._hovered={};Gf.call(this);r(Hy,function(a){c.on&&c.on(a,this[a],this)},this)};ge.prototype={constructor:ge,mousemove:function(a){var b=a.zrX,c=a.zrY,d=this._hovered,e=d.target;e&&!e.__zr&&(d=this.findHover(d.x,d.y),e=d.target);var b=this._hovered=this.findHover(b,c),c=b.target,f=this.proxy;f.setCursor&&f.setCursor(c?c.cursor:"default");e&&c!==e&&this.dispatchToElement(d,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==e&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b=a.toElement||a.relatedTarget,c;do b=b&&b.parentNode;while(b&&9!=b.nodeType&&!(c=b===this.painterRoot));!c&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){a=a||{};var d=a.target;if(!d||!d.silent){for(var e="on"+b,f={type:b,event:c,target:a.target,topTarget:a.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which};d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[e]&&a[e].call(a,f);a.trigger&&a.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;0<=f;f--){var g,h;if(h=d[f]!==c&&!d[f].ignore){a:{var k=d[f];g=a;h=b;if(k[k.rectHover?"rectContain":"contain"](g,h)){for(var l=void 0;k;){if(k.clipPath&&!k.clipPath.contain(g,h)){g=!1;break a}k.silent&&(l=!0);k=k.parent}g=l?"silent":!0}else g=!1}h=g}if(h&&(!e.topTarget&&(e.topTarget=d[f]),"silent"!==g)){e.target=d[f];break}}return e}};r("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){ge.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY),d=c.target;if("mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mosueup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<id(this._downPoint,[b.zrX,b.zrY]))return;this._downPoint=null}this.dispatchToElement(c,a,b)}});M(ge,pb);M(ge,Gf);var Jt="undefined"===typeof Float32Array?Array:Float32Array,Iy=(Object.freeze||Object)({create:Yb,identity:ze,copy:$h,mul:Uc,translate:Nb,rotate:Vc,scale:Hf,invert:If}),Ik=ze,$a=function(a){a=a||{};a.position||(this.position=[0,0]);null==a.rotation&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},Bb=$a.prototype;Bb.transform=null;Bb.needLocalTransform=function(){return Wc(this.rotation)||Wc(this.position[0])||Wc(this.position[1])||Wc(this.scale[0]-1)||Wc(this.scale[1]-1)};Bb.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||Yb(),c?this.getLocalTransform(d):Ik(d),b&&(c?Uc(d,a.transform,d):$h(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||Yb(),If(this.invTransform,d)):d&&Ik(d)};Bb.getLocalTransform=function(a){return $a.getLocalTransform(this,a)};Bb.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};Bb.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var as=[];Bb.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(Uc(as,a.invTransform,b),b=as);var a=b[0]*b[0]+b[1]*b[1],c=b[2]*b[2]+b[3]*b[3],d=this.position,e=this.scale;Wc(a-1)&&(a=Math.sqrt(a));Wc(c-1)&&(c=Math.sqrt(c));0>b[0]&&(a=-a);0>b[3]&&(c=-c);d[0]=b[4];d[1]=b[5];e[0]=a;e[1]=c;this.rotation=Math.atan2(-b[1]/c,b[0]/a)}};Bb.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);0>a[0]&&(b=-b);0>a[3]&&(c=-c);return[b,c]};Bb.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;d&&da(c,c,d);return c};Bb.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;d&&da(c,c,d);return c};$a.getLocalTransform=function(a,b){b=b||[];Ik(b);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0,f=a.position||[0,0];c&&(b[4]-=c[0],b[5]-=c[1]);Hf(b,b,d);e&&Vc(b,b,e);c&&(b[4]+=c[0],b[5]+=c[1]);b[4]+=f[0];b[5]+=f[1];return b};var eh={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return-(c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4))},elasticOut:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1},elasticInOut:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return 1>(a*=2)?-.5*c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4):c*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-eh.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*eh.bounceIn(2*a):.5*eh.bounceOut(2*a-1)+.5}};ai.prototype={constructor:ai,step:function(a,b){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=b;else{var c=(a-this._startTime-this._pausedTime)/this._life;if(!(0>c)){var c=Math.min(c,1),d=this.easing,d="string"==typeof d?eh[d]:d,d="function"===typeof d?d(c):c;this.fire("frame",d);if(1==c){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){a="on"+a;if(this[a])this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var bs=function(){this.tail=this.head=null;this._len=0},tf=bs.prototype;tf.insert=function(a){a=new cs(a);this.insertEntry(a);return a};tf.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};tf.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};tf.len=function(){return this._len};tf.clear=function(){this.head=this.tail=null;this._len=0};var cs=function(a){this.value=a},Jk=function(a){this._list=new bs;this._map={};this._maxSize=a||10;this._lastRemovedEntry=null},Kk=Jk.prototype;Kk.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;f>=this._maxSize&&0<f&&(f=c.head,c.remove(f),delete d[f.key],e=f.value,this._lastRemovedEntry=f);g?g.value=b:g=new cs(b);g.key=a;c.insertEntry(g);d[a]=g}return e};Kk.get=function(a){a=this._map[a];var b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};Kk.clear=function(){this._list.clear();this._map={}};var nm={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},mm=new Jk(20),Jf=null,Jy=(Object.freeze||Object)({parse:Ya,lift:om,toHex:pm,fastLerp:Be,fastMapToColor:Be,lerp:qm,mapToColor:qm,modifyHSL:Hd,modifyAlpha:Kf,stringify:Zb}),fi=Array.prototype.slice,Lk=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||Kt;this._setter=d||Lt;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};Lk.prototype={when:function(a,b){var c=this._tracks,d;for(d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:Nt(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){this._onframeList.push(a);return this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c=this,d=0,e=function(){d--;d||c._doneCallback()},f,g;for(g in this._tracks)if(this._tracks.hasOwnProperty(g)){var h=Pt(this,a,e,this._tracks[g],g,b);h&&(this._clipList.push(h),d++,this.animation&&this.animation.addClip(h),f=h)}if(f){var k=f.onframe;f.onframe=function(a,b){k(a,b);for(var d=0;d<c._onframeList.length;d++)c._onframeList[d](a,b)}}d||this._doneCallback();return this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];if(a)e.onframe(this._target,1);c&&c.removeClip(e)}b.length=0},delay:function(a){this._delay=a;return this},done:function(a){a&&this._doneList.push(a);return this},getClips:function(){return this._clipList}};var ds=1;"undefined"!==typeof window&&(ds=Math.max(window.devicePixelRatio||1,1));var fh=ds,Mk=function(){this.animators=[]};Mk.prototype={constructor:Mk,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){for(var g=a.split("."),h=e,d="shape"===g[0],k=0,l=g.length;k<l;k++)h&&(h=h[g[k]]);h&&(c=h)}else c=e;if(c){var m=e.animators,p=new Lk(c,b);p.during(function(a){e.dirty(d)}).done(function(){m.splice(R(m,p),1)});m.push(p);f&&f.animation.addAnimator(p);return p}},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);b.length=0;return this},animateTo:function(a,b,c,d,e,f){function g(){h--;h||e&&e()}ya(c)?(e=d,d=c,c=0):jc(d)?(e=d,d="linear",c=0):jc(c)?(e=c,c=0):jc(b)?(e=b,b=500):b||(b=500);this.stopAnimation();this._animateToShallow("",this,a,b,c);a=this.animators.slice();var h=a.length;h||e&&e();for(b=0;b<a.length;b++)a[b].done(g).start(d,f)},_animateToShallow:function(a,b,c,d,e){var f={},g=0,h;for(h in c)if(c.hasOwnProperty(h))if(null!=b[h])Q(c[h])&&!Sc(c[h])?this._animateToShallow(a?a+"."+h:h,b[h],c[h],d,e):(f[h]=c[h],g++);else if(null!=c[h])if(a){var k={};k[a]={};k[a][h]=c[h];this.attr(k)}else this.attr(h,c[h]);0<g&&this.animate(a,!1).when(null==d?500:d,f).delay(e||0);return this}};var ac=function(a){$a.call(this,a);this._$handlers={};this.animators=[];this.id=a.id||Um++};ac.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"===typeof a)this.attrKV(a,b);else if(Q(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);this.dirty(!1);return this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,this.clipPath=a.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}};M(ac,Mk);M(ac,$a);M(ac,pb);var gh=Math.min,hh=Math.max;S.prototype={constructor:S,union:function(a){var b=gh(a.x,this.x),c=gh(a.y,this.y);this.width=hh(a.x+a.width,this.x+this.width)-b;this.height=hh(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;da(a,a,e);da(b,b,e);da(c,c,e);da(d,d,e);this.x=gh(a[0],b[0],c[0],d[0]);this.y=gh(a[1],b[1],c[1],d[1]);e=hh(a[0],b[0],c[0],d[0]);var f=hh(a[1],b[1],c[1],d[1]);this.width=e-this.x;this.height=f-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,d=Yb();Nb(d,d,[-this.x,-this.y]);Hf(d,d,[b,c]);Nb(d,d,[a.x,a.y]);return d},intersect:function(a){if(!a)return!1;a instanceof S||(a=S.create(a));var b=this.x,c=this.y,d=this.y+this.height,e=a.x+a.width,f=a.y,g=a.y+a.height;return!(this.x+this.width<a.x||e<b||d<f||g<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new S(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};S.create=function(a){return new S(a.x,a.y,a.width,a.height)};var F=function(a){a=a||{};ac.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[];this.__storage=null;this.__dirty=!0};F.prototype={constructor:F,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);0<=d&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof F&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=R(d,a);if(0>e)return this;d.splice(e,1);a.parent=null;c&&(c.delFromStorage(a),a instanceof F&&a.delChildrenFromStorage(c));b&&b.refresh();return this},removeAll:function(){var a=this._children,b=this.__storage,c,d;for(d=0;d<a.length;d++)c=a[d],b&&(b.delFromStorage(c),c instanceof F&&c.delChildrenFromStorage(b)),c.parent=null;a.length=0;return this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++)a.call(b,c[d],d);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d);"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof F&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof F&&c.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var b=null,c=new S(0,0,0,0);a=a||this._children;for(var d=[],e=0;e<a.length;e++){var f=a[e];if(!f.ignore&&!f.invisible){var g=f.getBoundingRect();(f=f.getLocalTransform(d))?(c.copy(g),c.applyTransform(f),b=b||c.clone(),b.union(c)):(b=b||g.clone(),b.union(g))}}return b||c}};ja(F,ac);var Nk=function(){this._roots=[];this._displayList=[];this._displayListLen=0};Nk.prototype={constructor:Nk,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){a&&this.updateDisplayList(b||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen;ba.canvasSupported&&Lf(c,xm)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=a;d;)d.parent=e,d.updateTransform(),b.push(d),e=d,d=d.clipPath}if(a.isGroup){d=a._children;for(e=0;e<d.length;e++){var f=d[e];a.__dirty&&(f.__dirty=!0);this._updateAndAddDisplayable(f,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof F&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof F&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);else b=R(this._roots,a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof F&&a.delChildrenFromStorage(this))},addToStorage:function(a){a.__storage=this;a.dirty(!1);return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:xm};var ih=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Xc=function(a,b){this.extendFrom(a,!1);this.host=b};Xc.prototype={constructor:Xc,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;for(var d=!c,e=0;e<ih.length;e++){var f=ih[e],g=f[0];if(d||this[g]!==c[g])a[g]=this[g]||f[1]}if(d||this.fill!==c.fill)a.fillStyle=this.fill;if(d||this.stroke!==c.stroke)a.strokeStyle=this.stroke;if(d||this.opacity!==c.opacity)a.globalAlpha=null==this.opacity?1:this.opacity;if(d||this.blend!==c.blend)a.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(a.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1))},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"===typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;a.extendFrom(this,!0);return a},getGradient:function(a,b,c){a=("radial"===b.type?St:Rt)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var Ok=Xc.prototype,Pk=0;Pk<ih.length;Pk++){var Qk=ih[Pk];Qk[0]in Ok||(Ok[Qk[0]]=Qk[1])}Xc.getGradient=Ok.getGradient;var Rk=function(a,b){this.image=a;this.repeat=b;this.type="pattern"};Rk.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var he=function(a,b,c){var d;c=c||fh;"string"===typeof a?d=ym(a,b,c):Q(a)&&(d=a,a=d.id);this.id=a;this.dom=d;if(a=d.style)d.onselectstart=Tt,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};he.prototype={constructor:he,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=ym("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px";e.height=b+"px";d.width=a*c;d.height=b*c;f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a;a=this.lastFrameAlpha;var h=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/h,e/h));c.clearRect(0,0,d,e);if(f){var k;f.colorStops?(k=f.__canvasGradient||Xc.getGradient(c,f,{x:0,y:0,width:d,height:e}),f.__canvasGradient=k):f.image&&(k=Rk.prototype.getCanvasPattern.call(f,c));c.save();c.fillStyle=k||f;c.fillRect(0,0,d,e);c.restore()}g&&(b=this.domBack,c.save(),c.globalAlpha=a,c.drawImage(b,0,0,d,e),c.restore())}};var jh="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},ji=new Jk(50),Mf={},ki=0,ni=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Am={measureText:function(a,b){var c=fm();c.font=b||"12px sans-serif";return c.measureText(a)}},Wt={left:1,right:1,center:1},Xt={top:1,bottom:1,middle:1},Sk=new S,kh=function(){};kh.prototype={constructor:kh,drawRectText:function(a,b){var c=this.style;b=c.textRect||b;this.__dirty&&Ee(c,!0);var d=c.text;null!=d&&(d+="");if(null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(Sk.copy(b),Sk.applyTransform(e),b=Sk);e=b;c.rich?Nm(this,a,d,c,e):Im(this,a,d,c,e);a.restore()}}};lb.prototype={constructor:lb,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?ac.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){this.style.set(a,b);this.dirty(!1);return this},useStyle:function(a){this.style=new Xc(a,this);this.dirty(!1);return this}};ja(lb,ac);M(lb,kh);Ka.prototype={constructor:Ka,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);if((d=this._image=zm(d,this._image,this,this.onload))&&d&&d.width&&d.height){var e=c.x||0,f=c.y||0,g=c.width,h=c.height,k=d.width/d.height;null==g&&null!=h?g=h*k:null==h&&null!=g?h=g/k:null==g&&null==h&&(g=d.width,h=d.height);this.setTransform(a);if(c.sWidth&&c.sHeight){var k=c.sx||0,l=c.sy||0;a.drawImage(d,k,l,c.sWidth,c.sHeight,e,f,g,h)}else c.sx&&c.sy?(k=c.sx,l=c.sy,a.drawImage(d,k,l,g-k,h-l,e,f,g,h)):a.drawImage(d,e,f,g,h);this.restoreTransform(a);null!=c.text&&this.drawRectText(a,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new S(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};ja(Ka,lb);var Tk=new S(0,0,0,0),Uk=new S(0,0,0,0),Vk=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=I({},c||{});this.dpr=c.devicePixelRatio||fh;this._singleCanvas=d;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];e=this._layers={};this._layerConfig={};d?(null!=c.width&&(a.width=c.width),null!=c.height&&(a.height=c.height),c=a.height,this._width=a.width,this._height=c,c=new he(a,this,1),c.initContext(),e[0]=c,b.push(0),this._domRoot=a):(this._width=this._getSize(0),this._height=this._getSize(1),c=this._width,d=this._height,b=document.createElement("div"),b.style.cssText=["position:relative;overflow:hidden","width:"+c+"px","height:"+d+"px","padding:0;margin:0;border-width:0"].join(";")+";",c=this._domRoot=b,a.appendChild(c));this._progressiveLayers=[];this._hoverElements=[]};Vk.prototype={constructor:Vk,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(b,a);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a;a.__hoverMir=c;c.setStyle(b);this._hoverElements.push(c)}},removeHover:function(a){var b=this._hoverElements,c=R(b,a.__hoverMir);0<=c&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;c&&c.clear();if(b){Lf(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},_startProgessive:function(){function a(){c===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,jh(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var c=b._progressiveToken=+new Date;b._progress++;jh(a)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;r(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1);this._updateLayerStatus(a);this._clearProgressive();this.eachBuiltinLayer(Zt);this._doPaintList(a,b);this.eachBuiltinLayer($t)},_doPaintList:function(a,b){function c(a){var b=f.dpr||1;f.save();f.globalAlpha=1;f.shadowBlur=0;d.__dirty=!0;f.setTransform(1,0,0,1,0,0);f.drawImage(a.dom,0,0,l*b,m*b);f.restore()}for(var d,e,f,g,h=0,k,l=this._width,m=this._height,p,n=this._progress,q=0,t=a.length;q<t;q++){var v=a[q];p=this._singleCanvas?0:v.zlevel;var u=v.__frame;0>u&&k&&(c(k),k=null);e!==p&&(f&&f.restore(),g={},e=p,d=this.getLayer(e),f=d.ctx,f.save(),d.__unusedCount=0,(d.__dirty||b)&&d.clear());if(d.__dirty||b){if(0<=u){if(!k){k=this._progressiveLayers[Math.min(h++,4)];k.ctx.save();k.renderScope={};if(k&&k.__progress>k.__maxProgress){q=k.__nextIdxNotProg-1;continue}p=k.__progress;k.__dirty||(n=p);k.__progress=n+1}u===n&&this._doPaintEl(v,k,!0,k.renderScope)}else this._doPaintEl(v,d,b,g);v.__dirty=!1}}k&&c(k);f&&f.restore();this._furtherProgressive=!1;r(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if(c=(b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&!(f&&!f[0]&&!f[3])){if(c=a.culling)c=this._width,f=this._height,Tk.copy(a.getBoundingRect()),a.transform&&Tk.applyTransform(a.transform),Uk.width=c,Uk.height=f,c=!Tk.intersect(Uk);c=!c}if(c){c=a.__clipPaths;if(!(f=d.prevClipLayer!==b))a:if(f=d.prevElClipPaths,c==f)f=!1;else if(c&&f&&c.length===f.length){for(var g=0;g<c.length;g++)if(c[g]!==f[g]){f=!0;break a}f=void 0}else f=!0;if(f&&(d.prevElClipPaths&&(d.prevClipLayer.ctx.restore(),d.prevClipLayer=d.prevElClipPaths=null,d.prevEl=null),c)){e.save();for(f=0;f<c.length;f++)g=c[f],g.setTransform(e),e.beginPath(),g.buildPath(e,g.shape),e.clip(),g.restoreTransform(e);d.prevClipLayer=b;d.prevElClipPaths=c}a.beforeBrush&&a.beforeBrush(e);a.brush(e,d.prevEl||null);d.prevEl=a;a.afterBrush&&a.afterBrush(e)}},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];b||(b=new he("zr_"+a,this,this.dpr),b.__builtin__=!0,this._layerConfig[a]&&K(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext());return b},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(!c[a]&&b&&(b.__builtin__||"function"===typeof b.resize&&"function"===typeof b.refresh)){if(0<e&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}d.splice(g+1,0,a);c[a]=b;b.virtual||(f?(c=f.dom,c.nextSibling?h.insertBefore(b.dom,c.nextSibling):h.appendChild(b.dom)):h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom))}},eachLayer:function(a,b){var c=this._zlevelList,d,e;for(e=0;e<c.length;e++)d=c[e],a.call(b,this._layers[d],d)},eachBuiltinLayer:function(a,b){var c=this._zlevelList,d,e,f;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.__builtin__&&a.call(b,d,e)},eachOtherLayer:function(a,b){var c=this._zlevelList,d,e,f;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.__builtin__||a.call(b,d,e)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var b=this._layers,c=this._progressiveLayers,d={},e={};this.eachBuiltinLayer(function(a,b){d[b]=a.elCount;a.elCount=0;a.__dirty=!1});r(c,function(a,b){e[b]=a.elCount;a.elCount=0;a.__dirty=!1});for(var f=0,g,h,k=0,l=0,m=a.length;l<m;l++){var p=a[l],n=b[this._singleCanvas?0:p.zlevel],q=p.progressive;n&&(n.elCount++,n.__dirty=n.__dirty||p.__dirty);if(0<=q){h!==q&&(h=q,k++);q=p.__frame=k-1;if(!g){var t=Math.min(f,4);g=c[t];g||(g=c[t]=new he("progressive",this,this.dpr),g.initContext());g.__maxProgress=0}g.__dirty=g.__dirty||p.__dirty;g.elCount++;g.__maxProgress=Math.max(g.__maxProgress,q);g.__maxProgress>=g.__progress&&(n.__dirty=!0)}else p.__frame=-1,g&&(g.__nextIdxNotProg=l,f++,g=null)}g&&(f++,g.__nextIdxNotProg=l);this.eachBuiltinLayer(function(a,b){d[b]!==a.elCount&&(a.__dirty=!0)});c.length=Math.min(f,5);r(c,function(a,b){e[b]!==a.elCount&&(p.__dirty=!0);a.__dirty&&(a.__progress=0)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?K(c[a],b,!0):c[a]=b;var d=this._layers[a];d&&K(d,c[a],!0)}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(R(c,a),1))},resize:function(a,b){var c=this._domRoot;c.style.display="none";var d=this._opts;null!=a&&(d.width=a);null!=b&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!=a||b!=this._height){c.style.width=a+"px";c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);r(this._progressiveLayers,function(c){c.resize(a,b)});this.refresh(!0)}this._width=a;this._height=b;return this},clearLayer:function(a){(a=this._layers[a])&&a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){function b(a,b){var d=f._zlevelList;null==a&&(a=-Infinity);for(var e,g=0;g<d.length;g++){var h=d[g],k=f._layers[h];if(!k.__builtin__&&h>a&&h<b){e=k;break}}e&&e.renderToCanvas&&(c.ctx.save(),e.renderToCanvas(c.ctx),c.ctx.restore())}a=a||{};if(this._singleCanvas)return this._layers[0].dom;var c=new he("image",this,a.pixelRatio||this.dpr);c.initContext();c.clearColor=a.backgroundColor;c.clear();a=this.storage.getDisplayList(!0);for(var d={},e,f=this,g=0;g<a.length;g++){var h=a[g];h.zlevel!==e&&(b(e,h.zlevel),e=h.zlevel);this._doPaintEl(h,c,!0,d)}b(e,Infinity);return c.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var b=this.root,f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur,h=f.shadowOffsetX,k=f.shadowOffsetY,l=f.hasStroke()?f.lineWidth:0,f=Math.max(l/2,-h+g),m=Math.max(l/2,-k+g),h=e.width+f+Math.max(l/2,h+g),g=e.height+m+Math.max(l/2,k+g);c.width=h*b;c.height=g*b;d.scale(b,b);d.clearRect(0,0,h,g);d.dpr=b;g=a.position;k=a.rotation;h=a.scale;a.position=[f-e.x,m-e.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(d);c=new Ka({style:{x:0,y:0,image:c}});null!=g&&(c.position=a.position=g);null!=k&&(c.rotation=a.rotation=k);null!=h&&(c.scale=a.scale=h);return c}};var ti="undefined"!==typeof window&&!!window.addEventListener,au=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ec=ti?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},lh=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;this._$handlers={}};lh.prototype={constructor:lh,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=R(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],k=h.step(a,b);k&&(e.push(k),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(jh(a),!b._paused&&b._update())}var b=this;this._running=!0;jh(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new Lk(a,b.loop,b.getter,b.setter);this.addAnimator(c);return c}};M(lh,pb);var yi=function(){this._track=[]};yi.prototype={constructor:yi,recognize:function(a,b,c){this._doTrack(a,b,c);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,b,c){var d=a.touches;if(d){a={points:[],touches:[],target:b,event:a};b=0;for(var e=d.length;b<e;b++){var f=d[b],g=si(c,f,{});a.points.push([g.zrX,g.zrY]);a.touches.push(f)}this._track.push(a)}},_recognize:function(a){for(var b in Wk)if(Wk.hasOwnProperty(b)){var c=Wk[b](this._track,a);if(c)return c}}};var Wk={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||d)&&1<c.length&&d&&1<d.length)return c=Qm(d)/Qm(c),!isFinite(c)&&(c=1),b.pinchScale=c,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],b.pinchX=d[0],b.pinchY=d[1],{type:"pinch",target:a[0].target,event:b}}}},Of="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),wi=["touchstart","touchend","touchmove"],Ky={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Tm=z(Of,function(a){var b=a.replace("mouse","pointer");return Ky[b]?b:a}),fb={mousemove:function(a){a=Yc(this.dom,a);this.trigger("mousemove",a)},mouseout:function(a){a=Yc(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){a=Yc(this.dom,a);a.zrByTouch=!0;this._lastTouchMoment=new Date;ui(this,a,"start");fb.mousemove.call(this,a);fb.mousedown.call(this,a);vi(this)},touchmove:function(a){a=Yc(this.dom,a);a.zrByTouch=!0;ui(this,a,"change");fb.mousemove.call(this,a);vi(this)},touchend:function(a){a=Yc(this.dom,a);a.zrByTouch=!0;ui(this,a,"end");fb.mouseup.call(this,a);300>+new Date-this._lastTouchMoment&&fb.click.call(this,a);vi(this)},pointerdown:function(a){fb.mousedown.call(this,a)},pointermove:function(a){Sm(a)||fb.mousemove.call(this,a)},pointerup:function(a){fb.mouseup.call(this,a)},pointerout:function(a){Sm(a)||fb.mouseout.call(this,a)}};r("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){fb[a]=function(b){b=Yc(this.dom,b);this.trigger(a,b)}});var es=xi.prototype;es.dispose=function(){for(var a=Of.concat(wi),b=0;b<a.length;b++){var c=a[b],d=this.dom,e=Rm(c),c=this._handlers[c];ti?d.removeEventListener(e,c):d.detachEvent("on"+e,c)}};es.setCursor=function(a){this.dom.style.cursor=a||"default"};M(xi,pb);var Ly=!ba.canvasSupported,ie={canvas:Vk},Zc={},Ai=function(a,b,c){c=c||{};this.dom=b;this.id=a;var d=this,e=new Nk;a=c.renderer;if(Ly){if(!ie.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&ie[a]||(a="canvas");b=new ie[a](b,e,c);this.storage=e;this.painter=b;c=ba.node?null:new xi(b.getViewportRoot());this.handler=new ge(e,b,c,b.root);this.animation=new lh({stage:{update:A(this.flush,this)}});this.animation.start();var f=e.delFromStorage,g=e.addToStorage;e.delFromStorage=function(a){f.call(e,a);a&&a.removeSelfFromZr(d)};e.addToStorage=function(a){g.call(e,a);a.addSelfToZr(d)}};Ai.prototype={constructor:Ai,getId:function(){return this.id},add:function(a){this.storage.addRoot(a);this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete Zc[this.id]}};var My=(Object.freeze||Object)({version:"3.7.3",init:zi,dispose:function(a){if(a)a.dispose();else{for(var b in Zc)Zc.hasOwnProperty(b)&&Zc[b].dispose();Zc={}}return this},getInstance:function(a){return Zc[a]},registerPainter:function(a,b){ie[a]=b}}),cu=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Ny=(Object.freeze||Object)({linearMap:aa,parsePercent:B,round:qa,asc:mb,getPrecision:Vm,getPrecisionSafe:mc,getPixelPrecision:Bi,getPercentWithPrecision:Wm,MAX_SAFE_INTEGER:9007199254740991,remRadian:Ci,isRadianAroundZero:Fe,parseDate:Ge,quantity:Xm,nice:Di,reformIntervals:Ei,isNumeric:Ym}),cd=Wh,$m="abcdefg".split(""),He=function(a){return 10>a?"0"+a:a},fs=Cm,Oy=(Object.freeze||Object)({addCommas:bc,toCamelCase:Zm,normalizeCssArray:cd,encodeHTML:la,formatTpl:Fi,formatTplSimple:an,getTooltipMarker:Gi,formatTime:Hi,capitalFirst:Pf,truncateText:fs,getTextRect:$b}),je=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b,d,e){for(var c={},g=0;g<a.length;g++){var h=a[g][1];d&&0<=R(d,h)||e&&0>R(e,h)||(h=b.getShallow(h),null!=h&&(c[a[g][0]]=h))}return c}},Py=je([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Qy=je([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Tf=Math.pow,oc=Math.sqrt,kn=oc(3),Uf=1/3,Ub=kc(),Ob=kc(),Jd=kc(),Za=Math.min,ta=Math.max,Xk=Math.sin,Yk=Math.cos,sd=2*Math.PI,mh=kc(),nh=kc(),oh=kc(),gs=[],hs=[],Da={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Lb=[],Ic=[],Hb=[],Mb=[],is=Math.min,js=Math.max,uf=Math.cos,vf=Math.sin,ph=Math.sqrt,ke=Math.abs,Zk="undefined"!=typeof Float32Array,ub=function(a){if(this._saveData=!a)this.data=[];this._ctx=null};ub.prototype={constructor:ub,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=ke(1/fh/a)||0;this._uy=ke(1/fh/b)||0},getContext:function(){return this._ctx},beginPath:function(a){(this._ctx=a)&&a.beginPath();a&&(this.dpr=a.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(a,b){this.addData(Da.M,a,b);this._ctx&&this._ctx.moveTo(a,b);this._x0=a;this._y0=b;this._xi=a;this._yi=b;return this},lineTo:function(a,b){var c=ke(a-this._xi)>this._ux||ke(b-this._yi)>this._uy||5>this._len;this.addData(Da.L,a,b);this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b));c&&(this._xi=a,this._yi=b);return this},bezierCurveTo:function(a,b,c,d,e,f){this.addData(Da.C,a,b,c,d,e,f);this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f));this._xi=e;this._yi=f;return this},quadraticCurveTo:function(a,b,c,d){this.addData(Da.Q,a,b,c,d);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d));this._xi=c;this._yi=d;return this},arc:function(a,b,c,d,e,f){this.addData(Da.A,a,b,c,c,d,e-d,0,f?0:1);this._ctx&&this._ctx.arc(a,b,c,d,e,f);this._xi=uf(e)*c+a;this._yi=vf(e)*c+a;return this},arcTo:function(a,b,c,d,e){this._ctx&&this._ctx.arcTo(a,b,c,d,e);return this},rect:function(a,b,c,d){this._ctx&&this._ctx.rect(a,b,c,d);this.addData(Da.R,a,b,c,d);return this},closePath:function(){this.addData(Da.Z);var a=this._ctx,b=this._x0,c=this._y0;a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath());this._xi=b;this._yi=c;return this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){this._dashOffset=a;return this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!Zk||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();Zk&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++)for(var c=a[e].data,f=0;f<c.length;f++)this.data[d++]=c[f];this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,k=a-g,l=b-h,m=ph(k*k+l*l),p=e.length,n,k=k/m,l=l/m;0>d&&(d=c+d);d%=c;c=g-d*k;for(d=h-d*l;0<k&&c<=a||0>k&&c>=a||0==k&&(0<l&&d<=b||0>l&&d>=b);)if(n=this._dashIdx,m=e[n],c+=k*m,d+=l*m,this._dashIdx=(n+1)%p,!(0<k&&c<g||0>k&&c>g||0<l&&d<h||0>l&&d>h))f[n%2?"moveTo":"lineTo"](0<=k?is(c,a):js(c,a),0<=l?is(d,b):js(d,b));k=c-a;l=d-b;this._dashOffset=-ph(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g=this._dashSum,h=this._dashOffset,k=this._lineDash,l=this._ctx,m=this._xi,p=this._yi,n,q,t=0,v=this._dashIdx,u=k.length,w,r,y=0;0>h&&(h=g+h);h%=g;for(g=0;1>g;g+=.1)n=gb(m,a,c,e,g+.1)-gb(m,a,c,e,g),q=gb(p,b,d,f,g+.1)-gb(p,b,d,f,g),t+=ph(n*n+q*q);for(;v<u&&!(y+=k[v],y>h);v++);for(g=(y-h)/t;1>=g;)w=gb(m,a,c,e,g),r=gb(p,b,d,f,g),v%2?l.moveTo(w,r):l.lineTo(w,r),g+=k[v]/t,v=(v+1)%u;0!==v%2&&l.lineTo(e,f);n=e-w;q=f-r;this._dashOffset=-ph(n*n+q*q)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,Zk&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Lb[0]=Lb[1]=Hb[0]=Hb[1]=Number.MAX_VALUE;Ic[0]=Ic[1]=Mb[0]=Mb[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];1==f&&(b=a[f],c=a[f+1],d=b,e=c);switch(g){case Da.M:d=a[f++];e=a[f++];b=d;c=e;Hb[0]=d;Hb[1]=e;Mb[0]=d;Mb[1]=e;break;case Da.L:var g=b,h=a[f],b=a[f+1],k=Hb,l=Mb;k[0]=Za(g,h);k[1]=Za(c,b);l[0]=ta(g,h);l[1]=ta(c,b);b=a[f++];c=a[f++];break;case Da.C:var g=b,m=a[f++],h=a[f++],p=a[f++],b=a[f++],k=a[f],l=a[f+1],n=Hb,q=Mb,t=cn,v=gb,u,w=t(g,m,p,k,gs);n[0]=Infinity;n[1]=Infinity;q[0]=-Infinity;q[1]=-Infinity;for(u=0;u<w;u++){var r=v(g,m,p,k,gs[u]);n[0]=Za(r,n[0]);q[0]=ta(r,q[0])}w=t(c,h,b,l,hs);for(u=0;u<w;u++)m=v(c,h,b,l,hs[u]),n[1]=Za(m,n[1]),q[1]=ta(m,q[1]);n[0]=Za(g,n[0]);q[0]=ta(g,q[0]);n[0]=Za(k,n[0]);q[0]=ta(k,q[0]);n[1]=Za(c,n[1]);q[1]=ta(c,q[1]);n[1]=Za(l,n[1]);q[1]=ta(l,q[1]);b=a[f++];c=a[f++];break;case Da.Q:g=b;v=a[f++];n=a[f++];h=a[f];b=a[f+1];k=Hb;l=Mb;w=en;q=yb;u=ta(Za(w(g,v,h),1),0);w=ta(Za(w(c,n,b),1),0);v=q(g,v,h,u);n=q(c,n,b,w);k[0]=Za(g,h,v);k[1]=Za(c,b,n);l[0]=ta(g,h,v);l[1]=ta(c,b,n);b=a[f++];c=a[f++];break;case Da.A:b=a[f++];g=a[f++];k=a[f++];c=a[f++];u=a[f++];h=a[f++]+u;f++;m=1-a[f++];1==f&&(d=uf(u)*k+b,e=vf(u)*c+g);var l=b,n=g,q=k,v=c,w=h,y=m,m=Hb,p=Mb,t=Wb,r=Xb,E=Math.abs(u-w);if(1E-4>E%sd&&1E-4<E)m[0]=l-q,m[1]=n-v,p[0]=l+q,p[1]=n+v;else for(mh[0]=Yk(u)*q+l,mh[1]=Xk(u)*v+n,nh[0]=Yk(w)*q+l,nh[1]=Xk(w)*v+n,t(m,mh,nh),r(p,mh,nh),u%=sd,0>u&&(u+=sd),w%=sd,0>w&&(w+=sd),u>w&&!y?w+=sd:u<w&&y&&(u+=sd),y&&(y=w,w=u,u=y),y=0;y<w;y+=Math.PI/2)y>u&&(oh[0]=Yk(y)*q+l,oh[1]=Xk(y)*v+n,t(m,oh,m),r(p,oh,p));b=uf(h)*k+b;c=vf(h)*c+g;break;case Da.R:d=b=a[f++];e=c=a[f++];k=a[f++];l=a[f++];g=d;h=e;k=d+k;l=e+l;n=Hb;q=Mb;n[0]=Za(g,k);n[1]=Za(h,l);q[0]=ta(g,k);q[1]=ta(h,l);break;case Da.Z:b=d,c=e}Wb(Lb,Lb,Hb);Xb(Ic,Ic,Mb)}0===f&&(Lb[0]=Lb[1]=Ic[0]=Ic[1]=0);return new S(Lb[0],Lb[1],Ic[0]-Lb[0],Ic[1]-Lb[1])},rebuildPath:function(a){for(var b=this.data,c,d,e,f,g,h,k=this._ux,l=this._uy,m=this._len,p=0;p<m;)switch(g=b[p++],1==p&&(e=b[p],f=b[p+1],c=e,d=f),g){case Da.M:c=e=b[p++];d=f=b[p++];a.moveTo(e,f);break;case Da.L:g=b[p++];h=b[p++];if(ke(g-e)>k||ke(h-f)>l||p===m-1)a.lineTo(g,h),e=g,f=h;break;case Da.C:a.bezierCurveTo(b[p++],b[p++],b[p++],b[p++],b[p++],b[p++]);e=b[p-2];f=b[p-1];break;case Da.Q:a.quadraticCurveTo(b[p++],b[p++],b[p++],b[p++]);e=b[p-2];f=b[p-1];break;case Da.A:e=b[p++];f=b[p++];h=b[p++];g=b[p++];var n=b[p++],q=b[p++],t=b[p++],v=b[p++],u=h>g?h:g,w=h>g?1:h/g,r=h>g?g/h:1,q=n+q;.001<Math.abs(h-g)?(a.translate(e,f),a.rotate(t),a.scale(w,r),a.arc(0,0,u,n,q,1-v),a.scale(1/w,1/r),a.rotate(-t),a.translate(-e,-f)):a.arc(e,f,u,n,q,1-v);1==p&&(c=uf(n)*h+e,d=vf(n)*g+f);e=uf(q)*h+e;f=vf(q)*g+f;break;case Da.R:c=e=b[p];d=f=b[p+1];a.rect(b[p++],b[p++],b[p++],b[p++]);break;case Da.Z:a.closePath(),e=c,f=d}}};ub.CMD=Da;var hn=2*Math.PI,Je=2*Math.PI,sc=ub.CMD,Ke=2*Math.PI,zb=[-1,-1,-1],Pb=[-1,-1],ks=Rk.prototype.getCanvasPattern,$k=Math.abs,Ry=new ub(!0);fa.prototype={constructor:fa,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path||Ry,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,k=f&&!!g.colorStops,l=e&&!!h.colorStops,m=f&&!!g.image,p=e&&!!h.image;c.bind(a,this,b);this.setTransform(a);if(this.__dirty){var n;k&&(n=n||this.getBoundingRect(),this._fillGradient=c.getGradient(a,g,n));l&&(n=n||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,n))}k?a.fillStyle=this._fillGradient:m&&(a.fillStyle=ks.call(g,a));l?a.strokeStyle=this._strokeGradient:p&&(a.strokeStyle=ks.call(h,a));g=c.lineDash;h=c.lineDashOffset;k=!!a.setLineDash;l=this.getGlobalScale();d.setScale(l[0],l[1]);this.__dirtyPath||g&&!k&&e?(d.beginPath(a),g&&!k&&(d.setLineDash(g),d.setLineDashOffset(h)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));f&&d.fill(a);g&&k&&(a.setLineDash(g),a.lineDashOffset=h);e&&d.stroke(a);g&&k&&a.setLineDash([]);this.restoreTransform(a);null!=c.text&&this.drawRectText(a,this.getBoundingRect())},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new ub},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new ub);this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}this._rect=a;if(b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c)d.copy(a),c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),1E-10<a&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;a=c[0];b=c[1];if(d.contain(a,b)){c=this.path.data;if(e.hasStroke()){var d=e.lineWidth,f=e.strokeNoScale?this.getLineScale():1;if(1E-10<f&&(e.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),jn(c,d/f,!0,a,b)))return!0}if(e.hasFill())return jn(c,0,!1,a,b)}return!1},dirty:function(a){null==a&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):lb.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(Q(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&1E-10<$k(a[0]-1)&&1E-10<$k(a[3]-1)?Math.sqrt($k(a[0]*a[3]-a[2]*a[1])):1}};fa.extend=function(a){var b=function(b){fa.call(this,b);a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){var d=this.shape=this.shape||{},g;for(g in c)!d.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(d[g]=c[g])}a.init&&a.init.call(this,b)};ja(b,fa);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b};ja(fa,lb);var Kd=ub.CMD,hu=[[],[],[]],on=Math.sqrt,gu=Math.atan2,Ki="mMlLvVhHzZcCqQtTsSaA".split(""),Ii=Math.sqrt,Xf=Math.sin,Wf=Math.cos,Vf=Math.PI,Ji=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},mn=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Ji(a,b))},P=function(a){lb.call(this,a)};P.prototype={constructor:P,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Ee(c,!0);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+="");c.bind(a,this,b);null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)&&(this.setTransform(a),c.rich?Nm(this,a,d,c,void 0):Im(this,a,d,c,void 0),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;this.__dirty&&Ee(a,!0);if(!this._rect){var b=$b(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);b.x+=a.x||0;b.y+=a.y||0;qi(a.textStroke,a.textStrokeWidth)&&(a=a.textStrokeWidth,b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a);this._rect=b}return this._rect}};ja(P,lb);var td=fa.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Jc=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],al=function(a){return ba.browser.ie&&11<=ba.browser.version?function(){var b=this.__clipPaths,c=this.style,d;if(b)for(var e=0;e<b.length;e++){var f=b[e],g=f&&f.shape,f=f&&f.type;if(g&&("sector"===f&&g.startAngle===g.endAngle||!("rect"!==f||g.width&&g.height))){for(b=0;b<Jc.length;b++)Jc[b][2]=c[Jc[b][0]],c[Jc[b][0]]=Jc[b][1];d=!0;break}}a.apply(this,arguments);if(d)for(b=0;b<Jc.length;b++)c[Jc[b][0]]=Jc[b][2]}:a},Dc=fa.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:al(fa.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,k=b.clockwise,l=Math.cos(g),m=Math.sin(g);a.moveTo(l*e+c,m*e+d);a.lineTo(l*f+c,m*f+d);a.arc(c,d,f,g,h,!k);a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d);0!==e&&a.arc(c,d,e,h,g,k);a.closePath()}}),ls=fa.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,e,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,e,!0)}}),Ma=fa.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){qn(a,b,!0)}}),Fb=fa.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){qn(a,b,!1)}}),ga=fa.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width,f=b.height;b.r?Gm(a,b):a.rect(c,d,e,f);a.closePath()}}),Qa=fa.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),xa=[],wj=fa.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,k=b.cpx2,l=b.cpy2,m=b.percent;0!==m&&(a.moveTo(c,d),null==k||null==l?(1>m&&(Id(c,g,e,m,xa),g=xa[1],e=xa[2],Id(d,h,f,m,xa),h=xa[1],f=xa[2]),a.quadraticCurveTo(g,h,e,f)):(1>m&&(dn(c,g,k,e,m,xa),g=xa[1],k=xa[2],e=xa[3],dn(d,h,l,f,m,xa),h=xa[1],l=xa[2],f=xa[3]),a.bezierCurveTo(g,h,k,l,e,f)))},pointAt:function(a){return rn(this.shape,a,!1)},tangentAt:function(a){a=rn(this.shape,a,!0);return Dd(a,a)}}),ms=fa.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise;a.moveTo(Math.cos(f)*e+c,Math.sin(f)*e+d);a.arc(c,d,e,f,g,!h)}}),ns=fa.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return fa.prototype.getBoundingRect.call(this)}}),Kc=function(a){this.colorStops=a||[]};Kc.prototype={constructor:Kc,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var Td=function(a,b,c,d,e,f){this.x=null==a?0:a;this.y=null==b?0:b;this.x2=null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};Td.prototype={constructor:Td};ja(Td,Kc);var qh=function(a,b,c,d,e){this.x=null==a?.5:a;this.y=null==b?.5:b;this.r=null==c?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};qh.prototype={constructor:qh};ja(qh,Kc);var Ld=Math.round,$f=Math.max,ag=Math.min,Yf={},ic=function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy();f.__dirtyPath&&f.buildPath(f.path,f.shape,!0);c.push(f.path)}d=new fa(b);d.createPathProxy();d.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)};return d},Pa=(Object.freeze||Object)({extendShape:Qb,extendPath:function(a,b){return fa.extend(nn(a,b))},makePath:Le,makeImage:un,mergePath:ic,resizePath:tn,subPixelOptimizeLine:$c,subPixelOptimizeRect:Li,subPixelOptimize:vb,setHoverStyle:T,setLabelStyle:Db,setTextStyle:ua,setText:function(a,b,c){var d={isRectText:!0},e;!1===c?e=!0:d.autoColor=c;Dn(a,b,d,e);a.host&&a.host.dirty&&a.host.dirty(!1)},getFont:Mi,updateProps:Z,initProps:hb,getTransform:ad,applyTransform:Eb,transformDirection:Ni,groupTransition:Oi,clipPointsByRect:Gn,clipRectByRect:function(a,b){var c=$f(a.x,b.x),d=ag(a.x+a.width,b.x+b.width),e=$f(a.y,b.y),f=ag(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}},createIcon:Me,Group:F,Image:Ka,Text:P,Circle:td,Sector:Dc,Ring:ls,Polygon:Ma,Polyline:Fb,Rect:ga,Line:Qa,BezierCurve:wj,Arc:ms,CompoundPath:ns,LinearGradient:Td,RadialGradient:qh,BoundingRect:S}),Sy=["textStyle","color"],Ty=je([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);V.prototype={constructor:V,init:null,mergeOption:function(a){K(this.option,a,!0)},get:function(a,b){return null==a?this.option:Hn(this.option,this.parsePath(a),!b&&Pi(this,a))},getShallow:function(a,b){var c=this.option,c=null==c?c:c[a],d=!b&&Pi(this,a);null==c&&d&&(c=d.getShallow(a));return c},getModel:function(a,b){var c=null==a?this.option:Hn(this.option,a=this.parsePath(a)),d;b=b||(d=Pi(this,a))&&d.getModel(a);return new V(c,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(G(this.option))},setReadOnly:function(a){},parsePath:function(a){"string"===typeof a&&(a=a.split("."));return a},customizeGetParent:function(a){this["\x00ec_\x00getParent"]=a},isAnimationEnabled:function(){if(!ba.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};Ie(V);M(V,{getLineStyle:function(a){a=Py(this,a);var b=this.getLineDash(a.lineWidth);b&&(a.lineDash=b);return a},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2);a*=4;return"solid"===b||null==b?null:"dashed"===b?[a,a]:[c,c]}});M(V,{getAreaStyle:function(a,b){return Qy(this,a,b)}});M(V,{getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(Sy):null)},getFont:function(){return Mi({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return $b(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}});M(V,{getItemStyle:function(a,b){var c=Ty(this,a,b),d=this.getBorderLineDash();d&&(c.lineDash=d);return c},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}});var tc=r,Md=Q,Pn="fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),bl={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a,!0),g=c.getRawDataItem(a),c=c.getItemVisual(a,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:f,dataIndex:e,data:g,dataType:b,value:d,color:c,marker:Gi(c),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var f=this.getData(c).getItemModel(a);a=this.getDataParams(a,c);null!=d&&a.value instanceof Array&&(a.value=a.value[d]);d=f.get([e||"label",b,"formatter"]);if("function"===typeof d)return a.status=b,d(a);if("string"===typeof d)return Fi(d,a)},getRawValue:function(a,b){var c=this.getData(b).getRawDataItem(a);if(null!=c)return!Md(c)||c instanceof Array?c:c.value},formatTooltip:Ga},cl=function(){var a=0;return function(){var b="\x00__ec_prop_getter_"+a++;return function(a){return a[b]||(a[b]={})}}}(),ou=0,eg=r,Kn="left right top bottom width height".split(" "),dd=[["width","left","right"],["height","top","bottom"]],kf=Ui;C(Ui,"vertical");C(Ui,"horizontal");var Uy=Array.prototype.push,U=V.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){V.call(this,a,b,c,d);this.uid=Ti("componentModel")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?ed({},a):{},e=b.getTheme();K(a,e.get(this.mainType));K(a,this.getDefaultOption());c&&uc(a,d,c)},mergeOption:function(a,b){K(this.option,a,!0);var c=this.layoutMode;c&&uc(this.option,a,c)},optionUpdated:function(a,b){},getDefaultOption:function(){if(!this.hasOwnProperty("\x00ec_\x00__defaultOption")){for(var a=[],b=this.constructor;b;){var c=b.prototype.defaultOption;c&&a.push(c);b=b.superClass}b={};for(c=a.length-1;0<=c;c--)b=K(b,a[c],!0);this["\x00ec_\x00__defaultOption"]=b}return this["\x00ec_\x00__defaultOption"]},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});Rf(U,{registerWhenExtend:!0});(function(a){var b={};a.registerSubTypeDefaulter=function(a,d){a=nc(a);b[a.main]=d};a.determineSubType=function(c,d){var e=d.type;if(!e){var f=nc(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e};return a})(U);(function(a,b){function c(a){var c={},f=[];r(a,function(g){var h=d(c,g),k=h.originalDeps=b(g),k=e(k,a);h.entryCount=k.length;0===h.entryCount&&f.push(g);r(k,function(a){0>R(h.predecessor,a)&&h.predecessor.push(a);var b=d(c,a);0>R(b.successor,a)&&b.successor.push(g)})});return{graph:c,noEntryList:f}}function d(a,b){a[b]||(a[b]={predecessor:[],successor:[]});return a[b]}function e(a,b){var c=[];r(a,function(a){0<=R(b,a)&&c.push(a)});return c}a.topologicalTravel=function(a,b,d,e){function f(a){h[a].entryCount--;0===h[a].entryCount&&k.push(a)}function g(a){q[a]=!0;f(a)}if(a.length){b=c(b);var h=b.graph,k=b.noEntryList,q={};for(r(a,function(a){q[a]=!0});k.length;){a=k.pop();b=h[a];var t=!!q[a];t&&(d.call(e,a,b.originalDeps.slice()),delete q[a]);r(b.successor,t?g:f)}r(q,function(){throw Error("Circle dependency may exists");})}}})(U,function(a){var b=[];r(U.getClassesByMainType(a),function(a){Uy.apply(b,a.prototype.dependencies||[])});return z(b,function(a){return nc(a).main})});M(U,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var os="";"undefined"!==typeof navigator&&(os=navigator.platform||"");var ru={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),textStyle:{fontFamily:os.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1},dl={clearColorPalette:function(){this["\x00ec_\x00colorIdx"]=0;Qf(this,"colorNameMap",{})},getColorFromPalette:function(a,b){b=b||this;var c=b["\x00ec_\x00colorIdx"]||0,d=b["\x00ec_\x00colorNameMap"]||Qf(b,"colorNameMap",{});if(d.hasOwnProperty(a))return d[a];var e=this.get("color",!0)||[];if(e.length){var f=e[c];a&&(d[a]=f);b["\x00ec_\x00colorIdx"]=(c+1)%e.length;return f}}},ob=r,vc=Fa,Ln=z,el=x,fl=Q,gl=V.extend({constructor:gl,init:function(a,b,c,d){c=c||{};this.option=null;this._theme=new V(c);this._optionManager=d},setOption:function(a,b){ca(!("\x00_ec_inner"in a),"please use chart.getOption()");this._optionManager.setOption(a,b);this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):qu.call(this,d);b=!0}"timeline"!==a&&"media"!==a||this.restoreData();a&&"recreate"!==a&&"timeline"!==a||(d=c.getTimelineOption(this))&&(this.mergeOption(d),b=!0);a&&"recreate"!==a&&"media"!==a||(a=c.getMediaOption(this,this._api),a.length&&ob(a,function(a){this.mergeOption(a,b=!0)},this));return b},mergeOption:function(a){var b=this.option,c=this._componentsMap,d=[];ob(a,function(a,c){null!=a&&(U.hasClass(c)?d.push(c):b[c]=null==b[c]?G(a):K(b[c],a,!0))});U.topologicalTravel(d,U.getAllClassMainTypes(),function(d,f){var e=nb(a[d]),e=Si(c.get(d),e);In(e);ob(e,function(a,b){var c=a.option;if(fl(c)){a.keyInfo.mainType=d;var e=a.keyInfo,f=a.exist,c=c.type?c.type:f?f.subType:U.determineSubType(d,c);e.subType=c}});var h=su(c,f);b[d]=[];c.set(d,[]);ob(e,function(a,e){var f=a.exist,g=a.option;ca(fl(g)||f,"Empty component definition");if(g){var k=U.getClass(d,a.keyInfo.subType,!0);if(f&&f instanceof k)f.name=a.keyInfo.name,f.mergeOption(g,this),f.optionUpdated(g,!1);else{var l=I({dependentModels:h,componentIndex:e},a.keyInfo),f=new k(g,this,this,l);I(f,l);f.init(g,this,this,l);f.optionUpdated(null,!0)}}else f.mergeOption({},this),f.optionUpdated({},!1);c.get(d)[e]=f;b[d][e]=f.option},this);"series"===d&&(this._seriesIndices=Vi(c.get("series")))},this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=G(this.option);ob(a,function(b,c){if(U.hasClass(c)){b=nb(b);for(var d=b.length-1;0<=d;d--)bg(b[d])&&b.splice(d,1);a[c]=b}});delete a["\x00_ec_inner"];return a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);if(c)return c[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];if(null!=c)el(c)||(c=[c]),b=vc(Ln(c,function(a){return f[a]}),function(a){return!!a});else if(null!=d)var g=el(d),b=vc(f,function(a){return g&&0<=R(d,a.id)||!g&&a.id===d});else if(null!=e)var h=el(e),b=vc(f,function(a){return h&&0<=R(e,a.name)||!h&&a.name===e});else b=f.slice();return Mn(b,a)},findComponents:function(a){var b=a.mainType,c=function(a){var c=b+"Index",d=b+"Id",g=b+"Name";return!a||null==a[c]&&null==a[d]&&null==a[g]?null:{mainType:b,index:a[c],id:a[d],name:a[g]}}(a.query),c=c?this.queryComponents(c):this._componentsMap.get(b);return function(b){return a.filter?vc(b,a.filter):b}(Mn(c,a))},eachComponent:function(a,b,c){var d=this._componentsMap;"function"===typeof a?(c=b,b=a,d.each(function(a,d){ob(a,function(a,e){b.call(c,d,a,e)})})):ya(a)?ob(d.get(a),b,c):fl(a)&&(a=this.findComponents(a),ob(a,b,c))},getSeriesByName:function(a){var b=this._componentsMap.get("series");return vc(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return vc(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){fg(this);ob(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){ob(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){fg(this);ob(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return ob(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){fg(this);return 0>R(this._seriesIndices,a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){fg(this);var c=vc(this._componentsMap.get("series"),a,b);this._seriesIndices=Vi(c)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=Vi(a.get("series"));var b=[];a.each(function(a,d){b.push(d)});U.topologicalTravel(b,U.getAllClassMainTypes(),function(b,d){ob(a.get(b),function(a){a.restoreData()})})}});M(gl,dl);var uu="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" "),hl={};ab.prototype={constructor:ab,create:function(a,b){var c=[];r(hl,function(d,e){var f=d.create(a,b);c=c.concat(f||[])});this._coordinateSystems=c},update:function(a,b){r(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ab.register=function(a,b){hl[a]=b};ab.get=function(a){return hl[a]};var gg=r,hg=z,Nn=K,xu=/^(min|max)?(.+)$/;Wi.prototype={constructor:Wi,setOption:function(a,b){a=G(a,!0);var c=this._optionBackup,d=vu.call(this,a,b,!c);this._newBaseOption=d.baseOption;c?(zu(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=this._optionBackup;this._timelineOptions=hg(b.timelineOptions,G);this._mediaList=hg(b.mediaList,G);this._mediaDefault=G(b.mediaDefault);this._currentMediaIndices=[];return G(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;c.length&&(a=a.getComponent("timeline"))&&(b=G(c[a.getCurrentIndex()],!0));return b},getMediaOption:function(a){a=this._api.getWidth();var b=this._api.getHeight(),c=this._mediaList,d=this._mediaDefault,e=[],f=[];if(!c.length&&!d)return f;for(var g=0,h=c.length;g<h;g++)wu(c[g].query,a,b)&&e.push(g);!e.length&&d&&(e=[-1]);e.length&&!yu(e,this._currentMediaIndices)&&(f=hg(e,function(a){return G(-1===a?d.option:c[a].option)}));this._currentMediaIndices=e;return f}};var Nd=Q,On="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" "),Vy=function(a,b){r(fd(a.series),function(a){if(Nd(a)&&Nd(a)){wc(a);Sa(a.label);Sa(a.upperLabel);Sa(a.edgeLabel);var b=a.markPoint;wc(b);Sa(b&&b.label);b=a.markLine;wc(a.markLine);Sa(b&&b.label);b=a.markArea;Sa(b&&b.label);bb(a,"axisLabel");bb(a,"title");bb(a,"detail");var c=a.data;if(c)for(b=0;b<c.length;b++)wc(c[b]),Sa(c[b]&&c[b].label);if((b=a.markPoint)&&b.data)for(c=b.data,b=0;b<c.length;b++)wc(c[b]),Sa(c[b]&&c[b].label);if((b=a.markLine)&&b.data)for(a=b.data,b=0;b<a.length;b++)x(a[b])?(wc(a[b][0]),Sa(a[b][0]&&a[b][0].label),wc(a[b][1]),Sa(a[b][1]&&a[b][1].label)):(wc(a[b]),Sa(a[b]&&a[b].label))}});var c="xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" ");b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis");r(c,function(b){r(fd(a[b]),function(a){a&&(bb(a,"axisLabel"),bb(a.axisPointer,"label"))})});r(fd(a.parallel),function(a){a=a&&a.parallelAxisDefault;bb(a,"axisLabel");bb(a&&a.axisPointer,"label")});r(fd(a.calendar),function(a){bb(a,"dayLabel");bb(a,"monthLabel");bb(a,"yearLabel")});r(fd(a.radar),function(a){bb(a,"name")});r(fd(a.geo),function(a){Nd(a)&&(Sa(a.label),r(fd(a.regions),function(a){Sa(a.label)}))});Sa(Xi(a.timeline).label);bb(Xi(a.axisPointer),"label");bb(Xi(a.tooltip).axisPointer,"label")},Au=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Wy="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),ps="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),Un=function(a,b){Vy(a,b);a.series=nb(a.series);r(a.series,function(a){if(Q(a)){var b=a.type;"pie"!==b&&"gauge"!==b||null==a.clockWise||(a.clockwise=a.clockWise);if("gauge"===b){for(var b=["pointer.color"],c=a,f=0;f<b.length&&(c=c&&c[b[f]],null!=c);f++);b=c;if(null!=b){for(var c=["itemStyle.normal.color"],f=a,g,h=0;h<c.length-1;h++)g=c[h],null==f[g]&&(f[g]={}),f=f[g];null==f[c[h]]&&(f[c[h]]=b)}}for(b=0;b<ps.length;b++)if(ps[b]===a.type){Qn(a);break}}});a.dataRange&&(a.visualMap=a.dataRange);r(Wy,function(b){if(b=a[b])x(b)||(b=[b]),r(b,function(a){Qn(a)})})},wa=U.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(a,c);a=this.getInitialData(a,c);D&&ca(a,"getInitialData returned invalid data.");this["\x00ec_\x00dataBeforeProcessed"]=a;this.restoreData()},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?ed({},a):{};U.hasClass(this.subType);K(a,b.getTheme().get(this.subType));K(a,this.getDefaultOption());bd(a.label,["show"]);this.fillDataTextStyle(a.data);c&&uc(a,d,c)},mergeOption:function(a,b){a=K(this.option,a,!0);this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&uc(this.option,a,c);if(c=this.getInitialData(a,b))this["\x00ec_\x00data"]=c,Qf(this,"dataBeforeProcessed",c.cloneShallow())},fillDataTextStyle:function(a){if(a)for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&bd(a[c].label,b)},getInitialData:function(){},getData:function(a){var b=this["\x00ec_\x00data"];return null==a?b:b.getLinkedData(a)},setData:function(a){this["\x00ec_\x00data"]=a},getRawData:function(){return this["\x00ec_\x00dataBeforeProcessed"]},coordDimToDataDim:function(a){return nu(this.getData(),a)},dataDimToCoordDim:function(a){var b;a:{b=this.getData();var c=b.dimensions;a=b.getDimension(a);for(var d=0;d<c.length;d++){var e=b.getDimensionInfo(c[d]);if(e.name===a){b=e.coordDim;break a}}b=void 0}return b},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){function d(c){function d(a,c){var d=e.getDimensionInfo(c);if(d&&!1!==d.otherDims.tooltip){var h=d.type;(d=(f?"- "+(d.tooltipName||d.name)+": ":"")+("ordinal"===h?a+"":"time"===h?b?"":Hi("yyyy/MM/dd hh:mm:ss",a):bc(a)))&&g.push(la(d))}}var f=Cd(c,function(a,b,c){b=e.getDimensionInfo(c);return a|(b&&!1!==b.tooltip&&null!=b.tooltipName)},0),g=[],h=Jn(e,"tooltip");h.length?r(h,function(b){d(e.get(b,a),b)}):r(c,d);return(f?"\x3cbr/\x3e":"")+g.join(f?"\x3cbr/\x3e":", ")}var e=this["\x00ec_\x00data"];c=this.getRawValue(a);c=x(c)?d(c):la(bc(c));var f=e.getName(a),g=e.getItemVisual(a,"color");Q(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color);var g=Gi(g||"transparent"),h=this.name;"\x00-"===h&&(h="");h=h?la(h)+(b?": ":"\x3cbr/\x3e"):"";return b?g+h+c:h+g+(f?la(f)+": "+c:c)},isAnimationEnabled:function(){if(ba.node)return!1;var a=this.getShallow("animation");a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1);return a},restoreData:function(){Qf(this,"data",this["\x00ec_\x00dataBeforeProcessed"].cloneShallow())},getColorFromPalette:function(a,b){var c=this.ecModel,d=dl.getColorFromPalette.call(this,a,b);d||(d=c.getColorFromPalette(a,b));return d},getAxisTooltipData:null,getTooltipPosition:null});M(wa,bl);M(wa,dl);var dc=function(){this.group=new F;this.uid=Ti("viewComponent")};dc.prototype={constructor:dc,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var il=dc.prototype;il.updateView=il.updateLayout=il.updateVisual=function(a,b,c,d){};Ie(dc);Rf(dc,{registerWhenExtend:!0});Ta.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){Rn(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){Rn(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){}};var jl=Ta.prototype;jl.updateView=jl.updateLayout=jl.updateVisual=function(a,b,c,d){this.render(a,b,c,d)};Ie(Ta,["dispose"]);Rf(Ta,{registerWhenExtend:!0});var rh=Math.PI,va=r,Yn=U.parseClassType,kl={zrender:"3.7.3"},le={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}},eo=/^[a-zA-Z0-9_]+$/;Qe.prototype.on=Od("on");Qe.prototype.off=Od("off");Qe.prototype.one=Od("one");M(Qe,pb);var Y=Re.prototype;Y._onframe=function(){if(this.__optionUpdated){var a=this.__optionUpdated.silent;this.__flagInMainProcess=!0;Pd.prepareAndUpdate.call(this);this.__optionUpdated=this.__flagInMainProcess=!1;jg.call(this,a);!a&&this.trigger("updated")}};Y.getDom=function(){return this._dom};Y.getZr=function(){return this._zr};Y.setOption=function(a,b,c){D&&ca(!this.__flagInMainProcess,"`setOption` should not be called during main process.");var d;Q(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge);this.__flagInMainProcess=!0;if(!this._model||b){b=new Wi(this._api);var e=this._theme;(this._model=new gl(null,null,e,b)).init(null,null,e,b)}this._model.setOption(a,co);c?(this.__optionUpdated={silent:d},this.__flagInMainProcess=!1):(Pd.prepareAndUpdate.call(this),this._zr.flush(),this.__flagInMainProcess=this.__optionUpdated=!1,jg.call(this,d),!d&&this.trigger("updated"))};Y.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Y.getModel=function(){return this._model};Y.getOption=function(){return this._model&&this._model.getOption()};Y.getWidth=function(){return this._zr.getWidth()};Y.getHeight=function(){return this._zr.getHeight()};Y.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Y.getRenderedCanvas=function(a){if(ba.canvasSupported){a=a||{};a.pixelRatio=a.pixelRatio||1;a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr,c=b.storage.getDisplayList();r(c,function(a){a.stopAnimation(!0)});return b.painter.getRenderedCanvas(a)}};Y.getSvgDataUrl=function(){if(ba.svgSupported){var a=this._zr,b=a.storage.getDisplayList();r(b,function(a){a.stopAnimation(!0)});return a.painter.pathToSvg()}};Y.getDataURL=function(a){a=a||{};var b=this._model,c=[],d=this;va(a.excludeComponents,function(a){b.eachComponent({mainType:a},function(a){a=d._componentsMap[a.__viewId];a.group.ignore||(c.push(a),a.group.ignore=!0)})});a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));va(c,function(a){a.group.ignore=!1});return a};Y.getConnectedDataURL=function(a){if(ba.canvasSupported){var b=this.group,c=Math.min,d=Math.max;if(mg[b]){var e=Infinity,f=Infinity,g=-Infinity,h=-Infinity,k=[],l=a&&a.pixelRatio||1;r(gd,function(l,m){if(l.group===b){var p=l.getRenderedCanvas(G(a)),n=l.getDom().getBoundingClientRect();e=c(n.left,e);f=c(n.top,f);g=d(n.right,g);h=d(n.bottom,h);k.push({dom:p,left:n.left,top:n.top})}});var e=e*l,f=f*l,g=g*l,h=h*l,m=g-e,p=h-f,n=Bd();n.width=m;n.height=p;var q=zi(n);va(k,function(a){a=new Ka({style:{x:a.left*l-e,y:a.top*l-f,image:a.dom}});q.add(a)});q.refreshImmediately();return n.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}};Y.convertToPixel=C(Vn,"convertToPixel");Y.convertFromPixel=C(Vn,"convertFromPixel");Y.containPixel=function(a,b){var c;a=Oe(this._model,a);r(a,function(a,e){0<=e.indexOf("Models")&&r(a,function(a){var d=a.coordinateSystem;d&&d.containPoint?c|=!!d.containPoint(b):"seriesModels"===e?(d=this._chartsMap[a.__viewId])&&d.containPoint?c|=d.containPoint(b,a):D&&console.warn(e+": "+(d?"The found component do not support containPoint.":"No view mapping to the found component.")):D&&console.warn(e+": containPoint is not supported")},this)},this);return!!c};Y.getVisual=function(a,b){a=Oe(this._model,a,{defaultMainType:"series"});var c=a.seriesModel;D&&(c||console.warn("There is no specified seires model"));var c=c.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=d?c.getItemVisual(d,b):c.getVisual(b)};Y.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]};Y.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var Pd={update:function(a){var b=this._model,c=this._api,d=this._coordSysMgr,e=this._zr;b&&(b.restoreData(),d.create(this._model,this._api),Cu.call(this,b,c),Du.call(this,b),d.update(b,c),cj.call(this,b,a),Fu.call(this,b,a),a=b.get("backgroundColor")||"transparent",d=e.painter,d.isSingleCanvas&&d.isSingleCanvas()?e.configLayer(0,{clearColor:a}):(ba.canvasSupported||(d=Ya(a),a=Zb(d,"rgb"),0===d[3]&&(a="transparent")),a.colorStops||a.image?(e.configLayer(0,{clearColor:a}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&e.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=a)),va(bj,function(a){a(b,c)}))},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),cj.call(this,b,a),aj.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),cj.call(this,b,a,!0),aj.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(Eu.call(this,b,a),aj.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;ao.call(this,"component",b);ao.call(this,"chart",b);Pd.update.call(this,a)}};Y.resize=function(a){D&&ca(!this.__flagInMainProcess,"`resize` should not be called during main process.");this.__flagInMainProcess=!0;this._zr.resize(a);var b=this._model&&this._model.resetOption("media");Pd[b?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this.__flagInMainProcess=!1;a=a&&a.silent;jg.call(this,a);!a&&this.trigger("updated")};Y.showLoading=function(a,b){Q(a)&&(b=a,a="");a=a||"default";this.hideLoading();if(sh[a]){var c=sh[a](this._api,b),d=this._zr;this._loadingFX=c;d.add(c)}else D&&console.warn("Loading effects "+a+" not exists.")};Y.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Y.makeActionFromEvent=function(a){var b=I({},a);b.type=lg[a.type];return b};Y.dispatchAction=function(a,b){Q(b)||(b={silent:!!b});ig[a.type]&&this._model&&(this.__flagInMainProcess?this._pendingActions.push(a):(Xn.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&ba.browser.weChat&&this._throttledZrFlush(),jg.call(this,b.silent),!b.silent&&this.trigger("updated")))};Y.on=Od("on");Y.off=Od("off");Y.one=Od("one");var Xy="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");Y._initEvents=function(){va(Xy,function(a){this._zr.on(a,function(b){var c=this.getModel(),d=b.target,e;"globalout"===a?e={}:d&&null!=d.dataIndex?e=(c=d.dataModel||c.getSeriesByIndex(d.seriesIndex))&&c.getDataParams(d.dataIndex,d.dataType)||{}:d&&d.eventData&&(e=I({},d.eventData));e&&(e.event=b,e.type=a,this.trigger(a,e))},this)},this);va(lg,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)};Y.isDisposed=function(){return this._disposed};Y.clear=function(){this.setOption({series:[]},!0)};Y.dispose=function(){if(this._disposed)D&&console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var a=this._api,b=this._model;va(this._componentsViews,function(c){c.dispose(b,a)});va(this._chartsViews,function(c){c.dispose(b,a)});this._zr.dispose();delete gd[this.id]}};M(Re,pb);var ig={},lg={},$i=[],co=[],bj=[],Se=[],Tn={},sh={},gd={},mg={},Yy=new Date-0,Zy=new Date-0,wf={};ra(2E3,function(a){a.eachRawSeries(function(b){var c=(b.visualColorAccessPath||"itemStyle.normal.color").split("."),d=b.getData(),e=b.get(c)||b.getColorFromPalette(b.get("name"));d.setVisual("color",e);a.isSeriesFiltered(b)||("function"!==typeof e||e instanceof Kc||d.each(function(a){d.setItemVisual(a,"color",e(b.getDataParams(a)))}),d.each(function(a){var b=d.getItemModel(a).get(c,!0);null!=b&&d.setItemVisual(a,"color",b)}))})});cb(Un);sh["default"]=function(a,b){b=b||{};H(b,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new ga({style:{fill:b.maskColor},zlevel:b.zlevel,z:1E4}),d=new ms({shape:{startAngle:-rh/2,endAngle:-rh/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),e=new ga({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});d.animateShape(!0).when(1E3,{endAngle:3*rh/2}).start("circularInOut");d.animateShape(!0).when(1E3,{startAngle:3*rh/2}).delay(300).start("circularInOut");var f=new F;f.add(d);f.add(e);f.add(c);f.resize=function(){var b=a.getWidth()/2,f=a.getHeight()/2;d.setShape({cx:b,cy:f});var k=d.shape.r;e.setShape({x:b-k,y:f-k,width:2*k,height:2*k});c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};f.resize();return f};W({type:"highlight",event:"highlight",update:"highlight"},Ga);W({type:"downplay",event:"downplay",update:"downplay"},Ga);xc.prototype={constructor:xc,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];go(a,{},d,"_oldKeyGetter",this);go(b,c,e,"_newKeyGetter",this);for(b=0;b<a.length;b++){var f=d[b],g=c[f];if(null!=g){var h=g.length;h?(1===h&&(c[f]=null),g=g.unshift()):c[f]=null;this._update&&this._update(g,b)}else this._remove&&this._remove(b)}for(b=0;b<e.length;b++)if(f=e[b],c.hasOwnProperty(f)&&(g=c[f],null!=g))if(g.length)for(a=0,h=g.length;a<h;a++)this._add&&this._add(g[a]);else this._add&&this._add(g)}};var ll=Q,th="undefined"===typeof window?global:window,$y={"float":"undefined"===typeof th.Float64Array?Array:th.Float64Array,"int":"undefined"===typeof th.Int32Array?Array:th.Int32Array,ordinal:Array,number:Array,time:Array},Hu=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];ng.prototype.pure=!1;ng.prototype.count=function(){return this._array.length};ng.prototype.getItem=function(a){return this._array[a]};var ia=function(a,b){a=a||["x","y"];for(var c={},d=[],e=0;e<a.length;e++){var f,g;"string"===typeof a[e]?(f=a[e],g={name:f,coordDim:f,coordDimIndex:0,stackable:!1,type:"number"}):(g=a[e],f=g.name,g.type=g.type||"number",g.coordDim||(g.coordDim=f,g.coordDimIndex=0));g.otherDims=g.otherDims||{};d.push(f);c[f]=g}this.dimensions=d;this._dimensionInfos=c;this.hostModel=b;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]},N=ia.prototype;N.type="list";N.hasItemOption=!0;N.getDimension=function(a){isNaN(a)||(a=this.dimensions[a]||a);return a};N.getDimensionInfo=function(a){return G(this._dimensionInfos[this.getDimension(a)])};N.initData=function(a,b,c){a=a||[];var d=x(a);d&&(a=new ng(a));if(D&&!d&&("function"!=typeof a.getItem||"function"!=typeof a.count))throw Error("Inavlid data provider.");this._rawData=a;var d=this._storage={},e=this.indices=[],f=this.dimensions,g=this._dimensionInfos,h=a.count(),k=[],l={},m;b=b||[];for(var p=0;p<f.length;p++){var n=g[f[p]];0===n.otherDims.itemName&&(m=p);d[f[p]]=new $y[n.type](h)}var q=this;c||(q.hasItemOption=!1);c=c||function(a,b,c,d){c=Ne(a);Qi(a)&&(q.hasItemOption=!0);return Ri(c instanceof Array?c[d]:c,g[b])};for(p=0;p<h;p++){for(var n=a.getItem(p),t=0;t<f.length;t++){var v=f[t];d[v][p]=c(n,v,p,t)}e.push(p)}for(p=0;p<h;p++)n=a.getItem(p),!b[p]&&n&&(null!=n.name?b[p]=n.name:null!=m&&(b[p]=d[f[m]][p])),c=b[p]||"",e=n&&n.id,!e&&c&&(l[c]=l[c]||0,e=c,0<l[c]&&(e+="__ec__"+l[c]),l[c]++),e&&(k[p]=e);this._nameList=b;this._idList=k};N.count=function(){return this.indices.length};N.get=function(a,b,c){var d=this._storage,e=this.indices[b];if(null==e||!d[a])return NaN;d=d[a][e];if(c&&(c=this._dimensionInfos[a])&&c.stackable)for(c=this.stackedOn;c;){e=c.get(a,b);if(0<=d&&0<e||0>=d&&0>e)d+=e;c=c.stackedOn}return d};N.getValues=function(a,b,c){var d=[];x(a)||(c=b,b=a,a=this.dimensions);for(var e=0,f=a.length;e<f;e++)d.push(this.get(a[e],b,c));return d};N.hasValue=function(a){for(var b=this.dimensions,c=this._dimensionInfos,d=0,e=b.length;d<e;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0};N.getDataExtent=function(a,b,c){a=this.getDimension(a);var d=this._storage[a],e=this.getDimensionInfo(a);b=e&&e.stackable&&b;if(e=(this._extent||(this._extent={}))[a+!!b])return e;if(d){for(var e=Infinity,f=-Infinity,g=0,h=this.count();g<h;g++)if(d=this.get(a,g,b),!c||c(d,a,g))d<e&&(e=d),d>f&&(f=d);return this._extent[a+!!b]=[e,f]}return[Infinity,-Infinity]};N.getSum=function(a,b){var c=0;if(this._storage[a])for(var d=0,e=this.count();d<e;d++){var f=this.get(a,d,b);isNaN(f)||(c+=f)}return c};N.indexOf=function(a,b){var c=this._storage[a],d=this.indices;if(c)for(var e=0,f=d.length;e<f;e++)if(c[d[e]]===b)return e;return-1};N.indexOfName=function(a){for(var b=this.indices,c=this._nameList,d=0,e=b.length;d<e;d++)if(c[b[d]]===a)return d;return-1};N.indexOfRawIndex=function(a){var b=this.indices,c=b[a];if(null!=c&&c===a)return a;for(var c=0,d=b.length-1;c<=d;){var e=(c+d)/2|0;if(b[e]<a)c=e+1;else if(b[e]>a)d=e-1;else return e}return-1};N.indicesOfNearest=function(a,b,c,d){var e=[];if(!this._storage[a])return e;null==d&&(d=Infinity);for(var f=Number.MAX_VALUE,g=-1,h=0,k=this.count();h<k;h++){var l=b-this.get(a,h,c),m=Math.abs(l);if(l<=d&&m<=f){if(m<f||0<=l&&0>g)f=m,g=l,e.length=0;e.push(h)}}return e};N.getRawIndex=function(a){a=this.indices[a];return null==a?-1:a};N.getRawDataItem=function(a){return this._rawData.getItem(this.getRawIndex(a))};N.getName=function(a){return this._nameList[this.indices[a]]||""};N.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""};N.each=function(a,b,c,d){"function"===typeof a&&(d=c,c=b,b=a,a=[]);a=z(fj(a),this.getDimension,this);var e=[],f=a.length,g=this.indices;d=d||this;for(var h=0;h<g.length;h++)switch(f){case 0:b.call(d,h);break;case 1:b.call(d,this.get(a[0],h,c),h);break;case 2:b.call(d,this.get(a[0],h,c),this.get(a[1],h,c),h);break;default:for(var k=0;k<f;k++)e[k]=this.get(a[k],h,c);e[k]=h;b.apply(d,e)}};N.filterSelf=function(a,b,c,d){"function"===typeof a&&(d=c,c=b,b=a,a=[]);a=z(fj(a),this.getDimension,this);var e=[],f=[],g=a.length,h=this.indices;d=d||this;for(var k=0;k<h.length;k++){var l;if(g)if(1===g)l=b.call(d,this.get(a[0],k,c),k);else{for(l=0;l<g;l++)f[l]=this.get(a[l],k,c);f[l]=k;l=b.apply(d,f)}else l=b.call(d,k);l&&e.push(h[k])}this.indices=e;this._extent={};return this};N.mapArray=function(a,b,c,d){"function"===typeof a&&(d=c,c=b,b=a,a=[]);var e=[];this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d);return e};N.map=function(a,b,c,d){a=z(fj(a),this.getDimension,this);var e=io(this,a),f=e.indices=this.indices,g=e._storage,h=[];this.each(a,function(){var c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d){"number"===typeof d&&(h[0]=d,d=h);for(var e=0;e<d.length;e++){var p=g[a[e]],n=f[c];p&&(p[n]=d[e])}}},c,d);return e};N.downSample=function(a,b,c,d){var e=io(this,[a]),f=this._storage,g=e._storage,h=this.indices,k=e.indices=[],l=[],m=[];b=Math.floor(1/b);for(var p=g[a],n=this.count(),q=0;q<f[a].length;q++)g[a][q]=f[a][q];for(q=0;q<n;q+=b){b>n-q&&(b=n-q,l.length=b);for(f=0;f<b;f++)a=h[q+f],l[f]=p[a],m[f]=a;f=c(l);a=m[d(l,f)||0];p[a]=f;k.push(a)}return e};N.getItemModel=function(a){var b=this.hostModel;a=this.indices[a];return new V(this._rawData.getItem(a),b,b&&b.ecModel)};N.diff=function(a){var b=this._idList,c=a&&a._idList,d;return new xc(a?a.indices:[],this.indices,function(a){return null!=(d=c[a])?d:"e\x00\x00"+a},function(a){return null!=(d=b[a])?d:"e\x00\x00"+a})};N.getVisual=function(a){var b=this._visual;return b&&b[a]};N.setVisual=function(a,b){if(ll(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b};N.setLayout=function(a,b){if(ll(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b};N.getLayout=function(a){return this._layout[a]};N.getItemLayout=function(a){return this._itemLayouts[a]};N.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?I(this._itemLayouts[a]||{},b):b};N.clearItemLayouts=function(){this._itemLayouts.length=0};N.getItemVisual=function(a,b,c){a=(a=this._itemVisuals[a])&&a[b];return null!=a||c?a:this.getVisual(b)};N.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};this._itemVisuals[a]=d;if(ll(b))for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c};N.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var az=function(a){a.seriesIndex=this.seriesIndex;a.dataIndex=this.dataIndex;a.dataType=this.dataType};N.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(az,b));this._graphicEls[a]=b};N.getItemGraphicEl=function(a){return this._graphicEls[a]};N.eachItemGraphicEl=function(a,b){r(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})};N.cloneShallow=function(){var a=z(this.dimensions,this.getDimensionInfo,this),a=new ia(a,this.hostModel);a._storage=this._storage;ho(a,this);a.indices=this.indices.slice();this._extent&&(a._extent=I({},this._extent));return a};N.wrapMethod=function(a,b){var c=this[a];"function"===typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(Vh(arguments)))})};N.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];N.CHANGABLE_METHODS=["filterSelf"];var og=r,pg=ya,ko=H,Iu={tooltip:1,label:1,itemName:1},Ju=Ja.guessOrdinal=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=jo(a[c]);if(!x(e))break;e=e[b];if(null!=e&&isFinite(e)&&""!==e)break;else if(pg(e)&&"-"!==e)return!0}return!1},Lu={cartesian2d:function(a,b,c,d){var e=z(["xAxis","yAxis"],function(a){return c.queryComponents({mainType:a,index:b.get(a+"Index"),id:b.get(a+"Id")})[0]}),f=e[0],e=e[1];if(D){if(!f)throw Error('xAxis "'+na(b.get("xAxisIndex"),b.get("xAxisId"),0)+'" not found');if(!e)throw Error('yAxis "'+na(b.get("xAxisIndex"),b.get("yAxisId"),0)+'" not found');}var g=f.get("type"),h=e.get("type"),k=[{name:"x",type:Ve(g),stackable:Ue(g)},{name:"y",type:Ve(h),stackable:Ue(h)}],g="category"===g,h="category"===h,k=Ja(k,a,d);a={};g&&(a.x=f);h&&(a.y=e);return{dimensions:k,categoryIndex:g?0:h?1:-1,categoryAxesModels:a}},singleAxis:function(a,b,c,d){b=c.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];if(D&&!b)throw Error("singleAxis should be specified.");var e=b.get("type");c="category"===e;e=[{name:"single",type:Ve(e),stackable:Ue(e)}];e=Ja(e,a,d);a={};c&&(a.single=b);return{dimensions:e,categoryIndex:c?0:-1,categoryAxesModels:a}},polar:function(a,b,c,d){c=c.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];b=c.findAxisModel("angleAxis");c=c.findAxisModel("radiusAxis");if(D){if(!b)throw Error("angleAxis option not found");if(!c)throw Error("radiusAxis option not found");}var e=c.get("type"),f=b.get("type"),g=[{name:"radius",type:Ve(e),stackable:Ue(e)},{name:"angle",type:Ve(f),stackable:Ue(f)}],f="category"===f,e="category"===e,g=Ja(g,a,d);a={};e&&(a.radius=c);f&&(a.angle=b);return{dimensions:g,categoryIndex:f?1:e?0:-1,categoryAxesModels:a}},geo:function(a,b,c,d){return{dimensions:Ja([{name:"lng"},{name:"lat"}],a,d)}}};Aa.prototype.parse=function(a){return a};Aa.prototype.getSetting=function(a){return this._setting[a]};Aa.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]};Aa.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])};Aa.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]};Aa.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])};Aa.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))};Aa.prototype.getExtent=function(){return this._extent.slice()};Aa.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a);isNaN(b)||(c[1]=b)};Aa.prototype.getTicksLabels=function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a};Aa.prototype.isBlank=function(){return this._isBlank};Aa.prototype.setBlank=function(a){this._isBlank=a};Ie(Aa);Rf(Aa,{registerWhenExtend:!0});var ml=Aa.prototype,gj=Aa.extend({type:"ordinal",init:function(a,b){this._data=a;this._extent=b||[0,a.length-1]},parse:function(a){return"string"===typeof a?R(this._data,a):Math.round(a)},contain:function(a){a=this.parse(a);return ml.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return ml.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(ml.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:Ga,niceExtent:Ga});gj.create=function(){return new gj};var Va=Aa.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a));isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);Va.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=mc(a)+2},getTicks:function(){var a;a:{a=this._interval;var b=this._extent,c=this._niceExtent,d=this._intervalPrecision,e=[];if(a){b[0]<c[0]&&e.push(b[0]);for(var f=c[0];f<=c[1];){e.push(f);f=qa(f+a,d);if(f===e[e.length-1])break;if(1E4<e.length){a=[];break a}}b[1]>(e.length?e[e.length-1]:c[1])&&e.push(b[1])}a=e}return a},getTicksLabels:function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a,b){if(null==a)return"";var c=b&&b.precision;null==c?c=mc(a)||0:"auto"===c&&(c=this._intervalPrecision);a=qa(a,c,!0);return bc(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];isFinite(e)&&(0>e&&d.reverse(),e=a=Di((d[1]-d[0])/a,!0),null!=b&&e<b&&(e=a=b),null!=c&&e>c&&(e=a=c),c=b=mc(e)+2,e=c=[qa(Math.ceil(d[0]/e)*e,c),qa(Math.floor(d[1]/e)*e,c)],lo(e,d),this._intervalPrecision=b,this._interval=a,this._niceExtent=c)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax||(b[1]+=c/2);b[0]-=c/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=qa(Math.floor(b[0]/c)*c));a.fixMax||(b[1]=qa(Math.ceil(b[1]/c)*c))}});Va.create=function(){return new Va};var bz=Va.prototype,qs=Math.ceil,rs=Math.floor,ol=Va.extend({type:"time",getLabel:function(a){return Hi(this._stepLvl[0],new Date(a),this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;b[0]===b[1]&&(b[0]-=864E5,b[1]+=864E5);if(-Infinity===b[1]&&Infinity===b[0]){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate());b[0]=b[1]-864E5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=qa(rs(b[0]/c)*c));a.fixMax||(b[1]=qa(qs(b[1]/c)*c))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],f=e/a;null!=b&&f<b&&(f=b);null!=c&&f>c&&(f=c);b=nl.length;c=0;for(var g=b;c<g;){var h=c+g>>>1;nl[h][1]<f?c=h+1:g=h}f=nl[Math.min(c,b-1)];b=f[1];"year"===f[0]&&(a=Di(e/b/a,!0),b*=a);a=this.getSetting("useUTC")?0:6E4*(new Date(+d[0]||+d[1])).getTimezoneOffset();a=[Math.round(qs((d[0]-a)/b)*b+a),Math.round(rs((d[1]-a)/b)*b+a)];lo(a,d);this._stepLvl=f;this._interval=b;this._niceExtent=a},parse:function(a){return+Ge(a)}});r(["contain","normalize"],function(a){ol.prototype[a]=function(b){return bz[a].call(this,this.parse(b))}});var nl=[["hh:mm:ss",1E3],["hh:mm:ss",5E3],["hh:mm:ss",1E4],["hh:mm:ss",15E3],["hh:mm:ss",3E4],["hh:mm\nMM-dd",6E4],["hh:mm\nMM-dd",3E5],["hh:mm\nMM-dd",6E5],["hh:mm\nMM-dd",9E5],["hh:mm\nMM-dd",18E5],["hh:mm\nMM-dd",36E5],["hh:mm\nMM-dd",72E5],["hh:mm\nMM-dd",216E5],["hh:mm\nMM-dd",432E5],["MM-dd\nyyyy",864E5],["MM-dd\nyyyy",1728E5],["MM-dd\nyyyy",2592E5],["MM-dd\nyyyy",3456E5],["MM-dd\nyyyy",432E6],["MM-dd\nyyyy",5184E5],["week",6048E5],["MM-dd\nyyyy",864E6],["week",12096E5],["week",18144E5],["month",26784E5],["week",36288E5],["month",53568E5],["week",36288E5],["quarter",8208E6],["month",107136E5],["month",13392E6],["half-year",16416E6],["month",214272E5],["month",26784E6],["year",32832E6]];ol.create=function(a){return new ol({useUTC:a.ecModel.get("useUTC")})};var uh=Aa.prototype,vh=Va.prototype,cz=Math.floor,dz=Math.ceil,wh=Math.pow,Xa=Math.log,pl=Aa.extend({type:"log",base:10,$constructor:function(){Aa.apply(this,arguments);this._originalScale=new Va},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return z(vh.getTicks.call(this),function(d){var e=qa(wh(this.base,d)),e=d===b[0]&&a.__fixMin?qa(e,mc(c[0])):e;return e=d===b[1]&&a.__fixMax?qa(e,mc(c[1])):e},this)},getLabel:vh.getLabel,scale:function(a){a=uh.scale.call(this,a);return wh(this.base,a)},setExtent:function(a,b){var c=this.base;a=Xa(a)/Xa(c);b=Xa(b)/Xa(c);vh.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=uh.getExtent.call(this);b[0]=wh(a,b[0]);b[1]=wh(a,b[1]);var a=this._originalScale,c=a.getExtent();a.__fixMin&&(b[0]=qa(b[0],mc(c[0])));a.__fixMax&&(b[1]=qa(b[1],mc(c[1])));return b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Xa(a[0])/Xa(b);a[1]=Xa(a[1])/Xa(b);uh.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(a){return 0<a}))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(Infinity===c||0>=c)){var d=Xm(c);for(.5>=a/c*d&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&0<Math.abs(d);)d*=10;a=[qa(dz(b[0]/d)*d),qa(cz(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:function(a){vh.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin;b.__fixMax=a.fixMax}});r(["contain","normalize"],function(a){pl.prototype[a]=function(b){b=Xa(b)/Xa(this.base);return uh[a].call(this,b)}});pl.create=function(){return new pl};var ud={getFormattedLabels:function(){return hj(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&z(this.get("data"),Nu)},getMin:function(a){var b=this.option;a=a||null==b.rangeStart?b.min:b.rangeStart;this.axis&&null!=a&&"dataMin"!==a&&"function"!==typeof a&&!ve(a)&&(a=this.axis.scale.parse(a));return a},getMax:function(a){var b=this.option;a=a||null==b.rangeEnd?b.max:b.rangeEnd;this.axis&&null!=a&&"dataMax"!==a&&"function"!==typeof a&&!ve(a)&&(a=this.axis.scale.parse(a));return a},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:Ga,setRange:function(a,b){this.option.rangeStart=a;this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},ez=Qb({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f);a.lineTo(c+e,d+f);a.lineTo(c-e,d+f);a.closePath()}}),fz=Qb({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f);a.lineTo(c+e,d);a.lineTo(c,d+f);a.lineTo(c-e,d);a.closePath()}}),gz=Qb({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),e=e/2,g=e*e/(f-e),f=d-f+e+g,h=Math.asin(g/e),k=Math.cos(h)*e,l=Math.sin(h),m=Math.cos(h),p=.6*e,n=.7*e;a.moveTo(c-k,f+g);a.arc(c,f,e,Math.PI-h,2*Math.PI+h);a.bezierCurveTo(c+k-l*p,f+g+m*p,c,d-n,c,d);a.bezierCurveTo(c,d-n,c-k+l*p,f+g+m*p,c-k,f+g);a.closePath()}}),hz=Qb({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.x,e=b.y,f=b.width/3*2;a.moveTo(d,e);a.lineTo(d+f,e+c);a.lineTo(d,e+c/4*3);a.lineTo(d-f,e+c);a.lineTo(d,e);a.closePath()}}),iz={line:function(a,b,c,d,e){e.x1=a;e.y1=b+d/2;e.x2=a+c;e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d},roundRect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){c=Math.min(c,d);e.x=a;e.y=b;e.width=c;e.height=c},circle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d}},ql={};r({line:Qa,rect:ga,roundRect:ga,square:ga,circle:td,diamond:fz,pin:gz,arrow:hz,triangle:ez},function(a,b){ql[b]=new a});var Pu=Qb({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=ql[d];"none"!==b.symbolType&&(e||(d="rect",e=ql[d]),iz[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),jz=(Object.freeze||Object)({createList:function(a){var b=a.get("data");return yc(b,a,a.ecModel)},createScale:function(a,b){var c=b;b instanceof V||(c=new V(b),M(c,ud));var d=Qd(c);d.setExtent(a[0],a[1]);zc(d,c);return d},mixinAxisModelCommonMethods:function(a){M(a,ud)},completeDimensions:Ja,createSymbol:jb}),ss=[0,1],Ba=function(a,b,c){this.dim=a;this.scale=b;this._extent=c||[0,0];this.onBand=this.inverse=!1};Ba.prototype={constructor:Ba,contain:function(a){var b=this._extent,c=Math.max(b[0],b[1]);return a>=Math.min(b[0],b[1])&&a<=c},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return Bi(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a;c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;a=d.normalize(a);this.onBand&&"ordinal"===d.type&&(c=c.slice(),oo(c,d.count()));return aa(a,ss,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&(c=c.slice(),oo(c,d.count()));c=aa(a,c,ss,b);return this.scale.scale(c)},pointToData:function(a,b){},getTicksCoords:function(a){if(this.onBand&&!a){a=this.getBands();for(var b=[],c=0;c<a.length;c++)b.push(a[c][0]);a[c-1]&&b.push(a[c-1][1]);return b}return z(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return z(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],a=a[1]-d,e=0;e<c;e++)b.push([a*e/c+d,a*(e+1)/c+d]);return b},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),b=b[1]-b[0]+(this.onBand?1:0);0===b&&(b=1);return Math.abs(Math.abs(a[1]-a[0]))/b},isHorizontal:null,getRotate:null,getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,c=b.getModel("axisLabel"),a=c.get("interval");"category"!==this.type||null!=a&&"auto"!==a||(a=no(z(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,c.get("rotate")));this._labelInterval=a}return a}};qg.prototype={constructor:qg,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,a=[b,b],b=[-b,-b],c=[],d=[],e=this.geometries,f=0;f<e.length;f++)"polygon"===e[f].type&&(fn(e[f].exterior,c,d),Wb(a,a,c),Xb(b,b,d));0===f&&(a[0]=a[1]=b[0]=b[1]=0);return this._rect=new S(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;var b=0,d=c.length;a:for(;b<d;b++)if("polygon"===c[b].type){var e=c[b].interiors;if(hd(c[b].exterior,a[0],a[1])){for(var f=0;f<(e?e.length:0);f++)if(hd(e[f]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;a=new S(a,b,c,d);e=e.calculateTransform(a);b=this.geometries;for(c=0;c<b.length;c++)if("polygon"===b[c].type){var g=b[c].exterior;d=b[c].interiors;for(f=0;f<g.length;f++)da(g[f],g[f],e);for(g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)da(d[g][f],d[g][f],e)}e=this._rect;e.copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]}};var ts=function(a){Qu(a);return z(Fa(a.features,function(a){return a.geometry&&a.properties&&0<a.geometry.coordinates.length}),function(a){var b=a.properties;a=a.geometry;var d=a.coordinates,e=[];"Polygon"===a.type&&e.push({type:"polygon",exterior:d[0],interiors:d.slice(1)});"MultiPolygon"===a.type&&r(d,function(a){a[0]&&e.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});a=new qg(b.name,e,b.cp);a.properties=b;return a})},us={};r("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),function(a){us[a]=Fy[a]});wa.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){if(D){var c=a.coordinateSystem;if("polar"!==c&&"cartesian2d"!==c)throw Error("Line not support coordinateSystem besides cartesian and polar");}return yc(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});var rb=Rd.prototype;rb._createSymbol=function(a,b,c,d){this.removeAll();b=b.getItemVisual(c,"color");b=jb(a,-1,-1,2,2,b);b.attr({z2:100,culling:!0,scale:[d[0]/2,d[1]/2]});b.drift=Ru;this._symbolType=a;this.add(b)};rb.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)};rb.getSymbolPath=function(){return this.childAt(0)};rb.getScale=function(){return this.childAt(0).scale};rb.highlight=function(){this.childAt(0).trigger("emphasis")};rb.downplay=function(){this.childAt(0).trigger("normal")};rb.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a;c.z=b};rb.setDraggable=function(a){var b=this.childAt(0);b.draggable=a;b.cursor=a?"move":"pointer"};rb.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,f;f=a.getItemVisual(b,"symbolSize");f=f instanceof Array?f.slice():[+f,+f];var g=d!==this._symbolType;g?this._createSymbol(d,a,b,f):(d=this.childAt(0),d.silent=!1,Z(d,{scale:[f[0]/2,f[1]/2]},e,b));this._updateCommon(a,b,f,c);g&&(d=this.childAt(0),a=c&&c.fadeIn,c={scale:d.scale.slice()},a&&(c.style={opacity:d.style.opacity}),d.scale=[0,0],a&&(d.style.opacity=0),hb(d,c,e,b));this._seriesModel=e};var kz=["itemStyle","normal"],lz=["itemStyle","emphasis"],mz=["label","normal"],nz=["label","emphasis"];rb._updateCommon=function(a,b,c,d){var e=this.childAt(0),f=a.hostModel,g=a.getItemVisual(b,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var h=d&&d.itemStyle,k=d&&d.hoverItemStyle,l=d&&d.symbolRotate,m=d&&d.symbolOffset,p=d&&d.labelModel,n=d&&d.hoverLabelModel,q=d&&d.hoverAnimation,t=d&&d.cursorStyle;if(!d||a.hasItemOption)var v=d&&d.itemModel?d.itemModel:a.getItemModel(b),h=v.getModel(kz).getItemStyle(["color"]),k=v.getModel(lz).getItemStyle(),l=v.getShallow("symbolRotate"),m=v.getShallow("symbolOffset"),p=v.getModel(mz),n=v.getModel(nz),q=v.getShallow("hoverAnimation"),t=v.getShallow("cursor");else k=I({},k);v=e.style;e.attr("rotation",(l||0)*Math.PI/180||0);m&&e.attr("position",[B(m[0],c[0]),B(m[1],c[1])]);t&&e.attr("cursor",t);e.setColor(g,d&&d.symbolInnerColor);e.setStyle(h);h=a.getItemVisual(b,"opacity");null!=h&&(v.opacity=h);d=d&&d.useNameLabel;h=!d&&qo(a);(d||null!=h)&&Db(v,k,p,n,{labelFetcher:f,labelDataIndex:b,defaultText:d?a.getName(b):a.get(h,b),isRectText:!0,autoColor:g});e.off("mouseover").off("mouseout").off("emphasis").off("normal");e.hoverStyle=k;T(e);var u=[c[0]/2,c[1]/2];q&&f.isAnimationEnabled()&&(a=function(){this.animateTo({scale:[Math.max(1.1*u[0],u[0]+3),Math.max(1.1*u[1],u[1]+u[1]/u[0]*3)]},400,"elasticOut")},b=function(){this.animateTo({scale:u},400,"elasticOut")},e.on("mouseover",a).on("mouseout",b).on("emphasis",a).on("normal",b))};rb.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0;b&&b.keepLabel||(c.style.text=null);Z(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)};ja(Rd,F);var rl=Sd.prototype;rl.updateData=function(a,b){var c=this.group,d=a.hostModel,e=this._data,f=this._symbolCtor,g={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};a.diff(e).add(function(d){var e=a.getItemLayout(d);if(ro(a,d,b)){var h=new f(a,d,g);h.attr("position",e);a.setItemGraphicEl(d,h);c.add(h)}}).update(function(h,k){var l=e.getItemGraphicEl(k),m=a.getItemLayout(h);ro(a,h,b)?(l?(l.updateData(a,h,g),Z(l,{position:m},d)):(l=new f(a,h),l.attr("position",m)),c.add(l),a.setItemGraphicEl(h,l)):c.remove(l)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute();this._data=a};rl.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})};rl.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())};var oz=function(a,b,c,d,e,f){for(var g=Su(a,b),h=[],k=[],l=[],m=[],p=[],n=[],q=[],t=f.dimensions,v=0;v<g.length;v++){var u=g[v],w=!0;switch(u.cmd){case "\x3d":var r=a.getItemLayout(u.idx),y=b.getItemLayout(u.idx1);if(isNaN(r[0])||isNaN(r[1]))r=y.slice();h.push(r);k.push(y);l.push(c[u.idx]);m.push(d[u.idx1]);q.push(b.getRawIndex(u.idx1));break;case "+":r=u.idx;h.push(e.dataToPoint([b.get(t[0],r,!0),b.get(t[1],r,!0)]));k.push(b.getItemLayout(r).slice());l.push(to(e,b,r));m.push(d[r]);q.push(b.getRawIndex(r));break;case "-":r=u.idx,y=a.getRawIndex(r),y!==r?(h.push(a.getItemLayout(r)),k.push(f.dataToPoint([a.get(t[0],r,!0),a.get(t[1],r,!0)])),l.push(c[r]),m.push(to(f,a,r)),q.push(y)):w=!1}w&&(p.push(u),n.push(n.length))}n.sort(function(a,b){return q[a]-q[b]});a=[];b=[];c=[];d=[];e=[];for(v=0;v<n.length;v++)r=n[v],a[v]=h[r],b[v]=k[r],c[v]=l[r],d[v]=m[r],e[v]=p[r];return{current:a,next:b,stackedOnCurrent:c,stackedOnNext:d,status:e}},wo=Wb,xo=Xb,vo=we,uo=eb,kj=[],Bc=[],Cc=[],pz=fa.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:al(fa.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=lj(c,b.smoothConstraint);if(b.connectNulls){for(;0<e&&Ac(c[e-1]);e--);for(;d<e&&Ac(c[d]);d++);}for(;d<e;)d+=jj(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),vs=fa.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:al(fa.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=lj(c,b.smoothConstraint),k=lj(d,b.smoothConstraint);if(b.connectNulls){for(;0<f&&Ac(c[f-1]);f--);for(;e<f&&Ac(c[e]);e++);}for(;e<f;){var l=jj(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);jj(a,d,e+l-1,l,f,-1,k.min,k.max,b.stackedOnSmooth,g,b.connectNulls);e+=l+1;a.closePath()}}});Ta.extend({type:"line",init:function(){var a=new F,b=new Sd;this.group.add(b.group);this._symbolDraw=b;this._lineGroup=a},render:function(a,b,c){b=a.coordinateSystem;var d=this.group,e=a.getData(),f=a.getModel("lineStyle.normal"),g=a.getModel("areaStyle.normal"),h=e.mapArray(e.getItemLayout,!0),k="polar"===b.type,l=this._coordSys,m=this._symbolDraw,p=this._polyline,n=this._polygon,q=this._lineGroup,t=a.get("animation"),v=!g.isEmpty(),u=Tu(b,e),r=a.get("showSymbol"),Tb=r&&!k&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(e,b),y=this._data;y&&y.eachItemGraphicEl(function(a,b){a.__temp&&(d.remove(a),y.setItemGraphicEl(b,null))});r||m.remove();d.add(q);k=!k&&a.get("step");p&&l.type===b.type&&k===this._step?(v&&!n?n=this._newPolygon(h,u,b,t):n&&!v&&(q.remove(n),n=this._polygon=null),q.setClipPath(Co(b,!1,a)),r&&m.updateData(e,Tb),e.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),yo(this._stackedOnPoints,u)&&yo(this._points,h)||(t?this._updateAnimation(e,u,b,c,k):(k&&(h=Ec(h,b,k),u=Ec(u,b,k)),p.setShape({points:h}),n&&n.setShape({points:h,stackedOnPoints:u})))):(r&&m.updateData(e,Tb),k&&(h=Ec(h,b,k),u=Ec(u,b,k)),p=this._newPolyline(h,b,t),v&&(n=this._newPolygon(h,u,b,t)),q.setClipPath(Co(b,!0,a)));c=Uu(e,b)||e.getVisual("color");p.useStyle(H(f.getLineStyle(),{fill:"none",stroke:c,lineJoin:"bevel"}));f=a.get("smooth");f=zo(a.get("smooth"));p.setShape({smooth:f,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});n&&(p=e.stackedOn,l=0,n.useStyle(H(g.getAreaStyle(),{fill:c,opacity:.7,lineJoin:"bevel"})),p&&(l=zo(p.hostModel.get("smooth"))),n.setShape({smooth:f,stackedOnSmooth:l,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}));this._data=e;this._coordSys=b;this._stackedOnPoints=u;this._points=h;this._step=k},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=cg(e,d);if(!(f instanceof Array)&&null!=f&&0<=f){b=e.getItemGraphicEl(f);if(!b){c=e.getItemLayout(f);if(!c)return;b=new Rd(e,f);b.position=c;b.setZ(a.get("zlevel"),a.get("z"));b.ignore=isNaN(c[0])||isNaN(c[1]);b.__temp=!0;e.setItemGraphicEl(f,b);b.stopSymbolAnimation(!0);this.group.add(b)}b.highlight()}else Ta.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=cg(e,d);if(null!=f&&0<=f){if(a=e.getItemGraphicEl(f))a.__temp?(e.setItemGraphicEl(f,null),this.group.remove(a)):a.downplay()}else Ta.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;b&&this._lineGroup.remove(b);b=new pz({shape:{points:a},silent:!0,z2:10});this._lineGroup.add(b);return this._polyline=b},_newPolygon:function(a,b){var c=this._polygon;c&&this._lineGroup.remove(c);c=new vs({shape:{points:a,stackedOnPoints:b},silent:!0});this._lineGroup.add(c);return this._polygon=c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];if(c&&c.isLabelIgnored)return A(c.isLabelIgnored,c)},_updateAnimation:function(a,b,c,d,e){var f=this._polyline;d=this._polygon;var g=a.hostModel;b=oz(this._data,a,this._stackedOnPoints,b,this._coordSys,c);var h=b.current,k=b.stackedOnCurrent,l=b.next,m=b.stackedOnNext;e&&(h=Ec(b.current,c,e),k=Ec(b.stackedOnCurrent,c,e),l=Ec(b.next,c,e),m=Ec(b.stackedOnNext,c,e));f.shape.__points=b.current;f.shape.points=h;Z(f,{shape:{points:l}},g);d&&(d.setShape({points:h,stackedOnPoints:k}),Z(d,{shape:{points:l,stackedOnPoints:m}},g));var p=[];c=b.status;for(e=0;e<c.length;e++)"\x3d"===c[e].cmd&&(d=a.getItemGraphicEl(c[e].idx1))&&p.push({el:d,ptIdx:e});f.animators&&f.animators.length&&f.animators[0].during(function(){for(var a=0;a<p.length;a++)p[a].el.attr("position",f.shape.__points[p[a].ptIdx])})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(a,e){a.__temp&&(b.remove(a),c.setItemGraphicEl(e,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var vd=function(a,b,c,d,e){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,k=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:k});d.isSeriesFiltered(a)||("function"===typeof k&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);e.setItemVisual(b,"symbolSize",k(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.getShallow("symbol",!0),b=b.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c);null!=b&&e.setItemVisual(a,"symbolSize",b)}))})},sl=function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem;if(c){for(var f=[],g=c.dimensions,h=0;h<g.length;h++)f.push(a.coordDimToDataDim(c.dimensions[h])[0]);1===f.length?b.each(f[0],function(a,d){b.setItemLayout(d,isNaN(a)?[NaN,NaN]:c.dataToPoint(a))}):2===f.length&&b.each(f,function(a,d,e){b.setItemLayout(e,isNaN(a)||isNaN(d)?[NaN,NaN]:c.dataToPoint([a,d]))},!0)}})},qz={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-Infinity,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},min:function(a){for(var b=Infinity,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return b},nearest:function(a){return a[0]}},rz=function(a,b){return Math.round(a.length/2)},rg=function(a){this._axes={};this._dimList=[];this.name=a||""};rg.prototype={constructor:rg,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return z(this._dimList,Vu,this)},getAxesByScale:function(a){a=a.toLowerCase();return Fa(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a;this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e];d[f]=this._axes[f][b](a[f])}return d}};We.prototype={constructor:We,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};ja(We,rg);var xh=function(a,b,c,d,e){Ba.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom"};xh.prototype={constructor:xh,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();b[0]=this.toGlobalCoord(b[0]);b[1]=this.toGlobalCoord(b[1]);a&&b[0]>b[1]&&b.reverse();return b},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"===typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null};ja(xh,Ba);var ws={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Lc={};Lc.categoryAxis=K({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ws);Lc.valueAxis=K({boundaryGap:[0,0],splitNumber:5},ws);Lc.timeAxis=H({scale:!0,min:"dataMin",max:"dataMax"},Lc.valueAxis);Lc.logAxis=H({scale:!0,logBase:10},Lc.valueAxis);var sz=["value","category","time","log"],me=function(a,b,c,d){r(sz,function(e){b.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(b,d){var f=this.layoutMode,g=f?ed({},b):{},l=d.getTheme();K(b,l.get(e+"Axis"));K(b,this.getDefaultOption());b.type=c(a,b);f&&uc(b,g,f)},defaultOption:te([{},Lc[e+"Axis"],d],!0)})});U.registerSubTypeDefaulter(a+"Axis",C(c,a))},ne=U.extend({type:"cartesian2dAxis",axis:null,init:function(){ne.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){ne.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){ne.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});K(ne.prototype,ud);var xs={offset:0};me("x",ne,Do,xs);me("y",ne,Do,xs);U.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Ea=Ud.prototype;Ea.type="grid";Ea.axisPointerEnabled=!0;Ea.getRect=function(){return this._rect};Ea.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model);r(c.x,function(a){zc(a.scale,a.model)});r(c.y,function(a){zc(a.scale,a.model)});r(c.x,function(a){Eo(c,"y",a)});r(c.y,function(a){Eo(c,"x",a)});this.resize(this.model,b)};Ea.resize=function(a,b,c){function d(){r(f,function(a){var b=a.isHorizontal(),c=b?[0,e.width]:[0,e.height],d=a.inverse?1:0;a.setExtent(c[d],c[1-d]);Wu(a,b?e.x:e.y)})}var e=Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d();!c&&a.get("containLabel")&&(r(f,function(a){if(!a.model.get("axisLabel.inside")){var b,c=a.model;b=c.getFormattedLabels();var c=c.getModel("axisLabel"),d,f=1,g=b.length;40<g&&(f=Math.ceil(g/40));for(var n=0;n<g;n+=f)if(!a.isLabelIgnored(n)){var q=c.getTextRect(b[n]),t;t=(c.get("rotate")||0)*Math.PI/180;var q=q.plain(),v=q.width,u=q.height;t=new S(q.x,q.y,v*Math.cos(t)+u*Math.sin(t),v*Math.sin(t)+u*Math.cos(t));d?d.union(t):d=t}if(b=d)d=a.isHorizontal()?"height":"width",c=a.model.get("axisLabel.margin"),e[d]-=b[d]+c,"top"===a.position?e.y+=b.height+c:"left"===a.position&&(e.x+=b.width+c)}}),d())};Ea.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c){if(null==b)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[b]}};Ea.getAxes=function(){return this._axesList.slice()};Ea.getCartesian=function(a,b){if(null!=a&&null!=b)return this._coordsMap["x"+a+"y"+b];Q(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===a||d[c].getAxis("y").index===b)return d[c]};Ea.getCartesians=function(){return this._coordsList.slice()};Ea.convertToPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.dataToPoint(c):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(c)):null};Ea.convertFromPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.pointToData(c):a.axis?a.axis.coordToData(a.axis.toLocalCoord(c)):null};Ea._findConvertTarget=function(a,b){var c=b.seriesModel,d=b.xAxisModel||c&&c.getReferringComponents("xAxis")[0],e=b.yAxisModel||c&&c.getReferringComponents("yAxis")[0],f=b.gridModel,g=this._coordsList,h,k;c?(h=c.coordinateSystem,0>R(g,h)&&(h=null)):d&&e?h=this.getCartesian(d.componentIndex,e.componentIndex):d?k=this.getAxis("x",d.componentIndex):e?k=this.getAxis("y",e.componentIndex):f&&f.coordinateSystem===this&&(h=this._coordsList[0]);return{cartesian:h,axis:k}};Ea.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)};Ea._initCartesian=function(a,b,c){function d(b){return function(c,d){if(c.getCoordSysModel()===a){var h=c.get("position");"x"===b?"top"!==h&&"bottom"!==h&&(h="bottom",e[h]&&(h="top"===h?"bottom":"top")):"left"!==h&&"right"!==h&&(h="left",e[h]&&(h="left"===h?"right":"left"));e[h]=!0;h=new xh(b,Qd(c),[0,0],c.get("type"),h);h.onBand="category"===h.type&&c.get("boundaryGap");h.inverse=c.get("inverse");h.onZero=c.get("axisLine.onZero");h.onZeroAxisIndex=c.get("axisLine.onZeroAxisIndex");c.axis=h;h.model=c;h.grid=this;h.index=d;this._axesList.push(h);f[b][d]=h;g[b]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};b.eachComponent("xAxis",d("x"),this);b.eachComponent("yAxis",d("y"),this);g.x&&g.y?(this._axesMap=f,r(f.x,function(b,c){r(f.y,function(d,e){var f="x"+c+"y"+e,g=new We(f);g.grid=this;g.model=a;this._coordsMap[f]=g;this._coordsList.push(g);g.addAxis(b);g.addAxis(d)},this)},this)):(this._axesMap={},this._axesList=[])};Ea._updateScale=function(a,b){function c(a,b,c){r(c.coordDimToDataDim(b.dim),function(c){b.scale.unionExtentFromData(a,c)})}r(this._axesList,function(a){a.scale.setExtent(Infinity,-Infinity)});a.eachSeries(function(d){if(Ho(d)){var e=Go(d,a),f=e[0],e=e[1],g;(g=f.getCoordSysModel()!==b)||(g=e.getCoordSysModel()!==b);g||(g=this.getCartesian(f.componentIndex,e.componentIndex),f=d.getData(),e=g.getAxis("x"),g=g.getAxis("y"),"list"===f.type&&(c(f,e,d),c(f,g,d)))}},this)};Ea.getTooltipAxes=function(a){var b=[],c=[];r(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis();d=d.getOtherAxis(e);0>R(b,e)&&b.push(e);0>R(c,d)&&c.push(d)});return{baseAxes:b,otherAxes:c}};var Xu=["xAxis","yAxis"];Ud.create=function(a,b){var c=[];a.eachComponent("grid",function(d,e){var f=new Ud(d,a,b);f.name="grid_"+e;f.resize(d,b,!0);d.coordinateSystem=f;c.push(f)});a.eachSeries(function(b){if(Ho(b)){var c=Go(b,a),d=c[0],c=c[1],g=d.getCoordSysModel();if(D){if(!g)throw Error('Grid "'+na(d.get("gridIndex"),d.get("gridId"),0)+'" not found');if(d.getCoordSysModel()!==c.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");}b.coordinateSystem=g.coordinateSystem.getCartesian(d.componentIndex,c.componentIndex)}});return c};Ud.dimensions=Ud.prototype.dimensions=We.prototype.dimensions;ab.register("cartesian2d",Ud);var Fc=Math.PI,db=function(a,b){this.opt=b;this.axisModel=a;H(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new F;var c=new F({position:b.position.slice(),rotation:b.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};db.prototype={constructor:db,hasBuilder:function(a){return!!ys[a]},add:function(a){ys[a].call(this)},getGroup:function(){return this.group}};var ys={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0],c=[c[1],0];d&&(da(e,e,d),da(c,c,d));var f=I({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Qa($c({anid:"line",shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:f,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})));var g=b.get("axisLine.symbol"),b=b.get("axisLine.symbolSize");if(null!=g){"string"===typeof g&&(g=[g,g]);if("string"===typeof b||"number"===typeof b)b=[b,b];var h=b[0],k=b[1];r([[a.rotation+Math.PI/2,e],[a.rotation-Math.PI/2,c]],function(a,b){if("none"!==g[b]&&null!=g[b]){var c=jb(g[b],-h/2,-k/2,h,k,f.stroke,!0);c.attr({rotation:a[0],position:a[1],silent:!0});this.group.add(c)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c;c=a.axis;if(!a.get("axisTick.show")||c.scale.isBlank())c=void 0;else{for(var d=a.getModel("axisTick"),e=d.getModel("lineStyle"),f=d.get("length"),g=tz(d,b.labelInterval),d=c.getTicksCoords(d.get("alignWithLabel")),h=c.scale.getTicks(),k=a.get("axisLabel.showMinLabel"),l=a.get("axisLabel.showMaxLabel"),m=[],p=[],n=this._transform,q=[],t=d.length,v=0;v<t;v++)if(!Mo(c,v,g,t,k,l)){var u=d[v];m[0]=u;m[1]=0;p[0]=u;p[1]=b.tickDirection*f;n&&(da(m,m,n),da(p,p,n));u=new Qa($c({anid:"tick_"+h[v],shape:{x1:m[0],y1:m[1],x2:p[0],y2:p[1]},style:H(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));this.group.add(u);q.push(u)}c=q}d=Zu(this,a,b);b=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");d=d||[];c=c||[];e=d[0];f=d[1];g=d[d.length-1];d=d[d.length-2];h=c[0];k=c[1];l=c[c.length-1];c=c[c.length-2];!1===b?(wb(e),wb(h)):Ko(e,f)&&(b?(wb(f),wb(k)):(wb(e),wb(h)));!1===a?(wb(g),wb(l)):Ko(d,g)&&(a?(wb(d),wb(c)):(wb(g),wb(l)))},axisName:function(){var a=this.opt,b=this.axisModel,c=na(a.axisName,b.get("name"));if(c){var d=b.get("nameLocation"),e=a.nameDirection,f=b.getModel("nameTextStyle"),g=b.get("nameGap")||0,h=this.axisModel.axis.getExtent(),k=h[0]>h[1]?-1:1,g=["start"===d?h[0]-k*g:"end"===d?h[1]+k*g:(h[0]+h[1])/2,"middle"===d||"center"===d?a.labelOffset+e*g:0],k=b.get("nameRotate");null!=k&&(k=k*Fc/180);var l;"middle"===d||"center"===d?d=Lo(a.rotation,null!=k?k:a.rotation,e):(d=Yu(a,d,k||0,h),l=a.axisNameAvailableWidth,null!=l&&(l=Math.abs(l/Math.sin(d.rotation)),!isFinite(l)&&(l=null)));e=f.getFont();h=b.get("nameTruncate",!0)||{};k=h.ellipsis;a=na(a.nameTruncateMaxWidth,h.maxWidth,l);a=null!=k&&null!=a?fs(c,a,e,k,{minChar:2,placeholder:h.placeholder}):c;l=b.get("tooltip",!0);h=b.mainType;k={componentType:h,name:c,$vars:["name"]};k[h+"Index"]=b.componentIndex;g=new P({anid:"name",__fullText:c,__truncatedText:a,position:g,rotation:d.rotation,silent:Jo(b),z2:1,tooltip:l&&l.show?I({content:c,formatter:function(){return c},formatterParams:k},l):null});ua(g.style,f,{text:a,textFont:e,textFill:f.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.textVerticalAlign});b.get("triggerEvent")&&(g.eventData=Io(b),g.eventData.targetType="axisName",g.eventData.name=c);this._dumbGroup.add(g);g.updateTransform();this.group.add(g);g.decomposeTransform()}}},Lo=db.innerTextLayout=function(a,b,c){a=Ci(b-a);Fe(a)?(b=0<c?"top":"bottom",c="center"):Fe(a-Fc)?(b=0<c?"bottom":"top",c="center"):(b="middle",c=0<a&&a<Fc?0<c?"right":"left":0<c?"left":"right");return{rotation:a,textAlign:c,textVerticalAlign:b}},Mo=db.ifIgnoreOnTick=function(a,b,c,d,e,f){if(0===b&&e||b===d-1&&f)return!1;var g;a=a.scale;return"ordinal"===a.type&&("function"===typeof c?(g=a.getTicks()[b],!c(g,a.getLabel(g))):b%(c+1))},tz=db.getInterval=function(a,b){var c=a.get("interval");if(null==c||"auto"==c)c=b;return c},Vd=r,nj=C,xb=ma({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){if(this.axisPointerClass){var e=oj(a);if(e){var f=e.axisPointerModel,g=e.axis.scale,h=f.option,k=f.get("status"),l=f.get("value");null!=l&&(l=g.parse(l));f=!!f.get("handle.show");null==k&&(h.status=f?"show":"hide");g=g.getExtent().slice();g[0]>g[1]&&g.reverse();if(null==l||l>g[1])l=g[1];l<g[0]&&(l=g[0]);h.value=l;f&&(h.status=e.axis.scale.isBlank()?"hide":"show")}}xb.superApply(this,"render",arguments);No(this,a,b,c,d,!0)},updateAxisPointer:function(a,b,c,d,e){No(this,a,b,c,d,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b);xb.superApply(this,"remove",arguments)},dispose:function(a,b){var c=this._axisPointer;c&&c.dispose(b,void 0);this._axisPointer=null;xb.superApply(this,"dispose",arguments)}}),tl=[];xb.registerAxisPointerClass=function(a,b){if(D&&tl[a])throw Error("axisPointer "+a+" exists");tl[a]=b};xb.getAxisPointerClass=function(a){return a&&tl[a]};var zs=db.ifIgnoreOnTick,As=db.getInterval,uz=["axisLine","axisTickLabel","axisName"],vz=["splitArea","splitLine"],ul=xb.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;this._axisGroup=new F;this.group.add(this._axisGroup);if(a.get("show")){var f=a.getCoordSysModel(),g=pj(f,a),h=new db(a,g);r(uz,h.add,h);this._axisGroup.add(h.getGroup());r(vz,function(b){if(a.get(b+".show"))this["_"+b](a,f,g.labelInterval)},this);Oi(e,this._axisGroup,a);ul.superCall(this,"render",a,b,c,d)}},_splitLine:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitLine"),f=e.getModel("lineStyle"),g=f.get("color");c=As(e,c);g=x(g)?g:[g];b=b.coordinateSystem.getRect();var e=d.isHorizontal(),h=0,k=d.getTicksCoords(),l=d.scale.getTicks(),m=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");for(var p=[],n=[],f=f.getLineStyle(),q=0;q<k.length;q++)if(!zs(d,q,c,k.length,m,a)){var t=d.toGlobalCoord(k[q]);e?(p[0]=t,p[1]=b.y,n[0]=t,n[1]=b.y+b.height):(p[0]=b.x,p[1]=t,n[0]=b.x+b.width,n[1]=t);t=h++%g.length;this._axisGroup.add(new Qa($c({anid:"line_"+l[q],shape:{x1:p[0],y1:p[1],x2:n[0],y2:n[1]},style:H({stroke:g[t]},f),silent:!0})))}}},_splitArea:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitArea"),f=e.getModel("areaStyle"),g=f.get("color");b=b.coordinateSystem.getRect();var h=d.getTicksCoords(),k=d.scale.getTicks(),l=d.toGlobalCoord(h[0]),m=d.toGlobalCoord(h[0]),p=0;c=As(e,c);f=f.getAreaStyle();g=x(g)?g:[g];e=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");for(var n=1;n<h.length;n++)if(!zs(d,n,c,h.length,e,a)){var q=d.toGlobalCoord(h[n]),t;d.isHorizontal()?(m=b.y,t=q-l,q=b.height):(l=b.x,t=b.width,q-=m);var v=p++%g.length;this._axisGroup.add(new ga({anid:"area_"+k[n],shape:{x:l,y:m,width:t,height:q},style:H({fill:g[v]},f),silent:!0}));l+=t;m+=q}}}});ul.extend({type:"xAxis"});ul.extend({type:"yAxis"});ma({type:"grid",render:function(a,b){this.group.removeAll();a.get("show")&&this.group.add(new ga({shape:a.coordinateSystem.getRect(),style:H({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});cb(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})});ra(C(vd,"line","circle","line"));oa(C(sl,"line"));Ua(le.PROCESSOR.STATISTIC,C(function(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.get("sampling"),d=a.coordinateSystem;if("cartesian2d"===d.type&&c){var h=d.getBaseAxis(),d=d.getOtherAxis(h),h=h.getExtent(),h=h[1]-h[0],h=Math.round(b.count()/h);if(1<h){var k;"string"===typeof c?k=qz[c]:"function"===typeof c&&(k=c);k&&(b=b.downSample(d.dim,1/h,k,rz),a.setData(b))}}},this)},"line"));sg.getLayoutOnAxis=function(a,b){var c=[],d=a.axis;if("category"===d.type){for(var e=d.getBandWidth(),d=0;d<a.count;d++)c.push(H({bandWidth:e,axisKey:"axis0",stackId:"__ec_stack_"+d},a));c=Po(c,b);e=[];for(d=0;d<a.count;d++){var f=c.axis0["__ec_stack_"+d];f.offsetCenter=f.offset+f.width/2;e.push(f)}return e}};var Bs=wa.extend({type:"series.__base_bar__",getInitialData:function(a,b){return yc(a.data,this,b)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){a=b.dataToPoint(a,!0);var c=this.getData(),d=c.getLayout("offset"),c=c.getLayout("size"),b=b.getBaseAxis().isHorizontal()?0:1;a[b]+=d+c/2;return a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});Bs.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var wz=je([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),xz=["itemStyle","normal","barBorderWidth"];I(V.prototype,{getBarItemStyle:function(a){a=wz(this,a);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}});La({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");"cartesian2d"===d||"polar"===d?this._render(a,b,c):D&&console.warn("Only cartesian2d and polar supported for bar.");return this.group},dispose:Ga,_render:function(a,b,c){var d=this.group,e=a.getData(),f=this._data,g=a.coordinateSystem;b=g.getBaseAxis();var h;"cartesian2d"===g.type?h=b.isHorizontal():"polar"===g.type&&(h="angle"===b.dim);var k=a.isAnimationEnabled()?a:null;e.diff(f).add(function(b){if(e.hasValue(b)){var c=e.getItemModel(b),f=Cs[g.type](e,b,c),l=Ds[g.type](e,b,c,f,h,k);e.setItemGraphicEl(b,l);d.add(l);To(l,e,b,c,f,a,h,"polar"===g.type)}}).update(function(b,c){var l=f.getItemGraphicEl(c);if(e.hasValue(b)){var m=e.getItemModel(b),q=Cs[g.type](e,b,m);l?Z(l,{shape:q},k,b):l=Ds[g.type](e,b,m,q,h,k,!0);e.setItemGraphicEl(b,l);d.add(l);To(l,e,b,m,q,a,h,"polar"===g.type)}else d.remove(l)}).remove(function(a){var b=f.getItemGraphicEl(a);"cartesian2d"===g.type?b&&Ro(a,k,b):b&&So(a,k,b)}).execute();this._data=e},remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){"sector"===b.type?So(b.dataIndex,a,b):Ro(b.dataIndex,a,b)}):c.removeAll()}});var Ds={cartesian2d:function(a,b,c,d,e,f,g){a=new ga({shape:I({},d)});f&&(e=e?"height":"width",c={},a.shape[e]=0,c[e]=d[e],Pa[g?"updateProps":"initProps"](a,{shape:c},f,b));return a},polar:function(a,b,c,d,e,f,g){a=new Dc({shape:I({},d)});if(f){c=e?"r":"endAngle";var h={};a.shape[c]=e?0:d.startAngle;h[c]=d[c];Pa[g?"updateProps":"initProps"](a,{shape:h},f,b)}return a}},Cs={cartesian2d:function(a,b,c){a=a.getItemLayout(b);c=c.get(xz)||0;c=Math.min(c,Math.abs(a.width),Math.abs(a.height));b=0<a.width?1:-1;var d=0<a.height?1:-1;return{x:a.x+b*c/2,y:a.y+d*c/2,width:a.width-b*c,height:a.height-d*c}},polar:function(a,b,c){a=a.getItemLayout(b);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};oa(C(sg,"bar"));ra(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});var vl={updateSelectedMap:function(a){this._targetList=a.slice();this._selectTargetMap=Cd(a||[],function(a,c){a.set(c.name,c);return a},za())},select:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1});c&&(c.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},yh=Te({type:"series.pie",init:function(a){yh.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(a.data);this._defaultLabelLine(a)},mergeOption:function(a){yh.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},getInitialData:function(a,b){var c=Ja(["value"],a.data),c=new ia(c,this);c.initData(a.data);return c},getDataParams:function(a){var b=this.getData(),c=yh.superCall(this,"getDataParams",a),d=[];b.each("value",function(a){d.push(a)});c.percent=Wm(d,a,b.hostModel.get("percentPrecision"));c.$vars.push("percent");return c},_defaultLabelLine:function(a){bd(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});M(yh,vl);var Es=qj.prototype;Es.updateData=function(a,b,c){function d(){f.stopAnimation(!0);f.animateTo({shape:{r:k.r+g.get("hoverOffset")}},300,"elasticOut")}function e(){f.stopAnimation(!0);f.animateTo({shape:{r:k.r}},300,"elasticOut")}var f=this.childAt(0),g=a.hostModel,h=a.getItemModel(b),k=a.getItemLayout(b),l=I({},k);l.label=null;c?(f.setShape(l),"scale"===g.getShallow("animationType")?(f.shape.r=k.r0,hb(f,{shape:{r:k.r}},g,b)):(f.shape.endAngle=k.startAngle,Z(f,{shape:{endAngle:k.endAngle}},g,b))):Z(f,{shape:l},g,b);c=h.getModel("itemStyle");l=a.getItemVisual(b,"color");f.useStyle(H({lineJoin:"bevel",fill:l},c.getModel("normal").getItemStyle()));f.hoverStyle=c.getModel("emphasis").getItemStyle();(c=h.getShallow("cursor"))&&f.attr("cursor",c);Uo(this,a.getItemLayout(b),h.get("selected"),g.get("selectedOffset"),g.get("animation"));f.off("mouseover").off("mouseout").off("emphasis").off("normal");if(h.get("hoverAnimation")&&g.isAnimationEnabled())f.on("mouseover",d).on("mouseout",e).on("emphasis",d).on("normal",e);this._updateLabel(a,b);T(this)};Es._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label;a.getItemVisual(b,"color");Z(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},e,b);Z(d,{style:{x:g.x,y:g.y}},e,b);d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var e=f.getModel("label.normal"),h=f.getModel("label.emphasis"),k=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),f=a.getItemVisual(b,"color");Db(d.style,d.hoverStyle={},e,h,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:f,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:a.getItemVisual(b,"opacity")});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!h.get("show");c.ignore=c.normalIgnore=!k.get("show");c.hoverIgnore=!l.get("show");c.setStyle({stroke:f,opacity:a.getItemVisual(b,"opacity")});c.setStyle(k.getModel("lineStyle").getLineStyle());c.hoverStyle=l.getModel("lineStyle").getLineStyle();(d=k.get("smooth"))&&!0===d&&(d=.4);c.setShape({smooth:d})};ja(qj,F);Ta.extend({type:"pie",init:function(){this._sectorGroup=new F},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group;b=b.get("animation");var h=!f,k=a.get("animationType"),l=C(dv,this.uid,a,b,c),m=a.get("selectedMode");e.diff(f).add(function(a){var b=new qj(e,a);h&&"scale"!==k&&b.eachChild(function(a){a.stopAnimation(!0)});m&&b.on("click",l);e.setItemGraphicEl(a,b);g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a);c.off("click");m&&c.on("click",l);g.add(c);e.setItemGraphicEl(a,c)}).remove(function(a){a=f.getItemGraphicEl(a);g.remove(a)}).execute();b&&h&&0<e.count()&&"scale"!==k&&(b=e.getItemLayout(0),c=Math.max(c.getWidth(),c.getHeight())/2,d=A(g.removeClipPath,g),g.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,b.clockwise,d,a)));this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){a=new Dc({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});hb(a,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f);return a},containPoint:function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,d=Math.sqrt(d*d+e*e);return d<=c.r&&d>=c.r0}}});var Fs=function(a,b){r(b,function(b){b.update="updateView";W(b,function(c,e){var d={};e.eachComponent({mainType:"series",subType:a,query:c},function(a){if(a[b.method])a[b.method](c.name,c.dataIndex);var e=a.getData();e.each(function(b){b=e.getName(b);d[b]=a.isSelected(b)||!1})});return{name:c.name,selected:d}})})},wl=function(a,b){var c={};b.eachRawSeriesByType(a,function(a){var d=a.getRawData(),f={};if(!b.isSeriesFiltered(a)){var g=a.getData();g.each(function(a){var b=g.getRawIndex(a);f[b]=a});d.each(function(b){var e=f[b],h=null!=e&&g.getItemVisual(e,"color",!0);h?d.setItemVisual(b,"color",h):(h=d.getItemModel(b).get("itemStyle.normal.color")||a.getColorFromPalette(d.getName(b),c),d.setItemVisual(b,"color",h),null!=e&&g.setItemVisual(e,"color",h))})}})},yz=function(a,b,c,d){var e=a.getData(),f=[],g,h,k=!1;e.each(function(c){var d=e.getItemLayout(c),l=e.getItemModel(c),n=l.getModel("label.normal"),q=n.get("position")||l.get("label.emphasis.position"),t=l.getModel("labelLine.normal"),l=t.get("length"),t=t.get("length2"),v=(d.startAngle+d.endAngle)/2,u=Math.cos(v),r=Math.sin(v),Tb,y,E,J;g=d.cx;h=d.cy;var sa="inside"===q||"inner"===q;if("center"===q)Tb=d.cx,y=d.cy,J="center";else{J=(sa?(d.r+d.r0)/2*u:d.r*u)+g;var z=(sa?(d.r+d.r0)/2*r:d.r*r)+h;Tb=J+3*u;y=z+3*r;if(!sa){E=J+u*(l+b-d.r);var r=z+r*(l+b-d.r),x=E+(0>u?-1:1)*t;Tb=x+(0>u?-5:5);y=r;E=[[J,z],[E,r],[x,r]]}J=sa?"center":0<u?"left":"right"}z=n.getFont();n=n.get("rotate")?0>u?-v+Math.PI:-v:0;c=a.getFormattedLabel(c,"normal")||e.getName(c);c=$b(c,z,J,"top");k=!!n;d.label={x:Tb,y:y,position:q,height:c.height,len:l,len2:t,linePoints:E,textAlign:J,verticalAlign:"middle",rotation:n,inside:sa};sa||f.push(d.label)});!k&&a.get("avoidLabelOverlap")&&ev(f,g,h,b,c,d)},zh=2*Math.PI,Gs=Math.PI/180,Ah=function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){a=b.getName(a);for(var d=0;d<c.length;d++)if(!c[d].isSelected(a))return!1;return!0},this)},this)};Fs("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);ra(C(wl,"pie"));oa(C(function(a,b,c,d){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");x(d)||(d=[0,d]);x(b)||(b=[b,b]);var e=c.getWidth(),k=c.getHeight(),l=Math.min(e,k),m=B(b[0],e),p=B(b[1],k),n=B(d[0],l/2),q=B(d[1],l/2),t=a.getData(),v=-a.get("startAngle")*Gs,u=a.get("minAngle")*Gs,r=0;t.each("value",function(a){!isNaN(a)&&r++});var z=t.getSum("value"),y=Math.PI/(z||r)*2,E=a.get("clockwise"),J=a.get("roseType"),sa=a.get("stillShowZeroSum"),A=t.getDataExtent("value");A[0]=0;var D=zh,ka=0,C=v,F=E?1:-1;t.each("value",function(a,b){var c;if(isNaN(a))t.setItemLayout(b,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:m,cy:p,r0:n,r:J?NaN:q});else{c="area"!==J?0===z&&sa?y:a*y:zh/r;c<u?(c=u,D-=u):ka+=a;var d=C+F*c;t.setItemLayout(b,{angle:c,startAngle:C,endAngle:d,clockwise:E,cx:m,cy:p,r0:n,r:J?aa(a,A,[n,q]):q});C=d}},!0);if(D<zh&&r)if(.001>=D){var G=zh/r;t.each("value",function(a,b){if(!isNaN(a)){var c=t.getItemLayout(b);c.angle=G;c.startAngle=v+F*b*G;c.endAngle=v+F*(b+1)*G}})}else y=D/ka,C=v,t.each("value",function(a,b){if(!isNaN(a)){var c=t.getItemLayout(b),d=c.angle===u?u:a*y;c.startAngle=C;c.endAngle=C+F*d;C+=F*d}});yz(a,q,e,k)})},"pie"));Ua(C(Ah,"pie"));wa.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return yc(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}});var fv=Qb({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){for(var c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape,g=0;g<c.length;g++){var h=c[g];if(!isNaN(h[0])&&!isNaN(h[1])){var k=d[g];4>k[0]?a.rect(h[0]-k[0]/2,h[1]-k[1]/2,k[0],k[1]):(f.x=h[0]-k[0]/2,f.y=h[1]-k[1]/2,f.width=k[0],f.height=k[1],e.buildPath(a,f,!0))}}},findDataIndex:function(a,b){for(var c=this.shape,d=c.points,c=c.sizes,e=d.length-1;0<=e;e--){var f=d[e],g=c[e],h=f[0]-g[0]/2,f=f[1]-g[1]/2;if(a>=h&&b>=f&&a<=h+g[0]&&b<=f+g[1])return e}return-1}}),xl=Wo.prototype;xl.updateData=function(a){this.group.removeAll();var b=this._symbolEl,c=a.hostModel;b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");b instanceof Array||(b=[b,b]);return b})});b.symbolProxy=jb(a.getVisual("symbol"),0,0,0,0);b.setColor=b.symbolProxy.setColor;b.useStyle(c.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&b.setColor(d);b.seriesIndex=c.seriesIndex;b.on("mousemove",function(a){b.dataIndex=null;a=b.findDataIndex(a.offsetX,a.offsetY);0<=a&&(b.dataIndex=a)});this.group.add(b)};xl.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};xl.remove=function(){this.group.removeAll()};La({type:"scatter",init:function(){this._normalSymbolDraw=new Sd;this._largeSymbolDraw=new Wo},render:function(a,b,c){b=a.getData();c=this._largeSymbolDraw;var d=this._normalSymbolDraw,e=this.group;this._symbolDraw=a=a.get("large")&&b.count()>a.get("largeThreshold")?c:d;a.updateData(b);e.add(a.group);e.remove(a===c?d.group:c.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}});ra(C(vd,"scatter","circle",null));oa(C(sl,"scatter"));ja(Xo,Ba);Gb.prototype.getIndicatorAxes=function(){return this._indicatorAxes};Gb.prototype.dataToPoint=function(a,b){return this.coordToPoint(this._indicatorAxes[b].dataToCoord(a),b)};Gb.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(c),this.cy-a*Math.sin(c)]};Gb.prototype.pointToData=function(a){var b=a[0]-this.cx,c=a[1]-this.cy;a=Math.sqrt(b*b+c*c);for(var b=Math.atan2(-(c/a),b/a),c=Infinity,d,e=-1,f=0;f<this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],h=Math.abs(b-g.angle);h<c&&(d=g,e=f,c=h)}return[e,+(d&&d.coodToData(a))]};Gb.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),f=Math.min(d,e)/2;this.cx=B(c[0],d);this.cy=B(c[1],e);this.startAngle=a.get("startAngle")*Math.PI/180;this.r=B(a.get("radius"),f);r(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));a.angle=c},this)};Gb.prototype.update=function(a,b){function c(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10));a/=b;return(2===a?5:2*a)*b}var d=this._indicatorAxes,e=this._model;r(d,function(a){a.scale.setExtent(Infinity,-Infinity)});a.eachSeriesByType("radar",function(b,c){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===e){var f=b.getData();r(d,function(a){a.scale.unionExtentFromData(f,a.dim)})}},this);var f=e.get("splitNumber");r(d,function(a,b){var d=mo(a.scale,a.model);zc(a.scale,a.model);var e=a.model,g=a.scale,h=e.getMin(),n=e.getMax(),e=g.getInterval();if(null!=h&&null!=n)g.setExtent(+h,+n),g.setInterval((n-h)/f);else if(null!=h){do n=h+e*f,g.setExtent(+h,n),g.setInterval(e),e=c(e);while(n<d[1]&&isFinite(n)&&isFinite(d[1]))}else if(null!=n){do h=n-e*f,g.setExtent(h,+n),g.setInterval(e),e=c(e);while(h>d[0]&&isFinite(h)&&isFinite(d[0]))}else g.getTicks().length-1>f&&(e=c(e)),d=Math.round((d[0]+d[1])/2/e)*e,h=Math.round(f/2),g.setExtent(qa(d-h*e),qa(d+(f-h)*e)),g.setInterval(e)})};Gb.dimensions=[];Gb.create=function(a,b){var c=[];a.eachComponent("radar",function(d){var e=new Gb(d,a,b);c.push(e);d.coordinateSystem=e});a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])});return c};ab.register("radar",Gb);var xf=Lc.valueAxis;ib({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisLabel"),g=this.get("name"),h=this.get("name.show"),k=this.get("name.formatter"),l=this.get("nameGap"),m=this.get("triggerEvent"),p=z(this.get("indicator")||[],function(n){null!=n.max&&0<n.max&&!n.min?n.min=0:null!=n.min&&0>n.min&&!n.max&&(n.max=0);var p=g;null!=n.color&&(p=H({color:n.color},g));n=K(G(n),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:f,name:n.text,nameLocation:"end",nameGap:l,nameTextStyle:p,triggerEvent:m},!1);h||(n.name="");"string"===typeof k?(p=n.name,n.name=k.replace("{value}",null!=p?p:"")):"function"===typeof k&&(n.name=k(n.name,n));n=I(new V(n,null,this.ecModel),ud);n.mainType="radar";n.componentIndex=this.componentIndex;return n},this);this.getIndicatorModels=function(){return p}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:K({lineStyle:{color:"#bbb"}},xf.axisLine),axisLabel:H({show:!1},xf.axisLabel),axisTick:H({show:!1},xf.axisTick),splitLine:H({show:!0},xf.splitLine),splitArea:H({show:!0},xf.splitArea),indicator:[]}});var zz=["axisLine","axisTickLabel","axisName"];ma({type:"radar",render:function(a,b,c){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var b=a.coordinateSystem;a=b.getIndicatorAxes();a=z(a,function(a){return new db(a.model,{position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});r(a,function(a){r(zz,a.add,a);this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function b(a,b,c){b=c%b.length;a[b]=a[b]||[];return b}var c=a.coordinateSystem,d=c.getIndicatorAxes();if(d.length){var e=a.get("shape"),f=a.getModel("splitLine"),g=a.getModel("splitArea");a=f.getModel("lineStyle");var h=g.getModel("areaStyle"),f=f.get("show"),g=g.get("show"),k=a.get("color"),l=h.get("color"),k=x(k)?k:[k],l=x(l)?l:[l],m=[],p=[];if("circle"===e)for(var d=d[0].getTicksCoords(),n=c.cx,q=c.cy,e=0;e<d.length;e++){if(f){var t=b(m,k,e);m[t].push(new td({shape:{cx:n,cy:q,r:d[e]}}))}g&&e<d.length-1&&(t=b(p,l,e),p[t].push(new ls({shape:{cx:n,cy:q,r0:d[e],r:d[e+1]}})))}else for(var v,n=z(d,function(a,b){var d=a.getTicksCoords();v=null==v?d.length-1:Math.min(d.length-1,v);return z(d,function(a){return c.coordToPoint(a,b)})}),q=[],e=0;e<=v;e++){for(var u=[],t=0;t<d.length;t++)u.push(n[t][e]);u[0]?u.push(u[0].slice()):D&&console.error("Can't draw value axis "+e);f&&(t=b(m,k,e),m[t].push(new Fb({shape:{points:u}})));g&&q&&(t=b(p,l,e-1),p[t].push(new Ma({shape:{points:u.concat(q)}})));q=u.slice().reverse()}var w=a.getLineStyle(),Tb=h.getAreaStyle();r(p,function(a,b){this.group.add(ic(a,{style:H({stroke:"none",fill:l[b%l.length]},Tb),silent:!0}))},this);r(m,function(a,b){this.group.add(ic(a,{style:H({fill:"none",stroke:k[b%k.length]},w),silent:!0}))},this)}}});var Az=wa.extend({type:"series.radar",dependencies:["radar"],init:function(a){Az.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,b){var c=a.data||[],d=Ja([],c,{extraPrefix:"indicator_",extraFromZero:!0}),d=new ia(d,this);d.initData(c);return d},formatTooltip:function(a){var b=this.getRawValue(a),c=this.coordinateSystem.getIndicatorAxes();a=this.getData().getName(a);return la(""===a?this.name:a)+"\x3cbr/\x3e"+z(c,function(a,c){return la(a.name+" : "+b[c])}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});La({type:"radar",render:function(a,b,c){function d(b,c,d,e,f,g){d.removeAll();for(var h=0;h<c.length-1;h++){var k;var l=e,m=f;k=l.getItemVisual(m,"symbol")||"circle";var n=l.getItemVisual(m,"color");"none"===k?k=void 0:(l=l.getItemVisual(m,"symbolSize"),x(l)||(l=[+l,+l]),k=jb(k,-1,-1,2,2,n),k.attr({style:{strokeNoScale:!0},z2:100,scale:[l[0]/2,l[1]/2]}));k&&(k.__dimIdx=h,b[h]?(k.attr("position",b[h]),Pa[g?"initProps":"updateProps"](k,{position:c[h]},a,f)):k.attr("position",c[h]),d.add(k))}}function e(a){return z(a,function(a){return[f.cx,f.cy]})}var f=a.coordinateSystem,g=this.group,h=a.getData(),k=this._data;h.diff(k).add(function(b){var c=h.getItemLayout(b);if(c){var f=new Ma,g=new Fb,k={shape:{points:c}};f.shape.points=e(c);g.shape.points=e(c);hb(f,k,a,b);hb(g,k,a,b);var k=new F,l=new F;k.add(g);k.add(f);k.add(l);d(g.shape.points,c,l,h,b,!0);h.setItemGraphicEl(b,k)}}).update(function(b,c){var e=k.getItemGraphicEl(c),f=e.childAt(0),g=e.childAt(1),l=e.childAt(2),m={shape:{points:h.getItemLayout(b)}};m.shape.points&&(d(f.shape.points,m.shape.points,l,h,b,!1),Z(f,m,a),Z(g,m,a),h.setItemGraphicEl(b,e))}).remove(function(a){g.remove(k.getItemGraphicEl(a))}).execute();h.eachItemGraphicEl(function(a,b){function c(){k.attr("ignore",E)}function d(){k.attr("ignore",y)}var e=h.getItemModel(b),f=a.childAt(0),k=a.childAt(1),l=a.childAt(2),m=h.getItemVisual(b,"color");g.add(a);f.useStyle(H(e.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:m}));f.hoverStyle=e.getModel("lineStyle.emphasis").getLineStyle();var f=e.getModel("areaStyle.normal"),r=e.getModel("areaStyle.emphasis"),y=f.isEmpty()&&f.parentModel.isEmpty(),E=r.isEmpty()&&r.parentModel.isEmpty(),E=E&&y;k.ignore=y;k.useStyle(H(f.getAreaStyle(),{fill:m,opacity:.7}));k.hoverStyle=r.getAreaStyle();var J=e.getModel("itemStyle.normal").getItemStyle(["color"]),z=e.getModel("itemStyle.emphasis").getItemStyle(),x=e.getModel("label.normal"),A=e.getModel("label.emphasis");l.eachChild(function(a){a.setStyle(J);a.hoverStyle=G(z);Db(a.style,a.hoverStyle,x,A,{labelFetcher:h.hostModel,labelDataIndex:b,labelDimIndex:a.__dimIdx,defaultText:h.get(h.dimensions[a.__dimIdx],b),autoColor:m,isRectText:!0})});a.off("mouseover").off("mouseout").off("normal").off("emphasis");a.on("emphasis",c).on("mouseover",c).on("normal",d).on("mouseout",d);T(a)});this._data=h},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});ra(C(wl,"radar"));ra(C(vd,"radar","circle",null));oa(function(a){a.eachSeriesByType("radar",function(a){function b(a,b){e[b]=e[b]||[];e[b][g]=f.dataToPoint(a,g)}var d=a.getData(),e=[],f=a.coordinateSystem;if(f){for(var g=0;g<f.getIndicatorAxes().length;g++)d.each(d.dimensions[g],b);d.each(function(a){e[a][0]&&e[a].push(e[a][0].slice());d.setItemLayout(a,e[a])})}})});Ua(C(Ah,"radar"));cb(function(a){var b=a.polar;if(b){x(b)||(b=[b]);var c=[];r(b,function(b,e){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],x(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)});a.polar=c}r(a.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})});M(rj,$a);jd.prototype={constructor:jd,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new S(a,b,c,d)},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d);this._viewRect=new S(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=this._viewTransform;f.transform=e.calculateTransform(new S(a,b,c,d));f.decomposeTransform();this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a)));this._zoom=a;this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var a=this._viewTransform.getLocalTransform(),b=this._roamTransform,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom(),d=da([],d,a),c=da([],c,a);b.origin=d;b.position=[c[0]-d[0],c[1]-d[1]];b.scale=[e,e];this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a;a.updateTransform();b.updateTransform();b.transform&&$h(this.transform||(this.transform=[]),b.transform);this.transform?(this.invTransform=this.invTransform||[],If(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();a.applyTransform(this.transform);return a},dataToPoint:function(a){var b=this.transform;return b?da([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?da([],a,b):[a[0],a[1]]},convertToPixel:C(Yo,"dataToPoint"),convertFromPixel:C(Yo,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}};M(jd,$a);for(var yl=[126,25],Ib=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Jb=0;Jb<Ib.length;Jb++)for(var Rb=0;Rb<Ib[Jb].length;Rb++)Ib[Jb][Rb][0]/=10.5,Ib[Jb][Rb][1]/=-14,Ib[Jb][Rb][0]+=yl[0],Ib[Jb][Rb][1]+=yl[1];var Bz={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]},Cz={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},Dz=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Ez=[function(a){"china"===a.map&&a.regions.push(new qg("\u5357\u6d77\u8bf8\u5c9b",z(Ib,function(a){return{type:"polygon",exterior:a}}),yl))},function(a){r(a.regions,function(a){var b=Bz[a.name];b&&(a=a.center,a[0]+=b[0]/10.5,a[1]+=-b[1]/14)})},function(a){r(a.regions,function(a){var b=Cz[a.name];b&&(a=a.center,a[0]=b[0],a[1]=b[1])})},function(a){if("china"===a.map)for(var b=0,c=a.regions.length;b<c;++b)"\u53f0\u6e7e"===a.regions[b].name&&a.regions[b].geometries.push({type:"polygon",exterior:Dz[0]})}];Wd.prototype={constructor:Wd,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},loadGeoJson:function(a,b,c){try{this.regions=a?ts(a):[]}catch(g){throw"Invalid geoJson format\n"+g.message;}b=b||{};c=c||{};a=this.regions;for(var d=za(),e=0;e<a.length;e++){var f=a[e].name,f=c.hasOwnProperty(f)?c[f]:f;a[e].name=f;d.set(f,a[e]);this.addGeoCoord(f,a[e].center);(f=b[f])&&a[e].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=d;this._rect=null;r(Ez,function(a){a(this)},this)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),e=e.clone();e.y=-e.y-e.height;var f=this._viewTransform;f.transform=e.calculateTransform(new S(a,b,c,d));f.decomposeTransform();a=f.scale;a[1]=-a[1];f.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,b=this.regions,c=0;c<b.length;c++){var d=b[c].getBoundingRect();a=a||d.clone();a.union(d)}return this._rect=a||new S(0,0,0,0)},dataToPoint:function(a){"string"===typeof a&&(a=this.getGeoCoord(a));if(a)return jd.prototype.dataToPoint.call(this,a)},convertToPixel:C(Zo,"dataToPoint"),convertFromPixel:C(Zo,"pointToData")};M(Wd,jd);if(D)var zl=function(a){console.error("Map "+a+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")};var Al={dimensions:Wd.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("geo",function(a,d){var e=a.get("map"),f=wf[e];D&&(f||zl(e));e=new Wd(e+d,e,f&&f.geoJson,f&&f.specialAreas,a.get("nameMap"));e.zoomLimit=a.get("scaleLimit");c.push(e);ap(e,a);a.coordinateSystem=e;e.model=a;e.resize=$o;e.resize(a,b)});a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var b=a.get("geoIndex")||0;a.coordinateSystem=c[b]}});var d={};a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();d[b]=d[b]||[];d[b].push(a)}});r(d,function(a,d){var e=wf[d];D&&(e||zl(a[0].get("map")));var f=z(a,function(a){return a.get("nameMap")}),k=new Wd(d,d,e&&e.geoJson,e&&e.specialAreas,te(f));k.zoomLimit=na.apply(null,z(a,function(a){return a.get("scaleLimit")}));c.push(k);k.resize=$o;k.resize(a[0],b);r(a,function(a){a.coordinateSystem=k;ap(k,a)})});return c},getFilledRegions:function(a,b,c){var d=(a||[]).slice();c=c||{};var e=wf[b],e=e&&e.geoJson;if(!e)return D&&zl(b),a;a=za();b=e.features;for(e=0;e<d.length;e++)a.set(d[e].name,d[e]);for(e=0;e<b.length;e++){var f=b[e].properties.name;a.get(f)||(c.hasOwnProperty(f)&&(f=c[f]),d.push({name:f}))}return d}};ej("geo",Al);var Bl=wa.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this._fillOption(a,this.getMapType());Bl.superApply(this,"init",arguments);this.updateSelectedMap(a.data)},getInitialData:function(a){var b=Ja(["value"],a.data||[]),b=new ia(b,this);b.initData(a.data);return b},mergeOption:function(a){this._fillOption(a,this.getMapType());Bl.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,b){a.data=Al.getFilledRegions(a.data,b,a.nameMap)},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(a){var b=this.getData(),c=bc(this.getRawValue(a));a=b.getName(a);for(var b=this.seriesGroup,d=[],e=0;e<b.length;e++){var f=b[e].originalData.indexOfName(a);isNaN(b[e].originalData.get("value",f))||d.push(la(b[e].name))}return d.join(", ")+"\x3cbr /\x3e"+la(a+" : "+c)},getTooltipPosition:function(a){if(null!=a){var b=this.getData().getName(a);a=this.coordinateSystem;return(b=a.getRegion(b))&&a.dataToPoint(b.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});M(Bl,vl);W({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});M(Ye,pb);var nv={axisPointer:1,tooltip:1,brush:1};ug.prototype={constructor:ug,draw:function(a,b,c,d,e){var f="geo"===a.mainType,g=a.getData&&a.getData();f&&b.eachComponent({mainType:"series",subType:"map"},function(b){g||b.getHostGeoModel()!==a||(g=b.getData())});var h=a.coordinateSystem,k=this.group,l=h.scale,m={position:h.position,scale:l};!k.childAt(0)||e?k.attr(m):Z(k,m,a);k.removeAll();var p=["itemStyle","normal"],n=["itemStyle","emphasis"],q=["label","normal"],t=["label","emphasis"],v=za();r(h.regions,function(b){var c=v.get(b.name)||v.set(b.name,new F),d=new ns({shape:{paths:[]}});c.add(d);var e=a.getRegionModel(b.name)||a,h=e.getModel(p),m=e.getModel(n),u=ep(h,l),m=ep(m,l),h=e.getModel(q),e=e.getModel(t),z;if(g){z=g.indexOfName(b.name);var x=g.getItemVisual(z,"color",!0);x&&(u.fill=x)}r(b.geometries,function(a){if("polygon"===a.type){d.shape.paths.push(new Ma({shape:{points:a.exterior}}));for(var b=0;b<(a.interiors?a.interiors.length:0);b++)d.shape.paths.push(new Ma({shape:{points:a.interiors[b]}}))}});d.setStyle(u);d.style.strokeNoScale=!0;d.culling=!0;var u=h.get("show"),x=e.get("show"),A=g&&isNaN(g.get("value",z)),B=g&&g.getItemLayout(z);if(f||A&&(u||x)||B&&B.showLabel){var u=f?b.name:z,C;if(!g||0<=z)C=a;x=new P({position:b.center.slice(),scale:[1/l[0],1/l[1]],z2:10,silent:!0});Db(x.style,x.hoverStyle={},h,e,{labelFetcher:C,labelDataIndex:u,defaultText:b.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"});c.add(x)}g?g.setItemGraphicEl(z,c):(e=a.getRegionModel(b.name),d.eventData={componentType:"geo",geoIndex:a.componentIndex,name:b.name,region:e&&e.option||{}});(c.__regions||(c.__regions=[])).push(b);T(c,m,{hoverSilentOnTouch:!!a.get("selectedMode")});k.add(c)});this._updateController(a,b,c);ov(this,a,k,c,d);fp(a,k)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(a,b,c){function d(){var b={type:"geoRoam",componentType:g};b[g+"Id"]=a.id;return b}var e=a.coordinateSystem;b=this._controller;var f=this._controllerHost;f.zoomLimit=a.get("scaleLimit");f.zoom=e.getZoom();b.enable(a.get("roam")||!1);var g=a.mainType;b.off("pan").on("pan",function(a,b){this._mouseDownFlag=!1;cp(f,a,b);c.dispatchAction(I(d(),{dx:a,dy:b}))},this);b.off("zoom").on("zoom",function(a,b,e){this._mouseDownFlag=!1;dp(f,a,b,e);c.dispatchAction(I(d(),{zoom:a,originX:b,originY:e}));if(this._updateGroup){a=this.group;var g=a.scale;a.traverse(function(a){"text"===a.type&&a.attr("scale",[1/g[0],1/g[1]])})}},this);b.setPointerChecker(function(b,d,f){return e.getViewRectAfterRoam().contain(d,f)&&!sj(b,c,a)})}};La({type:"map",render:function(a,b,c,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var e=this.group;e.removeAll();if(!a.getHostGeoModel()){if(d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===a.id)(f=this._mapDraw)&&e.add(f.group);else if(a.needsDrawMap){var f=this._mapDraw||new ug(c,!0);e.add(f.group);f.draw(a,b,c,this,d);this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(a,b,c){var d=a.originalData,e=this.group;d.each("value",function(b,c){if(!isNaN(b)){var f=d.getItemLayout(c);if(f&&f.point){var g=f.point,f=f.offset,l=new td({style:{fill:a.getData().getVisual("color")},shape:{cx:g[0]+9*f,cy:g[1],r:3},silent:!0,z2:f?8:10});if(!f){var f=a.mainSeries.getData(),g=d.getName(c),m=f.indexOfName(g),p=d.getItemModel(c),n=p.getModel("label.normal"),q=p.getModel("label.emphasis"),f=f.getItemGraphicEl(m),t=pa(a.getFormattedLabel(c,"normal"),g),v=pa(a.getFormattedLabel(c,"emphasis"),t),g=function(){var a=ua({},q,{text:q.get("show")?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(a);l.__mapOriginalZ2=l.z2;l.z2+=1},m=function(){ua(l.style,n,{text:n.get("show")?t:null,textPosition:n.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1});null!=l.__mapOriginalZ2&&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};f.on("mouseover",g).on("mouseout",m).on("emphasis",g).on("normal",m);m()}e.add(l)}}})}});W({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){var d=b.coordinateSystem;if("geo"===d.type){var f=gp(d,a,b.get("scaleLimit"));b.setCenter&&b.setCenter(f.center);b.setZoom&&b.setZoom(f.zoom);"series"===c&&r(b.seriesGroup,function(a){a.setCenter(f.center);a.setZoom(f.zoom)})}})});oa(function(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var e={};r(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var f=d.getName(b),g=c.getRegion(f);if(g&&!isNaN(a)){var h=e[f]||0,g=c.dataToPoint(g.center);e[f]=h+1;d.setItemLayout(b,{point:g,offset:h})}})});var f=c.getData();f.each(function(a){var b=f.getName(a),c=f.getItemLayout(a)||{};c.showLabel=!e[b];f.setItemLayout(a,c)});b[d]=!0}})});ra(function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),d=a.getModel("itemStyle.normal"),e=d.get("areaColor"),b=d.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:e,color:b})})});Ua(le.PROCESSOR.STATISTIC,function(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),c=c?"o"+c.id:"i"+a.getMapType();(b[c]=b[c]||[]).push(a)});r(b,function(a,b){for(var c=pv(z(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),d=0;d<a.length;d++)a[d].originalData=a[d].getData();for(d=0;d<a.length;d++)a[d].seriesGroup=a,a[d].needsDrawMap=0===d&&!a[d].getHostGeoModel(),a[d].setData(c.cloneShallow()),a[d].mainSeries=a[0]})});cb(function(a){var b=[];r(a.series,function(a){a&&"map"===a.type&&(b.push(a),a.map=a.map||a.mapType,H(a,a.mapLocation))})});Fs("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var Ze=r,Cl=function(a,b){this.name=a||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=b};Cl.prototype={constructor:Cl,isRemoved:function(){return 0>this.dataIndex},eachNode:function(a,b,c){"function"===typeof a&&(c=b,b=a,a=null);a=a||{};ya(a)&&(a={order:a});var d=a.order||"preorder",e=this[a.attr||"children"],f;"preorder"===d&&(f=b.call(c,this));for(var g=0;!f&&g<e.length;g++)e[g].eachNode(a,b,c);"postorder"===d&&b.call(c,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1);d.height>b&&(b=d.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},contains:function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;b.reverse();return b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(0>this.dataIndex)){var b=this.hostTree,c=b.data.getItemModel(this.dataIndex),d=this.getLevelModel(),e;d||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel());return c.getModel(a,(d||e||b.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};Xd.prototype={constructor:Xd,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;c<d;c++)b[c].dataIndex=-1;c=0;for(d=a.count();c<d;c++)b[a.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}};Xd.createTree=function(a,b,c){function d(a,b){var c=a.value;g=Math.max(g,x(c)?c.length:1);f.push(a);c=new Cl(a.name,e);b?c.parentNode!==b&&(b.children.push(c),c.parentNode=b):e.root=c;e._nodes.push(c);var h=a.children;if(h)for(var k=0;k<h.length;k++)d(h[k],c)}var e=new Xd(b,c.levels,c.leaves),f=[],g=1;d(a);e.root.updateDepthAndHeight(0);a=Ja([{name:"value"}],f,{dimCount:g});b=new ia(a,b);b.initData(f);hp({mainData:b,struct:e,structAttr:"tree"});e.update();return e};wa.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(a){var b={name:a.name,children:a.data},c={};c.leaves=a.leaves||{};var b=Xd.createTree(b,this,c),d=0;b.eachNode("preorder",function(a){a.depth>d&&(d=a.depth)});var e=a.expandAndCollapse&&0<=a.initialTreeDepth?a.initialTreeDepth:d;b.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=e});return b.data},formatTooltip:function(a){var b=this.getData().tree,c=b.root.children[0];a=b.getNodeByDataIndex(a);for(var b=a.getValue(),d=a.name;a&&a!==c;)d=a.parentNode.name+"."+d,a=a.parentNode;return la(d+(isNaN(b)||null==b?"":" : "+b))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1E3}});La({type:"tree",init:function(a,b){this._mainGroup=new F;this.group.add(this._mainGroup)},render:function(a,b,c,d){var e=a.getData();b=a.layoutInfo;var f=this._mainGroup;d=a.get("layout");"radial"===d?f.attr("position",[b.x+b.width/2,b.y+b.height/2]):f.attr("position",[b.x,b.y]);var g=this._data,h={expandAndCollapse:a.get("expandAndCollapse"),layout:d,orient:a.get("orient"),curvature:a.get("lineStyle.normal.curveness"),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};e.diff(g).add(function(b){kp(e,b)&&mp(e,b,null,f,a,h)}).update(function(b,c){var d=g.getItemGraphicEl(c);kp(e,b)?mp(e,b,d,f,a,h):d&&np(e,b,d,f,a,h)}).remove(function(b){var c=g.getItemGraphicEl(b);np(e,b,c,f,a,h)}).execute();!0===h.expandAndCollapse&&e.eachItemGraphicEl(function(b,d){b.off("click").on("click",function(){c.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:d})})});this._data=e},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});W({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=a.dataIndex;b=b.getData().tree.getNodeByDataIndex(c);b.isExpand=!b.isExpand})});var Hs=function(a,b){var c=yv(a,b);a.layoutInfo=c;var d=a.get("layout"),e=0,f=0,g=null;"radial"===d?(e=2*Math.PI,f=Math.min(c.height,c.width)/2,g=jp(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(e=c.width,f=c.height,g=jp());var h=a.getData().tree.root,c=h.children[0];uv(h);zv(c,vv,g);h.hierNode.modifier=-c.hierNode.prelim;af(c,wv);var k=c,l=c,m=c;af(c,function(a){var b=a.getLayout().x;b<k.getLayout().x&&(k=a);b>l.getLayout().x&&(l=a);a.depth>m.depth&&(m=a)});var g=k===l?1:g(k,l)/2,p=g-k.getLayout().x,n=0,q=0,t=0,v=0;"radial"===d?(n=e/(l.getLayout().x+g+p),q=f/(m.depth-1||1),af(c,function(a){t=(a.getLayout().x+p)*n;v=(a.depth-1)*q;var b=$e(t,v);a.setLayout({x:b.x,y:b.y,rawX:t,rawY:v},!0)})):"horizontal"===a.get("orient")?(q=f/(l.getLayout().x+g+p),n=e/(m.depth-1||1),af(c,function(a){v=(a.getLayout().x+p)*q;t=(a.depth-1)*n;a.setLayout({x:t,y:v},!0)})):(n=e/(l.getLayout().x+g+p),q=f/(m.depth-1||1),af(c,function(a){t=(a.getLayout().x+p)*n;v=(a.depth-1)*q;a.setLayout({x:t,y:v},!0)}))};ra(C(vd,"tree","circle",null));oa(function(a,b){a.eachSeriesByType("tree",function(a){Hs(a,b)})});oa(function(a,b){a.eachSeriesByType("tree",function(a){Hs(a,b)})});wa.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var c={name:a.name,children:a.data};rp(c);var d=a.levels||[],d=a.levels=Av(d,b),e={};e.levels=d;return Xd.createTree(c,this,e).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),c=x(c)?bc(c[0]):bc(c);a=b.getName(a);return la(a+": "+c)},getDataParams:function(a){var b=wa.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);b.treePathInfo=qp(c,this);return b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};I(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=za(),this._idIndexMapCount=0);var c=b.get(a);null==c&&b.set(a,c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;if(!a||a!==b&&!b.contains(a))this._viewRoot=b}});zj.prototype={constructor:zj,render:function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;f.removeAll();if(e.get("show")&&c){var g=e.getModel("itemStyle.normal"),h=g.getModel("textStyle");b={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(c,b,h);this._renderContent(a,b,g,h,d);dg(f,b.pos,b.box)}},_prepare:function(a,b,c){for(;a;a=a.parentNode){var d=a.getModel().get("name"),e=c.getTextRect(d),e=Math.max(e.width+16,b.emptyItemWidth);b.totalWidth+=e+8;b.renderList.push({node:a,text:d,width:e})}},_renderContent:function(a,b,c,d,e){var f,g=0,h=b.emptyItemWidth,k=a.get("breadcrumb.height");f=b.pos;var l=b.box,m=void 0,p=l.width,n=l.height,l=B(f.x,p),q=B(f.y,n),t=B(f.x2,p),n=B(f.y2,n);(isNaN(l)||isNaN(parseFloat(f.x)))&&(l=0);(isNaN(t)||isNaN(parseFloat(f.x2)))&&(t=p);isNaN(q)||isNaN(parseFloat(f.y));isNaN(n)||isNaN(parseFloat(f.y2));m=cd(m||0);f=Math.max(t-l-m[1]-m[3],0);m=b.totalWidth;b=b.renderList;for(p=b.length-1;0<=p;p--){t=b[p];l=t.node;q=t.width;t=t.text;m>f&&(m-=q-h,q=h,t=null);var n=g,v=k,u=p===b.length-1,r=[[u?n:n-5,0],[n+q,0],[n+q,0+v],[u?n:n-5,0+v]];0!==p&&r.splice(2,0,[n+q+5,0+v/2]);!u&&r.push([n,0+v/2]);t=new Ma({shape:{points:r},style:H(c.getItemStyle(),{lineJoin:"bevel",text:t,textFill:d.getTextColor(),textFont:d.getFont()}),z:10,onclick:C(e,l)});this.group.add(t);t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:l&&l.dataIndex,name:l&&l.name},treePathInfo:l&&qp(l,a)};g+=q+8}},remove:function(){this.group.removeAll()}};var tp=F,up=ga,Ev=["label","normal"],Gv=["label","emphasis"],Dv=["upperLabel","normal"],Fv=["upperLabel","emphasis"],Aj=je([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),sp=function(a){a=Aj(a);a.stroke=a.fill=a.lineWidth=null;return a};La({type:"treemap",init:function(a,b){this._storage=bf();this._state="ready"},render:function(a,b,c,d){var e=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(0>R(e,a))){this.seriesModel=a;this.api=c;this.ecModel=b;b=yj(d,a);var e=d&&d.type,f=a.layoutInfo,g=!this._oldTree,h=this._storage;d="treemapRootToNode"===e&&b&&h?{rootNodeGroup:h.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;f=this._giveContainerGroup(f);h=this._doRender(f,a,d);g||e&&"treemapZoomToNode"!==e&&"treemapRootToNode"!==e?h.renderFinally():this._doAnimation(f,h,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;b||(b=this._containerGroup=new tp,this._initEvents(b),this.group.add(b));b.attr("position",[a.x,a.y]);return b},_doRender:function(a,b,c){function d(a,b,c,e,f){function g(a){return a.getId()}function h(g,h){var k=null!=g?a[g]:null,l=null!=h?b[h]:null,n=m(k,l,c,f);n&&d(k&&k.viewChildren||[],l&&l.viewChildren||[],n,e,f+1)}e?(b=a,r(a,function(a,b){!a.isRemoved()&&h(b,b)})):(new xc(b,a,g,g)).add(h).update(h).remove(C(h,null)).execute()}var e=b.getData().tree,f=this._oldTree,g=bf(),h=bf(),k=this._storage,l=[],m=C(Cv,b,h,k,c,g,l);d(e.root?[e.root]:[],f&&f.root?[f.root]:[],a,e===f||!f,0);var p=function(a){var b=bf();a&&r(a,function(a,c){var d=b[c];r(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})});return b}(k);this._oldTree=e;this._storage=h;return{lastsForAnimation:g,willDeleteEls:p,renderFinally:function(){r(p,function(a){r(a,function(a){a.parent&&a.parent.remove(a)})});r(l,function(a){a.invisible=!0;a.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),g=Bv();r(b.willDeleteEls,function(a,b){r(a,function(a,c){if(!a.invisible){var h=a.parent;if(d&&"drillDown"===d.direction)h=h===d.rootNodeGroup?{shape:{x:0,y:0,width:h.__tmNodeWidth,height:h.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var k=0,l=0;h.__tmWillDelete||(k=h.__tmNodeWidth/2,l=h.__tmNodeHeight/2);h="nodeGroup"===b?{position:[k,l],style:{opacity:0}}:{shape:{x:k,y:l,width:0,height:0},style:{opacity:0}}}h&&g.add(a,h,e,f)}})});r(this._storage,function(a,c){r(a,function(a,d){var h=b.lastsForAnimation[c][d],k={};h&&("nodeGroup"===c?h.old&&(k.position=a.position.slice(),a.attr("position",h.old)):(h.old&&(k.shape=I({},a.shape),a.setShape(h.old)),h.fadein?(a.setStyle("opacity",0),k.style={opacity:1}):1!==a.style.opacity&&(k.style={opacity:1})),g.add(a,k,e,f))})},this);this._state="animating";g.done(A(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new Ye(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",A(this._onPan,this)),b.on("zoom",A(this._onZoom,this)));var c=new S(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(a,b,f){return c.contain(b,f)})},_clearController:function(){var a=this._controller;a&&a.dispose()},_onPan:function(a,b){if("animating"!==this._state&&(3<Math.abs(a)||3<Math.abs(b))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a,y:c.y+b,width:c.width,height:c.height}})}},_onZoom:function(a,b,c){if("animating"!==this._state){var d=this.seriesModel.getData().tree.root;if(d&&(d=d.getLayout())){var d=new S(d.x,d.y,d.width,d.height),e=this.seriesModel.layoutInfo;b-=e.x;c-=e.y;e=Yb();Nb(e,e,[-b,-c]);Hf(e,e,[a,a]);Nb(e,e,[b,c]);d.applyTransform(e);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x,y:d.y,width:d.width,height:d.height}})}}},_initEvents:function(a){a.on("click",function(a){if("ready"===this._state){var b=this.seriesModel.get("nodeClick",!0);if(b&&(a=this.findTarget(a.offsetX,a.offsetY))){var d=a.node;d.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(a=d.hostTree.data.getItemModel(d.dataIndex),b=a.get("link",!0),a=a.get("target",!0)||"blank",b&&window.open(b,a))}}},this)},_renderBreadcrumb:function(a,b,c){c||(c=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new zj(this.group))).render(a,b,c.node,A(function(b){"animating"!==this._state&&(pp(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=bf();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b),e=e.shape;if(e.x<=f[0]&&f[0]<=e.x+e.width&&e.y<=f[1]&&f[1]<=e.y+e.height)c={node:d,offsetX:f[0],offsetY:f[1]};else return!1}},this);return c}});for(var Fz=function(){},Is=["treemapZoomToNode","treemapRender","treemapMove"],Dl=0;Dl<Is.length;Dl++)W({type:Is[Dl],update:"updateView"},Fz);W({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,d){var c=yj(a,b);if(c){var f=b.getViewRoot();f&&(a.direction=pp(f,c.node)?"rollUp":"drillDown");b.resetViewRoot(c.node)}})});var cf=r,Js=Q,O=function(a){var b=a.mappingMethod,c=a.type;a=this.option=G(a);this.type=c;this.mappingMethod=b;this._normalizeData=Gz[b];c=yf[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(Bj(a),Hv(a)):"category"===b?a.categories?Iv(a):Bj(a,!0):(ca("linear"!==b||a.dataExtent),Bj(a))};O.prototype={constructor:O,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return A(this._normalizeData,this)}};var yf=O.visualHandlers={color:{applyVisual:Dj("color"),getColorMapper:function(){var a=this.option;return A("category"===a.mappingMethod?function(a,c){!c&&(a=this._normalizeData(a));return wg.call(this,a)}:function(b,c,d){var e=!!d;!c&&(b=this._normalizeData(b));d=Be(b,a.parsedVisual,d);return e?d:Zb(d,"rgba")},this)},_doMap:{linear:function(a){return Zb(Be(a,this.option.parsedVisual),"rgba")},category:wg,piecewise:function(a,b){var c=Fj.call(this,b);null==c&&(c=Zb(Be(a,this.option.parsedVisual),"rgba"));return c},fixed:Ej}},colorHue:vg(function(a,b){return Hd(a,b)}),colorSaturation:vg(function(a,b){return Hd(a,null,b)}),colorLightness:vg(function(a,b){return Hd(a,null,null,b)}),colorAlpha:vg(function(a,b){return Kf(a,b)}),opacity:{applyVisual:Dj("opacity"),_doMap:Cj([0,1])},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(ya(a))c("symbol",a);else if(Js(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:wp,category:wg,piecewise:function(a,b){var c=Fj.call(this,b);null==c&&(c=wp.call(this,a));return c},fixed:Ej}},symbolSize:{applyVisual:Dj("symbolSize"),_doMap:Cj([0,1])}},Gz={linear:function(a){return aa(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=O.findPieceIndex(a,b,!0);if(null!=a)return aa(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?-1:a},fixed:Ga};O.listVisualTypes=function(){var a=[];r(yf,function(b,c){a.push(c)});return a};O.addVisualHandler=function(a,b){yf[a]=b};O.isValidType=function(a){return yf.hasOwnProperty(a)};O.eachVisual=function(a,b,c){Q(a)?r(a,b,c):b.call(c,a)};O.mapVisual=function(a,b,c){var d,e=x(a)?[]:Q(a)?{}:(d=!0,null);O.eachVisual(a,function(a,g){var f=b.call(c,a,g);d?e=f:e[g]=f});return e};O.retrieveVisuals=function(a){var b={},c;a&&cf(yf,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};O.prepareVisualTypes=function(a){if(Js(a)){var b=[];cf(a,function(a,d){b.push(d)});a=b}else if(x(a))a=a.slice();else return[];a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1});return a};O.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};O.findPieceIndex=function(a,b,c){function d(b,c){var d=Math.abs(b-a);d<f&&(f=d,e=c)}for(var e,f=Infinity,g=0,h=b.length;g<h;g++){var k=b[g].value;if(null!=k){if(k===a||"string"===typeof k&&k===a+"")return g;c&&d(k,g)}}g=0;for(h=b.length;g<h;g++){var l=b[g],k=l.interval,l=l.close;if(k){if(-Infinity===k[0]){if(xg(l[1],a,k[1]))return g}else if(Infinity===k[1]){if(xg(l[0],k[0],a))return g}else if(xg(l[0],k[0],a)&&xg(l[1],a,k[1]))return g;c&&d(k[0],g);c&&d(k[1],g)}}if(c)return Infinity===a?b.length-1:-Infinity===a?0:e};var Lv=x,df=Math.max,yg=Math.min,Ij=r,Ap=["itemStyle","normal","borderWidth"],Mv=["itemStyle","normal","gapWidth"],Tv=["upperLabel","normal","show"],Uv=["upperLabel","normal","height"];ra(function(a,b,c){a.eachComponent({mainType:"series",subType:"treemap",query:c},function(a){var b=a.getData().tree,c=b.root,d=a.getModel("itemStyle.normal");c.isRemoved()||(b=z(b.levelModels,function(a){return a?a.get("itemStyle.normal"):null}),xp(c,{},b,d,a.getViewRoot().getAncestors(),a))})});oa(function(a,b,c){a.eachComponent({mainType:"series",subType:"treemap",query:c},function(a){var d=b.getWidth(),f=b.getHeight(),g=a.option,h=Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),k=g.size||[],l=B(na(h.width,k[0]),d),m=B(na(h.height,k[1]),f),p=c&&c.type,k=yj(c,a),n="treemapRender"===p||"treemapMove"===p?c.rootRect:null,q=a.getViewRoot(),t=op(q);if("treemapMove"!==p){l="treemapZoomToNode"===p?Rv(a,k,q,l,m):n?[n.width,n.height]:[l,m];(m=g.sort)&&"asc"!==m&&"desc"!==m&&(m="desc");g={squareRatio:g.squareRatio,sort:m,leafDepth:g.leafDepth};q.hostTree.clearLayouts();var v={x:0,y:0,width:l[0],height:l[1],area:l[0]*l[1]};q.setLayout(v);zp(q,g,!1,0);v=q.getLayout();Ij(t,function(a,b){var c=(t[b+1]||q).getValue();a.setLayout(I({dataExtent:[c,c],borderWidth:0,upperHeight:0},v))})}g=a.getData().tree.root;g.setLayout(Sv(h,n,k),!0);a.setLayoutInfo(h);Dp(g,new S(-h.x,-h.y,d,f),t,q,0)})});var zf=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}},Ra=zf.prototype;Ra.type="graph";Ra.isDirected=function(){return this._directed};Ra.addNode=function(a,b){a=a||""+b;var c=this._nodesMap;if(c["_EC_"+a])D&&console.error("Graph nodes have duplicate name or id");else{var d=new kb(a,b);d.hostGraph=this;this.nodes.push(d);return c["_EC_"+a]=d}};Ra.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};Ra.getNodeById=function(a){return this._nodesMap["_EC_"+a]};Ra.addEdge=function(a,b,c){var d=this._nodesMap,e=this._edgesMap;"number"===typeof a&&(a=this.nodes[a]);"number"===typeof b&&(b=this.nodes[b]);a instanceof kb||(a=d["_EC_"+a]);b instanceof kb||(b=d["_EC_"+b]);if(a&&b&&(d=a.id+"-"+b.id,!e[d]))return c=new zg(a,b,c),c.hostGraph=this,this._directed&&(a.outEdges.push(c),b.inEdges.push(c)),a.edges.push(c),a!==b&&b.edges.push(c),this.edges.push(c),e[d]=c};Ra.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};Ra.getEdge=function(a,b){a instanceof kb&&(a=a.id);b instanceof kb&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]};Ra.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;e<d;e++)0<=c[e].dataIndex&&a.call(b,c[e],e)};Ra.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;e<d;e++)0<=c[e].dataIndex&&0<=c[e].node1.dataIndex&&0<=c[e].node2.dataIndex&&a.call(b,c[e],e)};Ra.breadthFirstTraverse=function(a,b,c,d){b instanceof kb||(b=this._nodesMap["_EC_"+b]);if(b){c="out"===c?"outEdges":"in"===c?"inEdges":"edges";for(var e=0;e<this.nodes.length;e++)this.nodes[e].__visited=!1;if(!a.call(d,b,null))for(b=[b];b.length;)for(var f=b.shift(),g=f[c],e=0;e<g.length;e++){var h=g[e],h=h.node1===f?h.node2:h.node1;if(!h.__visited){if(a.call(d,h,f))return;b.push(h);h.__visited=!0}}}};Ra.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;e<f;e++)c[e].dataIndex=-1;e=0;for(f=a.count();e<f;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(a){a=d[b.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});e=0;for(f=d.length;e<f;e++)d[e].dataIndex=-1;e=0;for(f=b.count();e<f;e++)d[b.getRawIndex(e)].dataIndex=e};Ra.clone=function(){for(var a=new zf(this._directed),b=this.nodes,c=this.edges,d=0;d<b.length;d++)a.addNode(b[d].id,b[d].dataIndex);for(d=0;d<c.length;d++)b=c[d],a.addEdge(b.node1.id,b.node2.id,b.dataIndex);return a};kb.prototype={constructor:kb,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};zg.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};var Ks=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){0<=this.dataIndex&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){0<=this.dataIndex&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};M(kb,Ks("hostGraph","data"));M(zg,Ks("hostGraph","edgeData"));zf.Node=kb;zf.Edge=zg;var Ls=function(a,b,c,d,e){d=new zf(d);for(var f=0;f<a.length;f++)d.addNode(na(a[f].id,a[f].name,f),f);for(var g=[],h=[],k=0,f=0;f<b.length;f++){var l=b[f],m=l.source,p=l.target;d.addEdge(m,p,k)&&(h.push(l),g.push(na(l.id,m+" \x3e "+p)),k++)}b=c.get("coordinateSystem");"cartesian2d"===b||"polar"===b?b=yc(a,c,c.ecModel):(b=ab.get(b),b=Ja((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),a),b=new ia(b,c),b.initData(a));a=new ia(["value"],c);a.initData(h,g);e&&e(b,a);hp({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:a},datasAttr:{node:"data",edge:"edgeData"}});d.update();return d},Af=Te({type:"series.graph",init:function(a){Af.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){Af.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){Af.superApply(this,"mergeDefaultAndTheme",arguments);bd(a.edgeLabel,["show"])},getInitialData:function(a,b){function c(a,c){function d(a){return(a=this.parsePath(a))&&"label"===a[0]?g:this.parentModel}a.wrapMethod("getItemModel",function(a){var b=f._categoriesModels,c=a.getShallow("category");if(b=b[c])b.parentModel=a.parentModel,a.parentModel=b;return a});var e=f.getModel("edgeLabel"),g=new V({label:e.option},e.parentModel,b);c.wrapMethod("getItemModel",function(a){a.customizeGetParent(d);return a})}var d=a.edges||a.links||[],e=a.data||a.nodes||[],f=this;if(e&&d)return Ls(e,d,this,!0,c).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,c){if("edge"===c){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex),d=d.getName(f.node2.dataIndex),f=[];null!=g&&f.push(g);null!=d&&f.push(d);f=la(f.join(" \x3e "));e.value&&(f+=" : "+la(e.value));return f}return Af.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=z(this.option.categories||[],function(a){return null!=a.value?a:I({value:0},a)}),b=new ia(["value"],this);b.initData(a);this._categoriesData=b;this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return Af.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}}),Ms=Qa.prototype,El=wj.prototype,Wv=Qb({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(Jj(b)?Ms:El).buildPath(a,b)},pointAt:function(a){return Jj(this.shape)?Ms.pointAt.call(this,a):El.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape;a=Jj(b)?[b.x2-b.x1,b.y2-b.y1]:El.tangentAt.call(this,a);return Dd(a,a)}}),Fl=["fromSymbol","toSymbol"],Mc=ef.prototype;Mc.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,e=this.parent;e;)e.scale&&(d/=e.scale[0]),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent,e=f.pointAt(0),h=f.pointAt(g),k=Vb([],h,e);Dd(k,k);if(a){a.attr("position",e);var l=f.tangentAt(0);a.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0]));a.attr("scale",[d*g,d*g])}b&&(b.attr("position",h),l=f.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0])),b.attr("scale",[d*g,d*g]));c.ignore||(c.attr("position",h),a=5*d,"end"===c.__position?(f=[k[0]*a+h[0],k[1]*a+h[1]],a=.8<k[0]?"left":-.8>k[0]?"right":"center",k=.8<k[1]?"top":-.8>k[1]?"bottom":"middle"):"middle"===c.__position?(b=g/2,l=f.tangentAt(b),k=[l[1],-l[0]],f=f.pointAt(b),0<k[1]&&(k[0]=-k[0],k[1]=-k[1]),f=[f[0]+k[0]*a,f[1]+k[1]*a],a="center",k="bottom",l=-Math.atan2(l[1],l[0]),h[0]<e[0]&&(l=Math.PI+l),c.attr("rotation",l)):(f=[-k[0]*a+e[0],-k[1]*a+e[1]],a=.8<k[0]?"right":-.8>k[0]?"left":"center",k=.8<k[1]?"bottom":-.8>k[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||k,textAlign:c.__textAlign||a},position:f,scale:[d,d]}))}}};Mc._createLine=function(a,b,c){var d=a.hostModel,e=a.getItemLayout(b),e=Vv(e);e.shape.percent=0;hb(e,{shape:{percent:1}},d,b);this.add(e);d=new P({name:"label"});this.add(d);r(Fl,function(c){var d=Ep(c,a,b);this.add(d);this["_"+c+"Type"]=a.getItemVisual(b,c)},this);this._updateCommonStl(a,b,c)};Mc.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};Kj(g.shape,f);Z(e,g,d,b);r(Fl,function(c){var d=a.getItemVisual(b,c),e="_"+c+"Type";this[e]!==d&&(this.remove(this.childOfName(c)),c=Ep(c,a,b),this.add(c));this[e]=d},this);this._updateCommonStl(a,b,c)};Mc._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,g=c&&c.hoverLineStyle,h=c&&c.labelModel,k=c&&c.hoverLabelModel;if(!c||a.hasItemOption)k=a.getItemModel(b),f=k.getModel("lineStyle.normal").getLineStyle(),g=k.getModel("lineStyle.emphasis").getLineStyle(),h=k.getModel("label.normal"),k=k.getModel("label.emphasis");var l=a.getItemVisual(b,"color"),m=Tc(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(H({strokeNoScale:!0,fill:"none",stroke:l,opacity:m},f));e.hoverStyle=g;r(Fl,function(a){if(a=this.childOfName(a))a.setColor(l),a.setStyle({opacity:m})},this);var e=h.getShallow("show"),f=k.getShallow("show"),g=this.childOfName("label"),p,n,q;if(e||f)p=d.getRawValue(b),n=null==p?n=a.getName(b):isFinite(p)?qa(p):p,p=l||"#000",q=pa(d.getFormattedLabel(b,"normal",a.dataType),n),n=pa(d.getFormattedLabel(b,"emphasis",a.dataType),q);e?(a=ua(g.style,h,{text:q},{autoColor:p}),g.__textAlign=a.textAlign,g.__verticalAlign=a.textVerticalAlign,g.__position=h.get("position")||"middle"):g.setStyle("text",null);g.hoverStyle=f?{text:n,textFill:k.getTextColor(!0),fontStyle:k.getShallow("fontStyle"),fontWeight:k.getShallow("fontWeight"),fontSize:k.getShallow("fontSize"),fontFamily:k.getShallow("fontFamily")}:{text:null};g.ignore=!e&&!f;T(this)};Mc.highlight=function(){this.trigger("emphasis")};Mc.downplay=function(){this.trigger("normal")};Mc.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};Mc.setLinePoints=function(a){var b=this.childOfName("line");Kj(b.shape,a);b.dirty()};ja(ef,F);var Gl=Ag.prototype;Gl.updateData=function(a){var b=this._lineData,c=this.group,d=this._ctor,e=a.hostModel,f={lineStyle:e.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:e.getModel("lineStyle.emphasis").getLineStyle(),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis")};a.diff(b).add(function(b){if(Gp(a.getItemLayout(b))){var e=new d(a,b,f);a.setItemGraphicEl(b,e);c.add(e)}}).update(function(e,h){var g=b.getItemGraphicEl(h);Gp(a.getItemLayout(e))?(g?g.updateData(a,e,f):g=new d(a,e,f),a.setItemGraphicEl(e,g),c.add(g)):c.remove(g)}).remove(function(a){c.remove(b.getItemGraphicEl(a))}).execute();this._lineData=a};Gl.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)};Gl.remove=function(){this.group.removeAll()};var Lj=[],Nj=[],Oj=[],Yd=yb,Mj=qc,Ip=Math.abs,Hl=function(a,b){function c(a){a=a.getVisual("symbolSize");a instanceof Array&&(a=(a[0]+a[1])/2);return a}var d=[],e=[[],[],[]],f=[[],[]],g=[];b/=2;a.eachEdge(function(a,k){var h=a.getLayout(),m=a.getVisual("fromSymbol"),p=a.getVisual("toSymbol");h.__original||(h.__original=[tb(h[0]),tb(h[1])],h[2]&&h.__original.push(tb(h[2])));var n=h.__original;null!=h[2]?(eb(e[0],n[0]),eb(e[1],n[2]),eb(e[2],n[1]),m&&"none"!=m&&(m=c(a.node1),m=Hp(e,n[0],m*b),Id(e[0][0],e[1][0],e[2][0],m,d),e[0][0]=d[3],e[1][0]=d[4],Id(e[0][1],e[1][1],e[2][1],m,d),e[0][1]=d[3],e[1][1]=d[4]),p&&"none"!=p&&(m=c(a.node2),m=Hp(e,n[1],m*b),Id(e[0][0],e[1][0],e[2][0],m,d),e[1][0]=d[1],e[2][0]=d[2],Id(e[0][1],e[1][1],e[2][1],m,d),e[1][1]=d[1],e[2][1]=d[2]),eb(h[0],e[0]),eb(h[1],e[2]),eb(h[2],e[1])):(eb(f[0],n[0]),eb(f[1],n[1]),Vb(g,f[1],f[0]),Dd(g,g),m&&"none"!=m&&(m=c(a.node1),we(f[0],f[0],g,m*b)),p&&"none"!=p&&(m=c(a.node2),we(f[1],f[1],g,-m*b)),eb(h[0],f[0]),eb(h[1],f[1]))})},wd=["itemStyle","normal","opacity"],Bh=["lineStyle","normal","opacity"];La({type:"graph",init:function(a,b){var c=new Sd,d=new Ag,e=this.group;this._controller=new Ye(b.getZr());this._controllerHost={target:e};e.add(c.group);e.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._firstRender=!0},render:function(a,b,c){var d=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var e=this._symbolDraw,f=this._lineDraw,g=this.group;"view"===d.type&&(d={position:d.position,scale:d.scale},this._firstRender?g.attr(d):Z(g,d,a));Hl(a.getGraph(),this._getNodeGlobalScale(a));var h=a.getData();e.updateData(h);e=a.getEdgeData();f.updateData(e);this._updateNodeAndLinkScale();this._updateController(a,b,c);clearTimeout(this._layoutTimeout);var k=a.forceLayout,l=a.get("force.layoutAnimation");k&&this._startForceLayoutIteration(k,l);h.eachItemGraphicEl(function(b,d){var e=h.getItemModel(d);b.off("drag").off("dragend");var f=h.getItemModel(d).get("draggable");if(f)b.on("drag",function(){k&&(k.warmUp(),!this._layouting&&this._startForceLayoutIteration(k,l),k.setFixed(d),h.setItemLayout(d,b.position))},this).on("dragend",function(){k&&k.setUnfixed(d)},this);b.setDraggable(f&&k);b.off("mouseover",b.__focusNodeAdjacency);b.off("mouseout",b.__unfocusNodeAdjacency);e.get("focusNodeAdjacency")&&(b.on("mouseover",b.__focusNodeAdjacency=function(){c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){c.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this);h.graph.eachEdge(function(b){var d=b.getGraphicEl();d.off("mouseover",d.__focusNodeAdjacency);d.off("mouseout",d.__unfocusNodeAdjacency);b.getModel().get("focusNodeAdjacency")&&(d.on("mouseover",d.__focusNodeAdjacency=function(){c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,edgeDataIndex:b.dataIndex})}),d.on("mouseout",d.__unfocusNodeAdjacency=function(){c.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))});var m="circular"===a.get("layout")&&a.get("circular.rotateLabel"),p=h.getLayout("cx"),n=h.getLayout("cy");h.eachItemGraphicEl(function(a,b){var c=a.getSymbolPath();if(m){var d=h.getItemLayout(b),e=Math.atan2(d[1]-n,d[0]-p);0>e&&(e=2*Math.PI+e);(d=d[0]<p)&&(e-=Math.PI);d=d?"left":"right";c.setStyle({textRotation:-e,textPosition:d,textOrigin:"center"});c.hoverStyle&&(c.hoverStyle.textPosition=d)}else c.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(a,b,c,d){a=this._model.getData().graph;b=d.edgeDataIndex;d=a.getNodeByIndex(d.dataIndex);b=a.getEdgeByIndex(b);if(d||b)a.eachNode(function(a){Bg(a,wd,.1)}),a.eachEdge(function(a){Bg(a,Bh,.1)}),d&&(kd(d,wd),r(d.edges,function(a){0>a.dataIndex||(kd(a,Bh),kd(a.node1,wd),kd(a.node2,wd))})),b&&(kd(b,Bh),kd(b.node1,wd),kd(b.node2,wd))},unfocusNodeAdjacency:function(a,b,c,d){a=this._model.getData().graph;a.eachNode(function(a){Bg(a,wd)});a.eachEdge(function(a){Bg(a,Bh)})},_startForceLayoutIteration:function(a,b){var c=this;(function e(){a.step(function(a){c.updateLayout(c._model);(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(e,16):e())})})()},_updateController:function(a,b,c){b=this._controller;var d=this._controllerHost,e=this.group;b.setPointerChecker(function(b,d,h){var f=e.getBoundingRect();f.applyTransform(e.transform);return f.contain(d,h)&&!sj(b,c,a)});"view"!==a.coordinateSystem.type?b.disable():(b.enable(a.get("roam")),d.zoomLimit=a.get("scaleLimit"),d.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b,e){cp(d,b,e);c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b,dy:e})}).on("zoom",function(b,e,h){dp(d,b,e,h);c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b,originX:e,originY:h});this._updateNodeAndLinkScale();Hl(a.getGraph(),this._getNodeGlobalScale(a));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),a=this._getNodeGlobalScale(a),c=[a,a];b.eachItemGraphicEl(function(a,b){a.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if("view"!==a.type)return 1;var b=this._nodeScaleRatio,c=a.scale,c=c&&c[0]||1;return((a.getZoom()-1)*b+1)/c},updateLayout:function(a){Hl(a.getGraph(),this._getNodeGlobalScale(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});W({type:"graphRoam",event:"graphRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var c=gp(b.coordinateSystem,a);b.setCenter&&b.setCenter(c.center);b.setZoom&&b.setZoom(c.zoom)})});W({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});W({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var Zd=we;Ua(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),e=a.getGraph().data,f=c.mapArray(c.getName);e.filterSelf(function(a){a=e.getItemModel(a).getShallow("category");if(null!=a){"number"===typeof a&&(a=f[a]);for(var c=0;c<b.length;c++)if(!b[c].isSelected(a))return!1}return!0})},this)});ra(C(vd,"graph","circle",null));ra(function(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),e=a.getData(),f={};c.each(function(d){var e=c.getName(d);f["ec-"+e]=d;e=c.getItemModel(d).get("itemStyle.normal.color")||a.getColorFromPalette(e,b);c.setItemVisual(d,"color",e)});c.count()&&e.each(function(a){var b=e.getItemModel(a).getShallow("category");null!=b&&("string"===typeof b&&(b=f["ec-"+b]),e.getItemVisual(a,"color",!0)||e.setItemVisual(a,"color",c.getItemVisual(b,"color")))})})});ra(function(a){a.eachSeriesByType("graph",function(a){var b=a.getGraph(),d=a.getEdgeData(),e=Cg(a.get("edgeSymbol")),f=Cg(a.get("edgeSymbolSize")),g=["lineStyle","normal","color"],h=["lineStyle","normal","opacity"];d.setVisual("fromSymbol",e&&e[0]);d.setVisual("toSymbol",e&&e[1]);d.setVisual("fromSymbolSize",f&&f[0]);d.setVisual("toSymbolSize",f&&f[1]);d.setVisual("color",a.get(g));d.setVisual("opacity",a.get(h));d.each(function(a){var c=d.getItemModel(a);a=b.getEdgeByIndex(a);var e=Cg(c.getShallow("symbol",!0)),f=Cg(c.getShallow("symbolSize",!0)),k=c.get(g),c=c.get(h);switch(k){case "source":k=a.node1.getVisual("color");break;case "target":k=a.node2.getVisual("color")}e[0]&&a.setVisual("fromSymbol",e[0]);e[1]&&a.setVisual("toSymbol",e[1]);f[0]&&a.setVisual("fromSymbolSize",f[0]);f[1]&&a.setVisual("toSymbolSize",f[1]);a.setVisual("color",k);a.setVisual("opacity",c)})})});oa(function(a,b){a.eachSeriesByType("graph",function(a){var b=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var f=a.getData(),g=c.dimensions;f.each(g,function(){for(var a,b=arguments,d=[],e=0;e<g.length;e++)isNaN(b[e])||(a=!0),d.push(b[e]);b=b[b.length-1];a?f.setItemLayout(b,c.dataToPoint(d)):f.setItemLayout(b,[NaN,NaN])});Lp(f.graph)}else b&&"none"!==b||Kp(a)})});oa(function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&Mp(a)})});oa(function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var d=a.preservedPoints||{},e=a.getGraph(),f=e.data,g=e.edgeData,h=a.getModel("force"),b=h.get("initLayout");a.preservedPoints?f.each(function(a){var b=f.getId(a);f.setItemLayout(a,d[b]||[NaN,NaN])}):b&&"none"!==b?"circular"===b&&Mp(a):Kp(a);var k=f.getDataExtent("value"),l=g.getDataExtent("value"),m=h.get("repulsion"),p=h.get("edgeLength");x(m)||(m=[m,m]);x(p)||(p=[p,p]);var p=[p[1],p[0]],n=f.mapArray("value",function(a,b){var c=f.getItemLayout(b),d=aa(a,k,m);isNaN(d)&&(d=(m[0]+m[1])/2);return{w:d,rep:d,fixed:f.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),g=g.mapArray("value",function(a,b){var c=e.getEdgeByIndex(b),d=aa(a,l,p);isNaN(d)&&(d=(p[0]+p[1])/2);return{n1:n[c.node1.dataIndex],n2:n[c.node2.dataIndex],d:d,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,b=b.getBoundingRect(),h=Xv(n,g,{rect:b,gravity:h.get("gravity")}),q=h.step;h.step=function(a){for(var b=0,c=n.length;b<c;b++)n[b].fixed&&eb(n[b].p,e.getNodeByIndex(b).getLayout());q(function(b,c,g){for(var h=0,k=b.length;h<k;h++)b[h].fixed||e.getNodeByIndex(h).setLayout(b[h].p),d[f.getId(h)]=b[h].p;h=0;for(k=c.length;h<k;h++){b=c[h];var l=e.getEdgeByIndex(h),m=b.n1.p,n=b.n2.p,p=l.getLayout(),p=p?p.slice():[];p[0]=p[0]||[];p[1]=p[1]||[];eb(p[0],m);eb(p[1],n);+b.curveness&&(p[2]=[(m[0]+n[0])/2-(m[1]-n[1])*b.curveness,(m[1]+n[1])/2-(n[0]-m[0])*b.curveness]);l.setLayout(p)}a&&a(g)})};a.forceLayout=h;a.preservedPoints=d;h.step()}else a.forceLayout=null})});ej("graphView",{create:function(a,b){var c=[];a.eachSeriesByType("graph",function(a){var d=a.get("coordinateSystem");if(!d||"view"===d){var f=a.getData(),g=f.mapArray(function(a){a=f.getItemModel(a);return[+a.get("x"),+a.get("y")]}),d=[],h=[];fn(g,d,h);0===h[0]-d[0]&&(h[0]+=1,--d[0]);0===h[1]-d[1]&&(h[1]+=1,--d[1]);var k=(h[0]-d[0])/(h[1]-d[1]),g=Yv(a,b,k);isNaN(k)&&(d=[g.x,g.y],h=[g.x+g.width,g.y+g.height]);var k=h[0]-d[0],h=h[1]-d[1],l=g.width,m=g.height,p=a.coordinateSystem=new jd;p.zoomLimit=a.get("scaleLimit");p.setBoundingRect(d[0],d[1],k,h);p.setViewRect(g.x,g.y,l,m);p.setCenter(a.get("center"));p.setZoom(a.get("zoom"));c.push(p)}});return c}});wa.extend({type:"series.gauge",getInitialData:function(a,b){var c=new ia(["value"],this),d=a.data||[];x(d)||(d=[d]);c.initData(d);return c},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var Hz=fa.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),k=b.y-d(g)*f*(f>=e/3?1:2),g=b.angle-Math.PI/2;a.moveTo(h,k);a.lineTo(b.x+c(g)*f,b.y+d(g)*f);a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e);a.lineTo(b.x-c(g)*f,b.y-d(g)*f);a.lineTo(h,k)}}),Iz=2*Math.PI;Ta.extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e=a.get("center"),f=c.getWidth(),g=c.getHeight(),g=Math.min(f,g),f=B(e[0],c.getWidth()),e=B(e[1],c.getHeight()),g=B(a.get("radius"),g/2);this._renderMain(a,b,c,d,{cx:f,cy:e,r:g})},dispose:function(){},_renderMain:function(a,b,c,d,e){for(var f=this.group,g=a.getModel("axisLine").getModel("lineStyle"),h=a.get("clockwise"),k=-a.get("startAngle")/180*Math.PI,l=-a.get("endAngle")/180*Math.PI,m=(l-k)%Iz,p=k,n=g.get("width"),q=0;q<d.length;q++)l=k+m*Math.min(Math.max(d[q][0],0),1),p=new Dc({shape:{startAngle:p,endAngle:l,cx:e.cx,cy:e.cy,clockwise:h,r0:e.r-n,r:e.r},silent:!0}),p.setStyle({fill:d[q][1]}),p.setStyle(g.getLineStyle(["color","borderWidth","borderColor"])),f.add(p),p=l;f=function(a){if(0>=a)return d[0][1];for(var b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]};h||(g=k,k=l,l=g);this._renderTicks(a,b,c,f,e,k,l,h);this._renderPointer(a,b,c,f,e,k,l,h);this._renderTitle(a,b,c,f,e);this._renderDetail(a,b,c,f,e)},_renderTicks:function(a,b,c,d,e,f,g,h){b=this.group;c=e.cx;h=e.cy;e=e.r;var k=+a.get("min"),l=+a.get("max"),m=a.getModel("splitLine"),p=a.getModel("axisTick"),n=a.getModel("axisLabel");a=a.get("splitNumber");var q=p.get("splitNumber"),t=B(m.get("length"),e),r=B(p.get("length"),e),u=f;f=(g-f)/a;g=f/q;for(var w=m.getModel("lineStyle").getLineStyle(),z=p.getModel("lineStyle").getLineStyle(),y=0;y<=a;y++){var E=Math.cos(u),J=Math.sin(u);if(m.get("show")){var x=new Qa({shape:{x1:E*e+c,y1:J*e+h,x2:E*(e-t)+c,y2:J*(e-t)+h},style:w,silent:!0});"auto"===w.stroke&&x.setStyle({stroke:d(y/a)});b.add(x)}if(n.get("show")){var x=Np(qa(y/a*(l-k)+k),n.get("formatter")),A=n.get("distance"),C=d(y/a);b.add(new P({style:ua({},n,{text:x,x:E*(e-t-A)+c,y:J*(e-t-A)+h,textVerticalAlign:-.4>J?"top":.4<J?"bottom":"middle",textAlign:-.4>E?"left":.4<E?"right":"center"},{autoColor:C}),silent:!0}))}if(p.get("show")&&y!==a){for(x=0;x<=q;x++)E=Math.cos(u),J=Math.sin(u),E=new Qa({shape:{x1:E*e+c,y1:J*e+h,x2:E*(e-r)+c,y2:J*(e-r)+h},silent:!0,style:z}),"auto"===z.stroke&&E.setStyle({stroke:d((y+x/q)/a)}),b.add(E),u+=g;u-=g}else u+=f}},_renderPointer:function(a,b,c,d,e,f,g,h){var k=this.group,l=this._data;if(a.get("pointer.show")){var m=[+a.get("min"),+a.get("max")],p=[f,g],n=a.getData();n.diff(l).add(function(b){var c=new Hz({shape:{angle:f}});hb(c,{shape:{angle:aa(n.get("value",b),m,p,!0)}},a);k.add(c);n.setItemGraphicEl(b,c)}).update(function(b,c){var d=l.getItemGraphicEl(c);Z(d,{shape:{angle:aa(n.get("value",b),m,p,!0)}},a);k.add(d);n.setItemGraphicEl(b,d)}).remove(function(a){a=l.getItemGraphicEl(a);k.remove(a)}).execute();n.eachItemGraphicEl(function(a,b){var c=n.getItemModel(b),f=c.getModel("pointer");a.setShape({x:e.cx,y:e.cy,width:B(f.get("width"),e.r),r:B(f.get("length"),e.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",d(aa(n.get("value",b),m,[0,1],!0)));T(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=n}else l&&l.eachItemGraphicEl(function(a){k.remove(a)})},_renderTitle:function(a,b,c,d,e){b=a.getModel("title");if(b.get("show")){var f=b.get("offsetCenter");c=e.cx+B(f[0],e.r);e=e.cy+B(f[1],e.r);var f=+a.get("min"),g=+a.get("max"),h=a.getData().get("value",0);d=d(aa(h,[f,g],[0,1],!0));this.group.add(new P({silent:!0,style:ua({},b,{x:c,y:e,text:a.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(a,b,c,d,e){b=a.getModel("detail");var f=+a.get("min"),g=+a.get("max");if(b.get("show")){var h=b.get("offsetCenter");c=e.cx+B(h[0],e.r);var h=e.cy+B(h[1],e.r),k=B(b.get("width"),e.r);e=B(b.get("height"),e.r);a=a.getData().get("value",0);d=d(aa(a,[f,g],[0,1],!0));this.group.add(new P({silent:!0,style:ua({},b,{x:c,y:h,text:Np(a,b.get("formatter")),textWidth:isNaN(k)?null:k,textHeight:isNaN(e)?null:e,textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}}});var Ns=Te({type:"series.funnel",init:function(a){Ns.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(a)},getInitialData:function(a,b){var c=Ja(["value"],a.data),c=new ia(c,this);c.initData(a.data);return c},_defaultLabelLine:function(a){bd(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},getDataParams:function(a){var b=this.getData(),c=Ns.superCall(this,"getDataParams",a),d=b.getSum("value");c.percent=d?+(b.get("value",a)/d*100).toFixed(2):0;c.$vars.push("percent");return c},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}}),Os=Pj.prototype,Jz=["itemStyle","normal","opacity"];Os.updateData=function(a,b,c){var d=this.childAt(0),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b),h=a.getItemModel(b).get(Jz),h=null==h?1:h;d.useStyle({});c?(d.setShape({points:g.points}),d.setStyle({opacity:0}),hb(d,{style:{opacity:h}},e,b)):Z(d,{style:{opacity:h},shape:{points:g.points}},e,b);c=f.getModel("itemStyle");e=a.getItemVisual(b,"color");d.setStyle(H({lineJoin:"round",fill:e},c.getModel("normal").getItemStyle(["opacity"])));d.hoverStyle=c.getModel("emphasis").getItemStyle();this._updateLabel(a,b);T(this)};Os._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label;a.getItemVisual(b,"color");Z(c,{shape:{points:g.linePoints||g.linePoints}},e,b);Z(d,{style:{x:g.x,y:g.y}},e,b);d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var e=f.getModel("label.normal"),h=f.getModel("label.emphasis"),k=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),f=a.getItemVisual(b,"color");Db(d.style,d.hoverStyle={},e,h,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:f,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!h.get("show");c.ignore=c.normalIgnore=!k.get("show");c.hoverIgnore=!l.get("show");c.setStyle({stroke:f});c.setStyle(k.getModel("lineStyle").getLineStyle());c.hoverStyle=l.getModel("lineStyle").getLineStyle()};ja(Pj,F);Ta.extend({type:"funnel",render:function(a,b,c){var d=a.getData(),e=this._data,f=this.group;d.diff(e).add(function(a){var b=new Pj(d,a);d.setItemGraphicEl(a,b);f.add(b)}).update(function(a,b){var c=e.getItemGraphicEl(b);c.updateData(d,a);f.add(c);d.setItemGraphicEl(a,c)}).remove(function(a){a=e.getItemGraphicEl(a);f.remove(a)}).execute();this._data=d},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});ra(C(wl,"funnel"));oa(function(a,b,c){a.eachSeriesByType("funnel",function(a){var c=a.getData(),d=a.get("sort"),g=Zv(a,b),h=$v(c,d),k=[B(a.get("minSize"),g.width),B(a.get("maxSize"),g.width)],l=c.getDataExtent("value"),m=a.get("min"),p=a.get("max");null==m&&(m=Math.min(l[0],0));null==p&&(p=l[1]);var n=a.get("funnelAlign");a=a.get("gap");var l=(g.height-a*(c.count()-1))/c.count(),q=g.y,t=function(a,b){var d=c.get("value",a)||0,d=aa(d,[m,p],k,!0),e;switch(n){case "left":e=g.x;break;case "center":e=g.x+(g.width-d)/2;break;case "right":e=g.x+g.width-d}return[[e,b],[e+d,b]]};"ascending"===d&&(l=-l,a=-a,q+=g.height,h=h.reverse());for(d=0;d<h.length;d++){var r=h[d],u=h[d+1],w=t(r,q),u=t(u,q+l),q=q+(l+a);c.setItemLayout(r,{points:w.concat(u.slice().reverse())})}aw(c)})});Ua(C(Ah,"funnel"));var Ch=function(a,b,c,d,e){Ba.call(this,a,b,c);this.type=d||"value";this.axisIndex=e};Ch.prototype={constructor:Ch,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}};ja(Ch,Ba);var oe=function(a,b,c,d,e,f){b[0]=Dg(b[0],c);b[1]=Dg(b[1],c);a=a||0;var g=c[1]-c[0];null!=e&&(e=Dg(e,[0,g]));null!=f&&(f=Math.max(f,null!=e?e:0));"all"===d&&(e=f=Math.abs(b[1]-b[0]),d=0);g=Qj(b,d);b[d]+=a;a=e||0;c=c.slice();0>g.sign?c[0]+=a:c[1]-=a;b[d]=Dg(b[d],c);c=Qj(b,d);null!=e&&(c.sign!==g.sign||c.span<e)&&(b[1-d]=b[d]+g.sign*e);c=Qj(b,d);null!=f&&c.span>f&&(b[1-d]=b[d]+c.sign*f);return b},Op=Math.min,Pp=Math.max,Ps=Math.floor,Kz=Math.ceil,Lz=Math.PI;Rj.prototype={type:"parallel",constructor:Rj,_init:function(a,b,c){var d=a.parallelAxisIndex;r(a.dimensions,function(a,c){var e=d[c],f=b.getComponent("parallelAxis",e),e=this._axesMap.set(a,new Ch(a,Qd(f),[0,0],f.get("type"),e));e.onBand="category"===e.type&&f.get("boundaryGap");e.inverse=f.get("inverse");f.axis=e;e.model=f;e.coordinateSystem=f.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,f=a[1-e];a=a[e];return f>=c&&f<=c+b.axisLength&&a>=d&&a<=d+b.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();r(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,a);zc(b.scale,b.model)},this)}},this)},resize:function(a,b){this._rect=Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a=this._model,b=this._rect,c=["x","y"],d=["width","height"],e=a.get("layout"),f="horizontal"===e?0:1,g=b[d[f]],h=[0,g],k=this.dimensions.length,l=Eg(a.get("axisExpandWidth"),h),m=Eg(a.get("axisExpandCount")||0,[0,k]),p=a.get("axisExpandable")&&3<k&&k>m&&1<m&&0<l&&0<g,n=a.get("axisExpandWindow");n?h=Eg(n[1]-n[0],h):(h=Eg(l*(m-1),h),n=a.get("axisExpandCenter")||Ps(k/2),n=[l*n-h/2]);n[1]=n[0]+h;m=(g-h)/(k-m);3>m&&(m=0);a=[Ps(qa(n[0]/l,1))+1,Kz(qa(n[1]/l,1))-1];return{layout:e,pixelDimIndex:f,layoutBase:b[c[f]],layoutLength:g,axisBase:b[c[1-f]],axisLength:b[d[1-f]],axisExpandable:p,axisExpandWidth:l,axisCollapseWidth:m,axisExpandWindow:n,axisCount:k,winInnerIndices:a,axisExpandWindow0Pos:m/l*n[0]}},_layoutAxes:function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=a.inverse?1:0;a.setExtent(b[c],b[1-c])});r(c,function(c,g){var f=(d.axisExpandable?ew:dw)(g,d),k={horizontal:{x:f.position,y:d.axisLength},vertical:{x:0,y:f.position}},k=[k[e].x+a.x,k[e].y+a.y],l={horizontal:Lz/2,vertical:0}[e],m=Yb();Vc(m,m,l);Nb(m,m,k);this._axesLayout[c]={position:k,rotation:l,transform:m,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:b.get(c).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,f=this.hasAxisBrushed(),g=0,h=a.count();g<h;g++){var k=a.getValues(d,g),l;if(f){l="active";for(var m=0,p=d.length;m<p;m++)if("inactive"===e.get(d[m]).model.getActiveState(k[m],m)){l="inactive";break}}else l="normal";b.call(c,l,g)}},hasAxisBrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return Eb([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return G(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var b=this._makeLayoutInfo(),c=b.pixelDimIndex,d=b.axisExpandWindow.slice(),e=d[1]-d[0],f=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:d};a=a[c]-b.layoutBase-b.axisExpandWindow0Pos;var g,c="slide",h=b.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea");g=null!=k[0];h?(g&&h&&a<e*k[0]?(c="jump",g=a-e*k[2]):g&&h&&a>e*(1-k[0])?(c="jump",g=a-e*(1-k[2])):0<=(g=a-e*k[1])&&0>=(g=a-e*(1-k[1]))&&(g=0),(g*=b.axisExpandWidth/h)?oe(g,d,f,"all"):c="none"):(e=d[1]-d[0],d=[Pp(0,f[1]*a/e-e/2)],d[1]=Op(f[1],d[0]+e),d[0]=d[1]-e);return{axisExpandWindow:d,behavior:c}}};ab.register("parallel",{create:function(a,b){var c=[];a.eachComponent("parallel",function(d,e){var f=new Rj(d,a,b);f.name="parallel_"+e;f.resize(d,b);d.coordinateSystem=f;f.model=d;c.push(f)});a.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"parallel",index:b.get("parallelIndex"),id:b.get("parallelId")})[0];b.coordinateSystem=c.coordinateSystem}});return c}});var Qs=U.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return je([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=G(a))for(var b=a.length-1;0<=b;b--)mb(a[b])},getActiveState:function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a)return"inactive";for(var c=0,d=b.length;c<d;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}});K(Qs.prototype,ud);me("parallel",Qs,function(a,b){return b.type||(b.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});U.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){U.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&K(b,a,!0);this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},setAxisExpand:function(a){r(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=Fa(this.dependentModels.parallelAxis,function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);r(c,function(c){a.push("dim"+c.get("dim"));b.push(c.componentIndex)})}});W({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})});W("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})});var Gc=C,Ab=r,jw=z,ff=Math.min,ae=Math.max,ow=Math.pow,mw={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},kw={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Qp={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},fw=0;$d.prototype={constructor:$d,enableBrush:function(a){D&&ca(this._mounted);this._brushType&&iw(this);a.brushType&&hw(this,a);return this},setPanels:function(a){if(a&&a.length){var b=this._panels={};r(a,function(a){b[a.panelId]=G(a)})}else this._panels=null;return this},mount:function(a){a=a||{};D&&(this._mounted=!0);this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});this._transform=b.getLocalTransform();return this},eachCover:function(a,b){Ab(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:"\x00-brush-index-"+b)+"-"+a.brushType}function c(b,c){var h=a[b];null!=c&&d[c]===g?e[b]=d[c]:(h=e[b]=null!=c?(d[c].__brushOption=h,d[c]):Tp(f,Rp(f,h)),Sj(f,h))}D&&ca(this._mounted);a=z(a,function(a){return K(G(Qp),a,!0)});var d=this._covers,e=this._covers=[],f=this,g=this._creatingCover;(new xc(d,a,function(a,c){return b(a.__brushOption,c)},b)).add(c).update(c).remove(function(a){d[a]!==g&&f.group.remove(d[a])}).execute();return this},unmount:function(){if(!D||this._mounted)return this.enableBrush(!1),Uj(this),this._zr.remove(this.group),D&&(this._mounted=!1),this},dispose:function(){this.unmount();this.off()}};M($d,pb);var gw={mousedown:function(a){if(this._dragging)cq.call(this,a);else if(!a.target||!a.target.draggable){Zj(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;if(this._creatingPanel=Tj(this,a,b))this._dragging=!0,this._track=[b.slice()]}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:if(this._brushType){var c=this._zr,d=this._covers,e=Tj(this,a,b);if(!this._dragging)for(var f=0;f<d.length;f++){var g=d[f].__brushOption;if(e&&(!0===e||g.panelId===e.panelId)&&ld[g.brushType].contain(d[f],b[0],b[1]))break a}e&&c.setCursorStyle("crosshair")}this._dragging&&(Zj(a),(a=aq(this,a,b,!1))&&md(this,a))},mouseup:cq},ld={lineX:dq(0),lineY:dq(1),rect:{createCover:function(a,b){return Wp(Gc(Zp,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=Vp(a);return Yp(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){Xp(a,b,c,d)},updateCommon:Wj,contain:ak},polygon:{createCover:function(a,b){var c=new F;c.add(new Fb({name:"main",style:Vj(b),silent:!0}));return c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new Ma({name:"main",draggable:!0,drift:Gc(nw,a,b),ondragend:Gc(md,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:Yj(a,b,c)})},updateCommon:Wj,contain:ak}},Mz=["axisLine","axisTickLabel","axisName"],Nz=ma({type:"parallelAxis",init:function(a,b){Nz.superApply(this,"init",arguments);(this._brushController=new $d(b.getZr())).on("brush",A(this._onBrush,this))},render:function(a,b,c,d){if(!d||"axisAreaSelect"!==d.type||b.findComponents({mainType:"parallelAxis",query:d})[0]!==a){this.axisModel=a;this.api=c;this.group.removeAll();var e=this._axisGroup;this._axisGroup=new F;this.group.add(this._axisGroup);if(a.get("show")){b=b.getComponent("parallel",a.get("parallelIndex"));var f=b.coordinateSystem,g=a.getAreaSelectStyle(),h=g.width,f=f.getAxisLayout(a.axis.dim),f=I({strokeContainThreshold:h},f),k=new db(a,f);r(Mz,k.add,k);this._axisGroup.add(k.getGroup());this._refreshBrushController(f,g,a,b,h,c);Oi(e,this._axisGroup,d&&!1===d.animation?null:a)}}},updateVisual:function(a,b,c,d){this._brushController&&this._brushController.updateCovers(hq(a))},_refreshBrushController:function(a,b,c,d,e,f){var g=c.axis.getExtent(),h=g[1]-g[0],k=Math.min(30,.1*Math.abs(h));e=S.create({x:g[0],y:-e/2,width:h,height:e});e.x-=k;e.width+=2*k;this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:eq(e),isTargetByCursor:gq(e,f,d),getLinearBrushOtherExtent:fq(e,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(hq(c))},_onBrush:function(a,b){var c=this.axisModel,d=c.axis,e=z(a,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},dispose:function(){this._brushController.dispose()}});ma({type:"parallel",render:function(a,b,c){this._model=a;this._api=c;this._handlers||(this._handlers={},r(Oz,function(a,b){c.getZr().on(b,this._handlers[b]=A(a,this))},this));Pe(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){r(this._handlers,function(a,d){b.getZr().off(d,a)});this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(I({type:"parallelAxisExpand"},a))}});var Oz={mousedown:function(a){bk(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(bk(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(5<Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2))return;a=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&bk(this,"mousemove")){var b=this._model;a=b.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);var c=a.behavior;"jump"===c&&this._throttledDispatchExpand.debounceNextCall(b.get("axisExpandDebounce"));this._throttledDispatchExpand("none"===c?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===c?null:!1})}}};cb(function(a){bw(a);cw(a)});wa.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(a,b){var c=b.getComponent("parallel",this.get("parallelIndex")),d=c.parallelAxisIndex,e=a.data,f=c.dimensions,c=qw(f,e),c=z(c,function(a,c){var g=R(f,a),h=0<=g&&b.getComponent("parallelAxis",d[g]);return h&&"category"===h.get("type")?(pw(h,a,e),{name:a,type:"ordinal"}):0>g?Ja.guessOrdinal(e,c)?{name:a,type:"ordinal"}:a:a}),c=new ia(c,this);c.initData(e);this.option.progressive&&(this.option.animation=!1);return c},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,c=this.getData(),d=[];b.eachActiveState(c,function(b,f){a===b&&d.push(c.getRawIndex(f))});return d},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});Ta.extend({type:"parallel",init:function(){this._dataGroup=new F;this.group.add(this._dataGroup)},render:function(a,b,c,d){this._renderForNormal(a,d)},dispose:function(){},_renderForNormal:function(a,b){var c=this._dataGroup,d=a.getData(),e=this._data,f=a.coordinateSystem,g=f.dimensions,h=a.option.smooth?.3:null;d.diff(e).add(function(a){var b=iq(d,a,g,f),b=new Fb({shape:{points:b},silent:!0,z2:10});c.add(b);d.setItemGraphicEl(a,b)}).update(function(c,h){var k=e.getItemGraphicEl(h),l=iq(d,c,g,f);d.setItemGraphicEl(c,k);Z(k,{shape:{points:l}},b&&!1===b.animation?null:a,c)}).remove(function(a){a=e.getItemGraphicEl(a);c.remove(a)}).execute();sw(d,h);this._data||(h=rw(f,a,function(){setTimeout(function(){c.removeClipPath()})}),c.setClipPath(h));this._data=d},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});var Pz=["lineStyle","normal","opacity"];ra(function(a){a.eachSeriesByType("parallel",function(b){var c=b.getModel("itemStyle.normal"),d=b.getModel("lineStyle.normal"),e=a.get("color"),c=d.get("color")||c.get("color")||e[b.seriesIndex%e.length],d=b.get("inactiveOpacity"),e=b.get("activeOpacity"),f=b.getModel("lineStyle.normal").getLineStyle(),g=b.coordinateSystem,h=b.getData(),k={normal:f.opacity,active:e,inactive:d};g.eachActiveState(h,function(a,b){var c=h.getItemModel(b),d=k[a];"normal"===a&&(c=c.get(Pz,!0),null!=c&&(d=c));h.setItemVisual(b,"opacity",d)});h.setVisual("color",c)})});var Qz=wa.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var b=a.edges||a.links;if((a=a.data||a.nodes)&&b)return Ls(a,b,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,b,c){return"edge"===c?(a=this.getDataParams(a,c),b=a.data,b=b.source+" -- "+b.target,a.value&&(b+=" : "+a.value),la(b)):Qz.superCall(this,"formatTooltip",a,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}}),Rz=Qb({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c);a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c);a.lineTo(b.x2,b.y2+c);a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c);a.closePath()}});La({type:"sankey",_model:null,render:function(a,b,c){b=a.getGraph();var d=this.group;c=a.layoutInfo;var e=a.getData(),f=a.getData("edge");this._model=a;d.removeAll();d.attr("position",[c.x,c.y]);b.eachEdge(function(b){var c=new Rz;c.dataIndex=b.dataIndex;c.seriesIndex=a.seriesIndex;c.dataType="edge";var e=b.getModel("lineStyle.normal"),g=e.get("curveness"),m=b.node1.getLayout(),p=b.node2.getLayout(),n=b.getLayout();c.shape.extent=Math.max(1,n.dy);var q=m.x+m.dx,m=m.y+n.sy+n.dy/2,t=p.x,p=p.y+n.ty+n.dy/2;c.setShape({x1:q,y1:m,x2:t,y2:p,cpx1:q*(1-g)+t*g,cpy1:m,cpx2:q*g+t*(1-g),cpy2:p});c.setStyle(e.getItemStyle());switch(c.style.fill){case "source":c.style.fill=b.node1.getVisual("color");break;case "target":c.style.fill=b.node2.getVisual("color")}T(c,b.getModel("lineStyle.emphasis").getItemStyle());d.add(c);f.setItemGraphicEl(b.dataIndex,c)});b.eachNode(function(b){var c=b.getLayout(),f=b.getModel(),g=f.getModel("label.normal"),m=f.getModel("label.emphasis"),c=new ga({shape:{x:c.x,y:c.y,width:b.getLayout().dx,height:b.getLayout().dy},style:f.getModel("itemStyle.normal").getItemStyle()}),f=b.getModel("itemStyle.emphasis").getItemStyle();Db(c.style,f,g,m,{labelFetcher:a,labelDataIndex:b.dataIndex,defaultText:b.id,isRectText:!0});c.setStyle("fill",b.getVisual("color"));T(c,f);d.add(c);e.setItemGraphicEl(b.dataIndex,c);c.dataType="node"});!this._data&&a.get("animation")&&d.setClipPath(tw(d.getBoundingRect(),a,function(){d.removeClipPath()}));this._data=a.getData()},dispose:function(){}});oa(function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),g=uw(a,b);a.layoutInfo=g;var h=g.width,g=g.height,k=a.getGraph(),l=k.nodes,k=k.edges;Aw(l);a=0!==Fa(l,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");vw(l,k,c,d,h,g,a)})});ra(function(a,b){a.eachSeriesByType("sankey",function(a){var b=a.getGraph().nodes;b.sort(function(a,b){return a.getLayout().value-b.getLayout().value});var c=b[0].getLayout().value,f=b[b.length-1].getLayout().value;r(b,function(b){var d=(new O({type:"color",mappingMethod:"linear",dataExtent:[c,f],visual:a.get("color")})).mapValueToVisual(b.getLayout().value);b.setVisual("color",d);d=b.getModel().get("itemStyle.normal.color");null!=d&&b.setVisual("color",d)})})});var Sz=fa.extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&0===c.indexOf("ends")){var d=b[c];a.moveTo(d[0][0],d[0][1]);a.lineTo(d[1][0],d[1][1])}}}),Rs=Hg.prototype;Rs._createContent=function(a,b,c){var d=a.getItemLayout(b),e="horizontal"===d.chartLayout?1:0;a=0;this.add(new Ma({shape:{points:c?jq(d.bodyEnds,e,d):d.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;b=z(d.whiskerEnds,function(a){return c?jq(a,e,d):a});this.add(new Sz({shape:kq(b),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};Rs.updateData=function(a,b,c){var d=this._seriesModel=a.hostModel,e=a.getItemLayout(b);c=Pa[c?"initProps":"updateProps"];c(this.childAt(this.bodyIndex),{shape:{points:e.bodyEnds}},d,b);c(this.childAt(this.whiskerIndex),{shape:kq(e.whiskerEnds)},d,b);this.styleUpdater.call(null,this,a,b)};ja(Hg,F);var Ss=lq.prototype;Ss.updateData=function(a){var b=this.group,c=this._data,d=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var e=new Hg(a,c,d,!0);a.setItemGraphicEl(c,e);b.add(e)}}).update(function(e,f){var g=c.getItemGraphicEl(f);a.hasValue(e)?(g?g.updateData(a,e):g=new Hg(a,e,d),b.add(g),a.setItemGraphicEl(e,g)):b.remove(g)}).remove(function(a){(a=c.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};Ss.remove=function(){var a=this.group,b=this._data;this._data=null;b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})};var Ts={_baseAxisDim:null,getInitialData:function(a,b){var c,d=b.getComponent("xAxis",this.get("xAxisIndex")),e=b.getComponent("yAxis",this.get("yAxisIndex")),f=d.get("type"),g=e.get("type"),h;"category"===f?(a.layout="horizontal",c=d.getCategories(),h=!0):"category"===g?(a.layout="vertical",c=e.getCategories(),h=!0):a.layout=a.layout||"horizontal";e=["x","y"];f="horizontal"===a.layout?0:1;d=this._baseAxisDim=e[f];f=e[1-f];e=a.data;h&&r(e,function(a,b){a.value&&x(a.value)?a.value.unshift(b):x(a)&&a.unshift(b)});h=this.defaultValueDimensions;d=[{name:d,otherDims:{tooltip:!1},dimsDef:["base"]},{name:f,dimsDef:h.slice()}];d=Ja(d,e,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:h.length+1});h=new ia(d,this);h.initData(e,c?c.slice():null);return h},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},Us={init:function(){var a=this._whiskerBoxDraw=new lq(this.getStyleUpdater());this.group.add(a.group)},render:function(a,b,c){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}},Tz=wa.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});M(Tz,Ts,!0);var Uz=Ta.extend({type:"boxplot",getStyleUpdater:function(){return Kw},dispose:Ga});M(Uz,Us,!0);var Lw=["itemStyle","normal"],Mw=["itemStyle","emphasis"],Vs=["itemStyle","normal","borderColor"],gf=r;ra(function(a,b){var c=a.get("color");a.eachRawSeriesByType("boxplot",function(b){var d=c[b.seriesIndex%c.length],f=b.getData();f.setVisual({legendSymbol:"roundRect",color:b.get(Vs)||d});a.isSeriesFiltered(b)||f.each(function(a){var b=f.getItemModel(a);f.setItemVisual(a,{color:b.get(Vs,!0)})})})});oa(function(a){a=Nw(a);gf(a,function(a){var b=a.seriesModels;b.length&&(Ow(a),gf(b,function(b,c){Pw(b,a.boxOffsetList[c],a.boxWidthList[c])}))})});var Vz=wa.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(a,b,c){a=b.getItemLayout(a);return c.rect(a.brushRect)}});M(Vz,Ts,!0);var Wz=Ta.extend({type:"candlestick",getStyleUpdater:function(){return Qw},dispose:Ga});M(Wz,Us,!0);var Rw=["itemStyle","normal"],Sw=["itemStyle","emphasis"],Xz=["itemStyle","normal","borderColor"],Yz=["itemStyle","normal","borderColor0"],Zz=["itemStyle","normal","color"],$z=["itemStyle","normal","color0"],mq=pa;cb(function(a){a&&x(a.series)&&r(a.series,function(a){Q(a)&&"k"===a.type&&(a.type="candlestick")})});ra(function(a,b){a.eachRawSeriesByType("candlestick",function(b){var c=b.getData();c.setVisual({legendSymbol:"roundRect"});a.isSeriesFiltered(b)||c.each(function(a){var b=c.getItemModel(a),d=c.getItemLayout(a).sign;c.setItemVisual(a,{color:b.get(0<d?Zz:$z),borderColor:b.get(0<d?Xz:Yz)})})})});oa(function(a){a.eachSeriesByType("candlestick",function(a){var b=a.coordinateSystem,d=a.getData(),e=Tw(a,d),f=a.get("layout"),g="horizontal"===f?0:1,h=1-g,k=["x","y"],l=[],m;r(d.dimensions,function(a){var b=d.getDimensionInfo(a).coordDim;b===k[h]?l.push(a):b===k[g]&&(m=a)});if(!(null==m||4>l.length)){var p=0;d.each([m].concat(l),function(){function a(a){var c=[];c[g]=r;c[h]=a;return isNaN(r)||isNaN(a)?[NaN,NaN]:b.dataToPoint(c)}function c(a,b){var c=a.slice(),d=a.slice();c[g]=vb(c[g]+e/2,1,!1);d[g]=vb(d[g]-e/2,1,!0);b?C.push(c,d):C.push(d,c)}function k(a){a[g]=vb(a[g],1);return a}var m=arguments,r=m[0],w=m[l.length+1],z=m[1],y=m[2],E=m[3],J=m[4],x=Math.max(z,y),m=a(Math.min(z,y)),x=a(x),A=a(E),B=a(J),A=[[k(B),k(x)],[k(A),k(m)]],C=[];c(x,0);c(m,1);B=z>y?-1:z<y?1:0<p?d.getItemModel(p-1).get()[2]<=y?1:-1:1;d.setItemLayout(w,{chartLayout:f,sign:B,initBaseline:z>y?x[h]:m[h],bodyEnds:C,whiskerEnds:A,brushRect:function(){var b=a(Math.min(z,y,E,J)),c=a(Math.max(z,y,E,J));b[g]-=e/2;c[g]-=e/2;return{x:b[0],y:b[1],width:h?e:c[0]-b[0],height:h?c[1]-b[1]:e}}()});++p},!0)}})});wa.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){return yc(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var xd=ek.prototype;xd.stopEffectAnimation=function(){this.childAt(1).removeAll()};xd.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),e=0;3>e;e++){var f=jb(b,-1,-1,2,2,c);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var g=-e/3*a.period+a.effectOffset;f.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(g).start();f.animateStyle(!0).when(a.period,{opacity:0}).delay(g).start();d.add(f)}nq(d,a)};xd.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale"],e=0;e<d.length;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}nq(c,a)};xd.highlight=function(){this.trigger("emphasis")};xd.downplay=function(){this.trigger("normal")};xd.updateData=function(a,b){var c=a.hostModel;this.childAt(0).updateData(a,b);var d=this.childAt(1),e=a.getItemModel(b),f=a.getItemVisual(b,"symbol"),g=Uw(a.getItemVisual(b,"symbolSize")),h=a.getItemVisual(b,"color");d.attr("scale",g);d.traverse(function(a){a.attr({fill:h})});var k=e.getShallow("symbolOffset");if(k){var l=d.position;l[0]=B(k[0],g[0]);l[1]=B(k[1],g[1])}d.rotation=(e.getShallow("symbolRotate")||0)*Math.PI/180||0;var m={};m.showEffectOn=c.get("showEffectOn");m.rippleScale=e.get("rippleEffect.scale");m.brushType=e.get("rippleEffect.brushType");m.period=1E3*e.get("rippleEffect.period");m.effectOffset=b/a.count();m.z=e.getShallow("z")||0;m.zlevel=e.getShallow("zlevel")||0;m.symbolType=f;m.color=h;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===m.showEffectOn)this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m;else{this._effectCfg=null;this.stopEffectAnimation();var p=this.childAt(0),c=function(){p.highlight();"render"!==m.showEffectOn&&this.startEffectAnimation(m)},d=function(){p.downplay();"render"!==m.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",c,this).on("mouseout",d,this).on("emphasis",c,this).on("normal",d,this)}this._effectCfg=m};xd.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};ja(ek,F);La({type:"effectScatter",init:function(){this._symbolDraw=new Sd(ek)},render:function(a,b,c){a=a.getData();b=this._symbolDraw;b.updateData(a);this.group.add(b.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)},dispose:function(){}});ra(C(vd,"effectScatter","circle",null));oa(C(sl,"effectScatter"));var Ws=wa.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){oq(a);Ws.superApply(this,"init",arguments)},mergeOption:function(a){oq(a);Ws.superApply(this,"mergeOption",arguments)},getInitialData:function(a,b){if(D&&!ab.get(a.coordinateSystem))throw Error("Unkown coordinate system "+a.coordinateSystem);var c=new ia(["value"],this);c.hasItemOption=!1;c.initData(a.data,[],function(a,b,f,g){if(a instanceof Array)return NaN;c.hasItemOption=!0;a=a.value;if(null!=a)return a instanceof Array?a[g]:a});return c},formatTooltip:function(a){var b=this.getData().getItemModel(a);if(a=b.get("name"))return a;a=b.get("fromName");var b=b.get("toName"),c=[];null!=a&&c.push(a);null!=b&&c.push(b);return la(c.join(" \x3e "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}),Nc=hf.prototype;Nc.createLine=function(a,b,c){return new ef(a,b,c)};Nc._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");x(d)||(d=[d,d]);var f=c.get("color")||a.getItemVisual(b,"color"),g=this.childAt(1);this._symbolType!==e&&(this.remove(g),g=jb(e,-.5,-.5,1,1,f),g.z2=100,g.culling=!0,this.add(g));g&&(g.setStyle("shadowColor",f),g.setStyle(c.getItemStyle(["color"])),g.attr("scale",d),g.setColor(f),g.attr("scale",d),this._symbolType=e,this._updateEffectAnimation(a,c,b))};Nc._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=this,f=a.getItemLayout(c),g=1E3*b.get("period"),h=b.get("loop"),k=b.get("constantSpeed");b=na(b.get("delay"),function(b){return b/a.count()*g/3});var l="function"===typeof b;d.ignore=!0;this.updateAnimationPoints(d,f);0<k&&(g=this.getLineLength(d)/k*1E3);if(g!==this._period||h!==this._loop)d.stopAnimation(),f=b,l&&(f=b(c)),0<d.__t&&(f=-g*d.__t),d.__t=0,c=d.animate("",h).when(g,{__t:1}).delay(f).during(function(){e.updateSymbolPosition(d)}),h||c.done(function(){e.remove(d)}),c.start();this._period=g;this._loop=h}};Nc.getLineLength=function(a){return id(a.__p1,a.__cp1)+id(a.__cp1,a.__p2)};Nc.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};Nc.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c);this._updateEffectSymbol(a,b)};Nc.updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position;f[0]=yb(b[0],d[0],c[0],e);f[1]=yb(b[1],d[1],c[1],e);f=Sf(b[0],d[0],c[0],e);b=Sf(b[1],d[1],c[1],e);a.rotation=-Math.atan2(b,f)-Math.PI/2;a.ignore=!1};Nc.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)};ja(hf,F);var Dh=Ig.prototype;Dh._createPolyline=function(a,b,c){var d=a.getItemLayout(b),d=new Fb({shape:{points:d}});this.add(d);this._updateCommonStl(a,b,c)};Dh.updateData=function(a,b,c){var d=a.hostModel,e=this.childAt(0),f={shape:{points:a.getItemLayout(b)}};Z(e,f,d,b);this._updateCommonStl(a,b,c)};Dh._updateCommonStl=function(a,b,c){var d=this.childAt(0),e=a.getItemModel(b);b=a.getItemVisual(b,"color");var f=c&&c.lineStyle,g=c&&c.hoverLineStyle;if(!c||a.hasItemOption)f=e.getModel("lineStyle.normal").getLineStyle(),g=e.getModel("lineStyle.emphasis").getLineStyle();d.useStyle(H({strokeNoScale:!0,fill:"none",stroke:b},f));d.hoverStyle=g;T(this)};Dh.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))};ja(Ig,F);var Eh=fk.prototype;Eh.createLine=function(a,b,c){return new Ig(a,b,c)};Eh.updateAnimationPoints=function(a,b){this._points=b;for(var c=[0],d=0,e=1;e<b.length;e++)d+=id(b[e-1],b[e]),c.push(d);if(0!==d){for(e=0;e<c.length;e++)c[e]/=d;this._offsets=c;this._length=d}};Eh.getLineLength=function(a){return this._length};Eh.updateSymbolPosition=function(a){var b=a.__t,c=this._points,d=this._offsets,e=c.length;if(d){var f=this._lastFrame;if(b<this._lastFramePercent){for(f=Math.min(f+1,e-1);0<=f&&!(d[f]<=b);f--);f=Math.min(f,e-2)}else{for(;f<e&&!(d[f]>b);f++);f=Math.min(f-1,e-2)}km(a.position,c[f],c[f+1],(b-d[f])/(d[f+1]-d[f]));a.rotation=-Math.atan2(c[f+1][1]-c[f][1],c[f+1][0]-c[f][0])-Math.PI/2;this._lastFrame=f;this._lastFramePercent=b;a.ignore=!1}};ja(fk,hf);var Vw=Qb({shape:{polyline:!1,segs:[]},buildPath:function(a,b){for(var c=b.segs,d=b.polyline,e=0;e<c.length;e++){var f=c[e];if(d){a.moveTo(f[0][0],f[0][1]);for(var g=1;g<f.length;g++)a.lineTo(f[g][0],f[g][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,b){for(var c=this.shape,d=c.segs,c=c.polyline,e=Math.max(this.style.lineWidth,1),f=0;f<d.length;f++){var g=d[f];if(c)for(var h=1;h<g.length;h++){if(pc(g[h-1][0],g[h-1][1],g[h][0],g[h][1],e,a,b))return f}else if(2<g.length){if(gn(g[0][0],g[0][1],g[2][0],g[2][1],g[1][0],g[1][1],e,a,b))return f}else if(pc(g[0][0],g[0][1],g[1][0],g[1][1],e,a,b))return f}return-1}}),Il=pq.prototype;Il.updateData=function(a){this.group.removeAll();var b=this._lineEl,c=a.hostModel;b.setShape({segs:a.mapArray(a.getItemLayout),polyline:c.get("polyline")});b.useStyle(c.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&b.setStyle("stroke",a);b.setStyle("fill");b.seriesIndex=c.seriesIndex;b.on("mousemove",function(a){b.dataIndex=null;a=b.findDataIndex(a.offsetX,a.offsetY);0<a&&(b.dataIndex=a)});this.group.add(b)};Il.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};Il.remove=function(){this.group.removeAll()};La({type:"lines",init:function(){},render:function(a,b,c){var d=a.getData(),e=this._lineDraw,f=a.get("effect.show"),g=a.get("polyline"),h=a.get("large")&&d.count()>=a.get("largeThreshold");D&&f&&h&&console.warn("Large lines not support effect");if(f!==this._hasEffet||g!==this._isPolyline||h!==this._isLarge)e&&e.remove(),e=this._lineDraw=h?new pq:new Ag(g?f?fk:Ig:f?hf:ef),this._hasEffet=f,this._isPolyline=g,this._isLarge=h;var k=a.get("zlevel"),g=a.get("effect.trailLength");c=c.getZr();(h="svg"===c.painter.getType())||c.painter.getLayer(k).clear(!0);null==this._lastZlevel||h||c.configLayer(this._lastZlevel,{motionBlur:!1});if(f&&g){if(D){var l=!1;b.eachSeries(function(b){b!==a&&b.get("zlevel")===k&&(l=!0)});l&&console.warn("Lines with trail effect should have an individual zlevel")}h||c.configLayer(k,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})}this.group.add(e.group);e.updateData(d);this._lastZlevel=k},updateLayout:function(a,b,c){this._lineDraw.updateLayout(a);a=c.getZr();"svg"!==a.painter.getType()&&a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0);var c=b.getZr();"svg"!==c.painter.getType()&&c.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});oa(function(a){a.eachSeriesByType("lines",function(a){var b=a.coordinateSystem,d=a.getData();d.each(function(c){var e=d.getItemModel(c),g=e.option instanceof Array?e.option:e.get("coords");if(D&&!(g instanceof Array&&0<g.length&&g[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(g)+". Lines must have 2d coords array in data item.");var h=[];if(a.get("polyline"))for(e=0;e<g.length;e++)h.push(b.dataToPoint(g[e]));else h[0]=b.dataToPoint(g[0]),h[1]=b.dataToPoint(g[1]),g=e.get("lineStyle.normal.curveness"),+g&&(h[2]=[(h[0][0]+h[1][0])/2-(h[0][1]-h[1][1])*g,(h[0][1]+h[1][1])/2-(h[1][0]-h[0][0])*g]);d.setItemLayout(c,h)})})});ra(function(a){a.eachSeriesByType("lines",function(a){var b=a.getData(),d=Jg(a.get("symbol")),e=Jg(a.get("symbolSize")),f=["lineStyle","normal","opacity"];b.setVisual("fromSymbol",d&&d[0]);b.setVisual("toSymbol",d&&d[1]);b.setVisual("fromSymbolSize",e&&e[0]);b.setVisual("toSymbolSize",e&&e[1]);b.setVisual("opacity",a.get(f));b.each(function(a){var c=b.getItemModel(a),d=Jg(c.getShallow("symbol",!0)),e=Jg(c.getShallow("symbolSize",!0)),c=c.get(f);d[0]&&b.setItemVisual(a,"fromSymbol",d[0]);d[1]&&b.setItemVisual(a,"toSymbol",d[1]);e[0]&&b.setItemVisual(a,"fromSymbolSize",e[0]);e[1]&&b.setItemVisual(a,"toSymbolSize",e[1]);b.setItemVisual(a,"opacity",c)})})});wa.extend({type:"series.heatmap",getInitialData:function(a,b){return yc(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});qq.prototype={update:function(a,b,c,d,e,f){var g=this._getBrush(),h=this._getGradient(a,e,"inRange");e=this._getGradient(a,e,"outOfRange");var k=this.pointSize+this.blurSize,l=this.canvas,m=l.getContext("2d"),p=a.length;l.width=b;l.height=c;for(c=0;c<p;++c){b=a[c];var n=b[0],q=b[1];b=d(b[2]);m.globalAlpha=b;m.drawImage(g,n-k,q-k)}if(!l.width||!l.height)return l;a=m.getImageData(0,0,l.width,l.height);d=a.data;g=0;k=d.length;p=this.minOpacity;for(c=this.maxOpacity-p;g<k;)b=d[g+3]/256,n=4*Math.floor(255*b),0<b?(q=f(b)?h:e,0<b&&(b=b*c+p),d[g++]=q[n],d[g++]=q[n+1],d[g++]=q[n+2],d[g++]=q[n+3]*b*256):g+=4;m.putImageData(a,0,0);return l},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=Bd()),b=this.pointSize+this.blurSize,c=2*b;a.width=c;a.height=c;var d=a.getContext("2d");d.clearRect(0,0,c,c);d.shadowOffsetX=c;d.shadowBlur=this.blurSize;d.shadowColor="#000";d.beginPath();d.arc(-b,b,this.pointSize,0,2*Math.PI,!0);d.closePath();d.fill();return a},_getGradient:function(a,b,c){a=this._gradientPixels;a=a[c]||(a[c]=new Uint8ClampedArray(1024));for(var d=[0,0,0,0],e=0,f=0;256>f;f++)b[c](f/255,!0,d),a[e++]=d[0],a[e++]=d[1],a[e++]=d[2],a[e++]=d[3];return a}};La({type:"heatmap",render:function(a,b,c){var d;b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})});if(D&&!d)throw Error("Heatmap must use with visualMap");this.group.removeAll();b=a.coordinateSystem;"cartesian2d"===b.type||"calendar"===b.type?this._renderOnCartesianAndCalendar(b,a,c):Yw(b)&&this._renderOnGeo(b,a,d,c)},dispose:function(){},_renderOnCartesianAndCalendar:function(a,b,c){if("cartesian2d"===a.type){c=a.getAxis("x");var d=a.getAxis("y");if(D){if("category"!==c.type||"category"!==d.type)throw Error("Heatmap on cartesian must have two category axes");if(!c.onBand||!d.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");}var e=c.getBandWidth(),f=d.getBandWidth()}var g=this.group,h=b.getData(),k=b.getModel("itemStyle.normal").getItemStyle(["color"]),l=b.getModel("itemStyle.emphasis").getItemStyle(),m=b.getModel("label.normal"),p=b.getModel("label.emphasis"),n=a.type,q="cartesian2d"===n?[b.coordDimToDataDim("x")[0],b.coordDimToDataDim("y")[0],b.coordDimToDataDim("value")[0]]:[b.coordDimToDataDim("time")[0],b.coordDimToDataDim("value")[0]];h.each(function(c){var d;if("cartesian2d"===n){if(isNaN(h.get(q[2],c)))return;d=a.dataToPoint([h.get(q[0],c),h.get(q[1],c)]);d=new ga({shape:{x:d[0]-e/2,y:d[1]-f/2,width:e,height:f},style:{fill:h.getItemVisual(c,"color"),opacity:h.getItemVisual(c,"opacity")}})}else{if(isNaN(h.get(q[1],c)))return;d=new ga({z2:1,shape:a.dataToRect([h.get(q[0],c)]).contentShape,style:{fill:h.getItemVisual(c,"color"),opacity:h.getItemVisual(c,"opacity")}})}var t=h.getItemModel(c);h.hasItemOption&&(k=t.getModel("itemStyle.normal").getItemStyle(["color"]),l=t.getModel("itemStyle.emphasis").getItemStyle(),m=t.getModel("label.normal"),p=t.getModel("label.emphasis"));var t=b.getRawValue(c),r="-";t&&null!=t[2]&&(r=t[2]);Db(k,l,m,p,{labelFetcher:b,labelDataIndex:c,defaultText:r,isRectText:!0});d.setStyle(k);T(d,h.hasItemOption?l:I({},l));g.add(d);h.setItemGraphicEl(c,d)})},_renderOnGeo:function(a,b,c,d){var e=c.targetVisuals.inRange,f=c.targetVisuals.outOfRange,g=b.getData(),h=this._hmLayer||this._hmLayer||new qq;h.blurSize=b.get("blurSize");h.pointSize=b.get("pointSize");h.minOpacity=b.get("minOpacity");h.maxOpacity=b.get("maxOpacity");b=a.getViewRect().clone();var k=a.getRoamTransform().transform;b.applyTransform(k);var l=Math.max(b.x,0),m=Math.max(b.y,0),k=Math.min(b.width+b.x,d.getWidth());b=Math.min(b.height+b.y,d.getHeight());d=k-l;b-=m;g=g.mapArray(["lng","lat","value"],function(b,c,d){b=a.dataToPoint([b,c]);b[0]-=l;b[1]-=m;b.push(d);return b});k=c.getExtent();c="visualMap.continuous"===c.type?Xw(k,c.option.range):Ww(k,c.getPieceList(),c.option.selected);h.update(g,d,b,e.color.getNormalizer(),{inRange:e.color.getColorMapper(),outOfRange:f.color.getColorMapper()},c);e=new Ka({style:{width:d,height:b,x:l,y:m,image:h.canvas},silent:!0});this.group.add(e)}});var aA=Bs.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){a.stack=null;return aA.superApply(this,"getInitialData",arguments)}}),Zw=["itemStyle","normal","borderWidth"],Xs=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],gk=new td;La({type:"pictorialBar",render:function(a,b,c){var d=this.group,e=a.getData(),f=this._data;b=a.coordinateSystem;var g=!!b.getBaseAxis().isHorizontal(),h=b.grid.getRect(),k={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:b,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:g,valueDim:Xs[+g],categoryDim:Xs[1-g]};e.diff(f).add(function(a){if(e.hasValue(a)){var b=yq(e,a),b=rq(e,a,b,k),c=zq(e,k,b);e.setItemGraphicEl(a,c);d.add(c);Cq(c,k,b)}}).update(function(a,b){var c=f.getItemGraphicEl(b);if(e.hasValue(a)){var g=yq(e,a),g=rq(e,a,g,k),h=Aq(e,g);c&&h!==c.__pictorialShapeStr&&(d.remove(c),e.setItemGraphicEl(a,null),c=null);if(c){var h=c,l=g.animationModel,m=g.dataIndex;Z(h.__pictorialBundle,{position:g.bundlePosition.slice()},l,m);g.symbolRepeat?uq(h,k,g,!0):vq(h,k,g,!0);wq(h,g,!0);xq(h,k,g,!0)}else c=zq(e,k,g,!0);e.setItemGraphicEl(a,c);c.__pictorialSymbolMeta=g;d.add(c);Cq(c,k,g)}else d.remove(c)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&Bq(f,a,b.__pictorialSymbolMeta.animationModel,b)}).execute();this._data=e;return this.group},dispose:Ga,remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){Bq(d,b.dataIndex,a,b)}):c.removeAll()}});oa(C(sg,"pictorialBar"));ra(C(vd,"pictorialBar","roundRect",null));var Fh=function(a,b,c,d,e){Ba.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom";this._labelInterval=this.orient=null};Fh.prototype={constructor:Fh,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null};ja(Fh,Ba);Kg.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Kg,_init:function(a,b,c){b=new Fh(this.dimension,Qd(a),[0,0],a.get("type"),a.get("position"));b.onBand="category"===b.type&&a.get("boundaryGap");b.inverse=a.get("inverse");b.orient=a.get("orient");a.axis=b;b.model=a;b.coordinateSystem=this;this._axis=b},update:function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData();this._axis.scale.unionExtentFromData(b,a.coordDimToDataDim(this.dimension));zc(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=Ia({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]);this._updateAxisTransform(b,c?a.x:a.y)},_updateAxisTransform:function(a,b){var c=a.getExtent(),d=c[0]+c[1],c=a.isHorizontal();a.toGlobalCoord=c?function(a){return a+b}:function(a){return d-a+b};a.toLocalCoord=c?function(a){return a-b}:function(a){return d-a+b}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(a){var b=this.getAxis(),c=this.getRect(),d=[],e="horizontal"===b.orient?0:1;a instanceof Array&&(a=a[0]);d[e]=b.toGlobalCoord(b.dataToCoord(+a));d[1-e]=0===e?c.y+c.height/2:c.x+c.width/2;return d}};ab.register("single",{create:function(a,b){var c=[];a.eachComponent("singleAxis",function(d,e){var f=new Kg(d,a,b);f.name="single_"+e;f.resize(d,b);d.coordinateSystem=f;c.push(f)});a.eachSeries(function(b){if("singleAxis"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];b.coordinateSystem=c&&c.coordinateSystem}});return c},dimensions:Kg.prototype.dimensions});var bA=db.getInterval,cA=db.ifIgnoreOnTick,dA=["axisLine","axisTickLabel","axisName"],eA=xb.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(a,b,c,d){var e=this.group;e.removeAll();var f=ik(a),g=new db(a,f);r(dA,g.add,g);e.add(g.getGroup());a.get("splitLine.show")&&this._splitLine(a,f.labelInterval);eA.superCall(this,"render",a,b,c,d)},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){for(var d=a.getModel("splitLine"),e=d.getModel("lineStyle"),f=e.get("width"),g=e.get("color"),d=bA(d,b),g=g instanceof Array?g:[g],h=a.coordinateSystem.getRect(),k=c.isHorizontal(),l=[],m=0,p=c.getTicksCoords(),n=[],q=[],t=a.get("axisLabel.showMinLabel"),r=a.get("axisLabel.showMaxLabel"),u=0;u<p.length;++u)if(!cA(c,u,d,p.length,t,r)){var w=c.toGlobalCoord(p[u]);k?(n[0]=w,n[1]=h.y,q[0]=w,q[1]=h.y+h.height):(n[0]=h.x,n[1]=w,q[0]=h.x+h.width,q[1]=w);w=m++%g.length;l[w]=l[w]||[];l[w].push(new Qa($c({shape:{x1:n[0],y1:n[1],x2:q[0],y2:q[1]},style:{lineWidth:f},silent:!0})))}for(u=0;u<l.length;++u)this.group.add(ic(l[u],{style:{stroke:g[u%g.length],lineDash:e.getLineDash(f),lineWidth:f},silent:!0}))}}}),Ys=U.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});K(Ys.prototype,ud);me("single",Ys,function(a,b){return b.type||(b.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var Zs=function(a,b){var c=[],d=a.seriesIndex,e;if(null==d||!(e=b.getSeriesByIndex(d)))return{point:[]};var f=e.getData(),g=cg(f,a);if(null==g||x(g))return{point:[]};var d=f.getItemGraphicEl(g),h=e.coordinateSystem;e.getTooltipPosition?c=e.getTooltipPosition(g)||[]:h&&h.dataToPoint?c=h.dataToPoint(f.getValues(z(h.dimensions,function(a){return e.coordDimToDataDim(a)[0]}),g,!0))||[]:d&&(c=d.getBoundingRect().clone(),c.applyTransform(d.transform),c=[c.x+c.width/2,c.y+c.height/2]);return{point:c,el:d}},Kb=r,Eq=cl();ib({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var gc=cl(),jx=r,$s=ma({type:"axisPointer",render:function(a,b,c){b=b.getComponent("tooltip");var d=a.get("triggerOn")||b&&b.get("triggerOn")||"mousemove|click";Gq("axisPointer",c,function(a,b,c){"none"!==d&&("leave"===a||0<=d.indexOf(a))&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},remove:function(a,b){jk(b.getZr(),"axisPointer");$s.superApply(this._model,"remove",arguments)},dispose:function(a,b){jk("axisPointer",b);$s.superApply(this._model,"dispose",arguments)}}),od=cl();nd.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");this._axisModel=a;this._axisPointerModel=b;this._api=c;if(d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e;this._lastStatus=f;d=this._group;var g=this._handle;f&&"hide"!==f?(d&&d.show(),g&&g.show(),f={},this.makeElOption(f,e,a,b,c),g=f.graphicKey,g!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=g,g=this._moveAnimation=this.determineAnimation(a,b),d?(a=C(Iq,b,g),this.updatePointerEl(d,f,a,b),this.updateLabelEl(d,f,a,b)):(d=this._group=new F,this.createPointerEl(d,f,a,b),this.createLabelEl(d,f,a,b),c.getZr().add(d)),Lq(d,b,!0),this._renderHandle(e)):(d&&d.hide(),g&&g.hide())}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");return f||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:f?(e=oj(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/e>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){if(c=b.pointer)b=od(a).pointerEl=new Pa[c.type](G(b.pointer)),a.add(b)},createLabelEl:function(a,b,c,d){b.label&&(b=od(a).labelEl=new ga(G(b.label)),a.add(b),Kq(b,d))},updatePointerEl:function(a,b,c){if(a=od(a).pointerEl)a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape})},updateLabelEl:function(a,b,c,d){if(a=od(a).labelEl)a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),Kq(a,d)},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(e.get("show")&&f&&"hide"!==f){var g;this._handle||(g=!0,d=this._handle=Me(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){ec(a.event)},onmousedown:A(this._onHandleDragMove,this,0,0),drift:A(this._onHandleDragMove,this),ondragend:A(this._onHandleDragEnd,this)}),c.add(d));Lq(d,b,!1);d.setStyle(e.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=e.get("size");x(b)||(b=[b,b]);d.attr("scale",[b[0]/2,b[1]/2]);Pe(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(a,g)}else d&&c.remove(d),this._handle=null}},_moveHandleToValue:function(a,b){Iq(this._axisPointerModel,!b&&this._moveAnimation,this._handle,kk(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(kk(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d;c.stopAnimation();c.attr(kk(d));od(c).lastProp=null;this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){this._dragging=!1;this._handle&&(a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._payloadInfo=this._handle=this._group=null)},doClear:function(){},buildLabel:function(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}};nd.prototype.constructor=nd;Ie(nd);var gA=nd.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),k=Qq(g,f).getOtherAxis(f).getGlobalExtent(),l=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var m=lk(d),f=fA[h](f,l,k,m);f.style=m;a.graphicKey=f.type;a.pointer=f}g=pj(g.model,c);Oq(b,a,g,c,d,e)},getHandleTransform:function(a,b,c){var d=pj(b.axis.grid.model,b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:mk(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){d=c.axis;var e=d.grid;c=d.getGlobalExtent(!0);var f=Qq(e,d).getOtherAxis(d).getGlobalExtent();d="x"===d.dim?0:1;e=a.position;e[d]+=b[d];e[d]=Math.min(c[1],e[d]);e[d]=Math.max(c[0],e[d]);b=(f[1]+f[0])/2;b=[b,b];b[d]=e[d];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),fA={line:function(a,b,c,d){a=nk([b,c[0]],[b,c[1]],"x"===a.dim?0:1);$c({shape:a,style:d});return{type:"Line",shape:a}},shadow:function(a,b,c,d){d=a.getBandWidth();return{type:"Rect",shape:Pq([b-d/2,c[0]],[d,c[1]-c[0]],"x"===a.dim?0:1)}}};xb.registerAxisPointerClass("CartesianAxisPointer",gA);cb(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!x(b)&&(a.axisPointer.link=[b])}});Ua(le.PROCESSOR.STATISTIC,function(a,b){var c=a.getComponent("axisPointer"),d={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};$u(d,a,b);d.seriesInvolved&&bv(d,a);c.coordSysAxesInfo=d});W({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||A(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){Lg(e)&&(e=Zs({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h=Lg(e),k=a.axesInfo,l=g.axesInfo,m="leave"===d||Lg(e),p={},n={};b={list:[],map:{}};var q={showPointer:C(cx,n),showTooltip:C(dx,b)};Kb(g.coordSysMap,function(a,b){var c=h||a.containPoint(e);Kb(g.coordSysAxesInfo[b],function(a,b){var d=a.axis,f;a:{for(f=0;f<(k||[]).length;f++){var g=k[f];if(a.axis.dim===g.axisDim&&a.axis.model.componentIndex===g.axisIndex){f=g;break a}}f=void 0}m||!c||k&&!f||(f=f&&f.value,null!=f||h||(f=d.pointToData(e)),null!=f&&Dq(a,f,q,!1,p))})});var t={};Kb(l,function(a,b){var c=a.linkGroup;c&&!n[b]&&Kb(c.axesInfo,function(b,d){var e=n[d];b!==a&&e&&(e=e.value,c.mapper&&(e=a.axis.scale.parse(c.mapper(e,Fq(b),Fq(a)))),t[a.key]=e)})});Kb(t,function(a,b){Dq(l[b],a,q,!0,p)});ex(n,l,p);fx(b,e,a,f);gx(l,f,c);return p}});var Rq=["x","y"],mx=["width","height"],iA=nd.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.coordinateSystem,h=ok(g,1-(f.isHorizontal()?0:1)),k=g.dataToPoint(b)[0],l=d.get("type");l&&"none"!==l&&(g=lk(d),f=hA[l](f,k,h,g),f.style=g,a.graphicKey=f.type,a.pointer=f);f=ik(c);Oq(b,a,f,c,d,e)},getHandleTransform:function(a,b,c){var d=ik(b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:mk(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){c=c.axis;var e=c.coordinateSystem;c=c.isHorizontal()?0:1;var f=ok(e,c);d=a.position;d[c]+=b[c];d[c]=Math.min(f[1],d[c]);d[c]=Math.max(f[0],d[c]);b=ok(e,1-c);b=(b[1]+b[0])/2;b=[b,b];b[c]=d[c];return{position:d,rotation:a.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}}),hA={line:function(a,b,c,d){a=nk([b,c[0]],[b,c[1]],a.isHorizontal()?0:1);$c({shape:a,style:d});return{type:"Line",shape:a}},shadow:function(a,b,c,d){d=a.getBandWidth();return{type:"Rect",shape:Pq([b-d/2,c[0]],[d,c[1]-c[0]],a.isHorizontal()?0:1)}}};xb.registerAxisPointerClass("SingleAxisPointer",iA);ma({type:"single"});var jA=wa.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){jA.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var b=a.length,c=ck().key(function(a){return a[2]}).entries(a),c=z(c,function(a){return{name:a.key,dataList:a.values}}),d=c.length,e=-1,f=-1,g=0;g<d;++g){var h=c[g].dataList.length;h>e&&(e=h,f=g)}for(g=0;g<d;++g)if(g!==f)for(var h=c[g].name,k=0;k<e;++k){for(var l=c[f].dataList[k][0],m=c[g].dataList.length,p=-1,n=0;n<m;++n)if(c[g].dataList[n][0]===l){p=n;break}-1===p&&(a[b]=[],a[b][0]=l,a[b][1]=0,a[b][2]=h,b++)}return a},getInitialData:function(a,b){for(var c=[],c=b.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),c=[{name:"time",type:"category"===c?"ordinal":"time"===c?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}],d=Fa(a.data,function(a){return void 0!==a[2]}),d=this.fixData(d||[]),e=[],f=this.nameMap=za(),g=0,h=0;h<d.length;++h)e.push(d[h][2]),f.get(d[h][2])||(f.set(d[h][2],g),g++);c=Ja(c,d);c=new ia(c,this);c.initData(d,e);return c},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){function a(a,c){return b.get("time",a)-b.get("time",c)}for(var b=this.getData(),c=b.count(),d=[],e=0;e<c;++e)d[e]=e;c=ck().key(function(a){return b.get("name",a)}).entries(d);c=z(c,function(a){return{name:a.key,indices:a.values}});for(d=0;d<c.length;++d)c[d].indices.sort(a);return c},getAxisTooltipData:function(a,b,c){x(a)||(a=a?[a]:[]);c=this.getData();for(var d=this.getLayerSeries(),e=[],f=d.length,g,h=0;h<f;++h){for(var k=Number.MAX_VALUE,l=-1,m=d[h].indices.length,p=0;p<m;++p){var n=c.get(a[0],d[h].indices[p]),q=Math.abs(n-b);q<=k&&(g=n,k=q,l=d[h].indices[p])}e.push(l)}return{dataIndices:e,nestestValue:g}},formatTooltip:function(a){var b=this.getData(),c=b.get("name",a);a=b.get("value",a);if(isNaN(a)||null==a)a="-";return la(c+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});La({type:"themeRiver",init:function(){this._layers=[]},render:function(a,b,c){function d(a){return a.name}function e(b,c,d){var e=this._layers;if("remove"===b)g.remove(e[c]);else{for(var l=[],m=[],p,r=h[c].indices,w=0;w<r.length;w++){var z=f.getItemLayout(r[w]);p=z.x;var y=z.y0,z=z.y;l.push([p,y]);m.push([p,y+z]);p=f.getItemVisual(r[w],"color")}var E,x=f.getItemLayout(r[0]),z=f.getItemModel(r[w-1]),y=z.getModel("label.normal"),A=y.get("margin");"add"===b?(d=k[c]=new F,E=new vs({shape:{points:l,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),b=new P({style:{x:x.x-A,y:x.y0+x.y/2}}),d.add(E),d.add(b),g.add(d),E.setClipPath(nx(E.getBoundingRect(),a,function(){E.removeClipPath()}))):(d=e[d],E=d.childAt(0),b=d.childAt(1),g.add(d),k[c]=d,Z(E,{shape:{points:l,stackedOnPoints:m}},a),Z(b,{style:{x:x.x-A,y:x.y0+x.y/2}},a));c=z.getModel("itemStyle.emphasis");l=z.getModel("itemStyle.normal");ua(b.style,y,{text:y.get("show")?a.getFormattedLabel(r[w-1],"normal")||f.getName(r[w-1]):null,textVerticalAlign:"middle"});E.setStyle(I({fill:p},l.getItemStyle(["color"])));T(E,c.getItemStyle())}}var f=a.getData(),g=this.group,h=a.getLayerSeries();b=f.getLayout("layoutInfo");g.attr("position",[0,b.rect.y+b.boundaryGap[0]]);var k={};(new xc(this._layersSeries||[],h,d,d)).add(A(e,this,"add")).update(A(e,this,"update")).remove(A(e,this,"remove")).execute();this._layersSeries=h;this._layers=k},dispose:function(){}});oa(function(a,b){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.coordinateSystem,f={},g=c.getRect();f.rect=g;var h=a.get("boundaryGap"),c=c.getAxis();f.boundaryGap=h;"horizontal"===c.orient?(h[0]=B(h[0],g.height),h[1]=B(h[1],g.height),Sq(b,a,g.height-h[0]-h[1])):(h[0]=B(h[0],g.width),h[1]=B(h[1],g.width),Sq(b,a,g.width-h[0]-h[1]));b.setLayout("layoutInfo",f)})});ra(function(a){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),d=a.getRawData(),e=a.get("color"),f=za();b.each(function(a){f.set(b.getRawIndex(a),a)});d.each(function(c){var g=d.getName(c),g=e[(a.nameMap.get(g)-1)%e.length];d.setItemVisual(c,"color",g);c=f.get(c);null!=c&&b.setItemVisual(c,"color",g)})})});Ua(C(Ah,"themeRiver"));var xx=["itemStyle","normal"],yx=["itemStyle","emphasis"],vx=["label","normal"],wx=["label","emphasis"],Tq={cartesian2d:function(a){var b=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:A(a.dataToPoint,a),size:A(px,a)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:A(a.dataToPoint,a),size:A(qx,a)}}},singleAxis:function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:A(a.dataToPoint,a),size:A(rx,a)}}},polar:function(a){var b=a.getRadiusAxis(),c=a.getAngleAxis(),d=b.getExtent();d[0]>d[1]&&d.reverse();return{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:d[1],r0:d[0]},api:{coord:A(function(d){var e=b.dataToRadius(d[0]);d=c.dataToAngle(d[1]);var g=a.coordToPoint([e,d]);g.push(e,d*Math.PI/180);return g}),size:A(sx,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:A(a.dataToPoint,a)}}}};Te({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(a,b){return yc(a.data,this,b)}});La({type:"custom",_data:null,render:function(a,b,c){var d=this._data,e=a.getData(),f=this.group,g=ux(a,e,b,c);e.diff(d).add(function(b){if(e.hasValue(b)){var c=null,d=g(b);(c=Mg(c,b,d,a,f,e))&&e.setItemGraphicEl(b,c)}}).update(function(b,c){var h=d.getItemGraphicEl(c);if(e.hasValue(b)){var k=g(b);(h=Mg(h,b,k,a,f,e))&&e.setItemGraphicEl(b,h)}else h&&f.remove(h)}).remove(function(a){(a=d.getItemGraphicEl(a))&&f.remove(a)}).execute();this._data=e},dispose:Ga});cb(function(a){var b=a.graphic;x(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var kA=ib({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null;kA.superApply(this,"mergeOption",arguments);this.option.elements=b},optionUpdated:function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,c=[];this._flatten(d,c);d=Si(e,c);In(d);var f=this._elOptionsToUpdate=[];r(d,function(a,b){var c=a.option;D&&ca(Q(c)||a.exist,"Empty graphic option definition");if(c){f.push(c);var d=a.exist;c.id=a.keyInfo.id;!c.type&&d&&(c.type=d.type);if(null==c.parentId){var g=c.parentOption;g?c.parentId=g.id:d&&(c.parentId=d.parentId)}c.parentOption=null;var d=I({},c),g=e[b],h=c.$action||"merge";"merge"===h?g?(D&&(h=c.type,ca(!h||g.type===h,'Please set $action: "replace" to change `type`')),K(g,d,!0),uc(g,d,{ignoreSize:!0}),ed(c,g)):e[b]=d:"replace"===h?e[b]=d:"remove"===h&&g&&(e[b]=null);if(d=e[b])d.hv=c.hv=[Xq(c,["left","right"]),Xq(c,["top","bottom"])],"group"===d.type&&(null==d.width&&(d.width=c.width=0),null==d.height&&(d.height=c.height=0))}},this);for(d=e.length-1;0<=d;d--)null==e[d]?e.splice(d,1):delete e[d].$action},_flatten:function(a,b,c){r(a,function(a){if(a){c&&(a.parentOption=c);b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a);delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return a}});ma({type:"graphic",init:function(a,b){this._elMap=za()},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a,c);this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;r(c,function(a){var b=a.$action,c=a.id,f=d.get(c),l=a.parentId,l=null!=l?d.get(l):e;if("text"===a.type){var m=a.style;a.hv&&a.hv[1]&&(m.textVerticalAlign=m.textBaseline=null);!m.hasOwnProperty("textFill")&&m.fill&&(m.textFill=m.fill);!m.hasOwnProperty("textStroke")&&m.stroke&&(m.textStroke=m.stroke)}m=Bx(a);D&&f&&ca(l===f.parent,"Changing parent is not supported.");b&&"merge"!==b?"replace"===b?(Ng(f,d),Wq(c,l,m,d)):"remove"===b&&Ng(f,d):f?f.attr(m):Wq(c,l,m,d);if(b=d.get(c))b.__ecGraphicWidth=a.width,b.__ecGraphicHeight=a.height})}},_relocate:function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=c.length-1;0<=f;f--){var g=c[f],h=e.get(g.id);if(h){var k=h.parent,k=k===d?{width:b.getWidth(),height:b.getHeight()}:{width:k.__ecGraphicWidth||0,height:k.__ecGraphicHeight||0};dg(h,g,k,null,{hv:g.hv,boundingMode:g.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){Ng(b,a)});this._elMap=za()},dispose:function(){this._clear()}});var at=ib({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);a.selected=a.selected||{}},mergeOption:function(a){at.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d);b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=z(this.get("data")||[],function(a){if("string"===typeof a||"number"===typeof a)a={name:a};return new V(a,this,this.ecModel)},this);var b=z(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),b=b.concat(a.mapArray(a.getName)))});this._availableNames=b},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&r(this._data,function(a){b[a.get("name")]=!1});b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0);this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&0<=R(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});W("legendToggleSelect","legendselectchanged",C(pk,"toggleSelected"));W("legendSelect","legendselected",C(pk,"select"));W("legendUnSelect","legendunselected",C(pk,"unSelect"));var Jl=F,lA=ma({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Jl)},getContentGroup:function(){return this._contentGroup},render:function(a,b,c){this.resetInner();if(a.get("show",!0)){var d=a.get("align");d&&"auto"!==d||(d="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");this.renderInner(d,a,b,c);b=a.getBoxLayoutParams();c={width:c.getWidth(),height:c.getHeight()};var e=a.get("padding"),f=Ia(b,c,e),d=this.layoutInner(a,d,f);b=Ia(H({width:d.width,height:d.height},b),c,e);this.group.attr("position",[b.x-d.x,b.y-d.y]);this.group.add(this._backgroundEl=Yq(d,a))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(a,b,c,d){var e=this.getContentGroup(),f=za(),g=b.get("selectedMode");r(b.getData(),function(h,k){var l=h.get("name");if(this.newlineDisabled||""!==l&&"\n"!==l){var m=c.getSeriesByName(l)[0];if(!f.get(l)){if(m){var p=m.getData(),n=p.getVisual("color");"function"===typeof n&&(n=n(m.getDataParams(0)));var q=p.getVisual("legendSymbol")||"roundRect",p=p.getVisual("symbol");this._createItem(l,k,h,b,q,p,a,n,g).on("click",C(Zq,l,d)).on("mouseover",C($q,m,null,d)).on("mouseout",C(ar,m,null,d));f.set(l,!0)}else c.eachRawSeries(function(c){if(!f.get(l)&&c.legendDataProvider){var e=c.legendDataProvider(),m=e.indexOfName(l);0>m||(e=e.getItemVisual(m,"color"),this._createItem(l,k,h,b,"roundRect",null,a,e,g).on("click",C(Zq,l,d)).on("mouseover",C($q,c,l,d)).on("mouseout",C(ar,c,l,d)),f.set(l,!0))}},this);D&&(f.get(l)||console.warn(l+" series not exists. Legend data should be same with series name or data name."))}}else e.add(new Jl({newline:!0}))},this)},_createItem:function(a,b,c,d,e,f,g,h,k){var l=d.get("itemWidth"),m=d.get("itemHeight"),p=d.get("inactiveColor"),n=d.isSelected(a),q=new Jl,t=c.getModel("textStyle"),r=c.get("icon");c=c.getModel("tooltip");var u=c.parentModel;e=r||e;q.add(jb(e,0,0,l,m,n?h:p,!0));r||!f||f===e&&"none"!=f||(e=.8*m,"none"===f&&(f="circle"),q.add(jb(f,(l-e)/2,(m-e)/2,e,e,n?h:p)));f="left"===g?l+5:-5;h=d.get("formatter");l=a;"string"===typeof h&&h?l=h.replace("{name}",null!=a?a:""):"function"===typeof h&&(l=h(a));q.add(new P({style:ua({},t,{text:l,x:f,y:m/2,textFill:n?t.getTextColor():p,textAlign:g,textVerticalAlign:"middle"})}));d=new ga({shape:q.getBoundingRect(),invisible:!0,tooltip:c.get("show")?I({content:a,formatter:u.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});q.add(d);q.eachChild(function(a){a.silent=!0});d.silent=!k;this.getContentGroup().add(q);T(q);q.__legendDataIndex=b;return q},layoutInner:function(a,b,c){b=this.getContentGroup();kf(a.get("orient"),b,a.get("itemGap"),c.width,c.height);a=b.getBoundingRect();b.attr("position",[-a.x,-a.y]);return this.group.getBoundingRect()}});Ua(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})});U.registerSubTypeDefaulter("legend",function(){return"plain"});var bt=at.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=ed({},a);bt.superCall(this,"init",a,b,c,d);br(this,a,e)},mergeOption:function(a,b){bt.superCall(this,"mergeOption",a,b);br(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),ct=F,Gh=["width","height"],dt=["x","y"],Kl=lA.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Kl.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new ct);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new ct)},resetInner:function(){Kl.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d){function e(a,c){var e=a+"DataIndex",e=Me(b.get("pageIcons",!0)[b.getOrient().name][c],{onclick:A(f._pageGo,f,e,b,d)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});e.name=a;g.add(e)}var f=this;Kl.superCall(this,"renderInner",a,b,c,d);var g=this._controllerGroup,h=b.get("pageIconSize",!0);x(h)||(h=[h,h]);e("pagePrev",0);a=b.getModel("pageTextStyle");g.add(new P({name:"pageText",style:{textFill:a.getTextColor(),font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));e("pageNext",1)},layoutInner:function(a,b,c){b=this.getContentGroup();var d=this._containerGroup,e=this._controllerGroup,f=a.getOrient().index,g=Gh[f],h=Gh[1-f],k=dt[1-f];kf(a.get("orient"),b,a.get("itemGap"),f?c.width:null,f?null:c.height);kf("horizontal",e,a.get("pageButtonItemGap",!0));var l=b.getBoundingRect(),m=e.getBoundingRect(),p=this._showController=l[g]>c[g],n=[-l.x,-l.y];n[f]=b.position[f];var q=[0,0],t=[-m.x,-m.y],r=pa(a.get("pageButtonGap",!0),a.get("itemGap",!0));p&&("end"===a.get("pageButtonPosition",!0)?t[f]+=c[g]-m[g]:q[f]+=m[g]+r);t[1-f]+=l[h]/2-m[h]/2;b.attr("position",n);d.attr("position",q);e.attr("position",t);n=this.group.getBoundingRect();n={x:0,y:0};n[g]=p?c[g]:l[g];n[h]=Math.max(l[h],m[h]);n[k]=Math.min(0,m[k]+t[1-f]);d.__rectSize=c[g];p?(e={x:0,y:0},e[g]=Math.max(c[g]-m[g]-r,0),e[h]=n[h],d.setClipPath(new ga({shape:e})),d.__rectSize=e[g]):e.eachChild(function(a){a.attr({invisible:!0,silent:!0})});c=this._getPageInfo(a);null!=c.pageIndex&&Z(b,{position:c.contentPosition},p?a:!1);this._updatePageInfoView(a,c);return n},_pageGo:function(a,b,c){a=this._getPageInfo(b)[a];null!=a&&c.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;r(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"];if(d=c.childOfName(d))d.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),d.cursor=e?"pointer":"default"});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,f=null!=f?f+1:0,g=b.pageCount;d&&e&&d.setStyle("text",ya(e)?e.replace("{current}",f).replace("{total}",g):e({current:f,total:g}))},_getPageInfo:function(a){function b(a){var b=a.getBoundingRect().clone();b[l]+=a.position[g];return b}var c=a.get("scrollDataIndex",!0),d=this.getContentGroup(),e=d.getBoundingRect(),f=this._containerGroup.__rectSize,g=a.getOrient().index,h=Gh[g],k=Gh[1-g],l=dt[g];a=d.position.slice();var m,p,n,q;this._showController?d.eachChild(function(a){a.__legendDataIndex===c&&(q=a)}):q=d.childAt(0);var t=f?Math.ceil(e[h]/f):0;if(q){m=q.getBoundingRect();var r=q.position[g]+m[l];a[g]=-r-e[l];m=Math.floor(t*(r+m[l]+f/2)/e[h]);m=e[h]&&t?Math.max(0,Math.min(t-1,m)):-1;var u={x:0,y:0};u[h]=f;u[k]=e[k];u[l]=-a[g]-e[l];var w,z=d.children();d.eachChild(function(a,c){var d=b(a);d.intersect(u)&&(null==w&&(w=c),n=a.__legendDataIndex);c===z.length-1&&d[l]+d[h]<=u[l]+u[h]&&(n=null)});if(null!=w)if(d=b(z[w]),u[l]=d[l]+d[h]-u[h],0>=w&&d[l]>=u[l])p=null;else{for(;0<w&&b(z[w-1]).intersect(u);)w--;p=z[w].__legendDataIndex}}return{contentPosition:a,pageIndex:m,pageCount:t,pagePrevDataIndex:p,pageNextDataIndex:n}}});W("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})});ib({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var cr=r,Hx=Zm,Ex=["","-webkit-","-moz-","-o-"];qk.prototype={constructor:qk,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Gx(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c=this._zr,d;c&&c.painter&&(d=c.painter.getViewportRootOffset())&&(a+=d.offsetLeft,b+=d.offsetTop);c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(A(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var Hh=new ga({shape:{x:-1,y:-1,width:2,height:2}});ma({type:"tooltip",init:function(a,b){ba.node||(this._tooltipContent=new qk(b.getDom(),b))},render:function(a,b,c){ba.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");Gq("itemTooltip",this._api,A(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!ba.node){var e=d.dispatchAction||A(c.dispatchAction,c);this._ticket="";var f=d.dataByCoordSys;d.tooltip&&null!=d.x&&null!=d.y?(Hh.position=[d.x,d.y],Hh.update(),Hh.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:Hh},e)):f?this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e):null!=d.seriesIndex?this._manuallyAxisShowTip(a,b,c,d)||(a=Zs(d,b),b=a.point[0],c=a.point[1],null!=b&&null!=c&&this._tryShow({offsetX:b,offsetY:c,position:d.position,target:a.el,event:{}},e)):null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target,event:{}},e))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||A(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g&&(b=b.getSeriesByIndex(e))&&(g=b.getData(),a=rk([g.getItemModel(f),b,(b.coordinateSystem||{}).model,a]),"axis"===a.get("trigger")))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=A(b,this);clearTimeout(this._showTimout);0<c?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],f=[],g=rk([b.tooltipOption,this._tooltipModel]);r(a,function(a){r(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,g=[];if(b&&null!=d){var h=Nq(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);r(a.seriesDataIndices,function(e){var k=c.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;var l=k&&k.getDataParams(e);l.axisDim=a.axisDim;l.axisIndex=a.axisIndex;l.axisType=a.axisType;l.axisId=a.axisId;l.axisValue=ij(b.axis,d);l.axisValueLabel=h;l&&(f.push(l),g.push(k.formatTooltip(e,!0)))});e.push((h?la(h)+"\x3cbr /\x3e":"")+g.join("\x3cbr /\x3e"))}})},this);e.reverse();var e=e.join("\x3cbr /\x3e\x3cbr /\x3e"),h=b.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(g,h,d[0],d[1],this._tooltipContent,f):this._showTooltipContent(g,e,f,Math.random(),d[0],d[1],h)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),f=b.dataModel||e,g=b.dataIndex;b=b.dataType;var h=f.getData(),k=rk([h.getItemModel(g),f,e&&(e.coordinateSystem||{}).model,this._tooltipModel]),e=k.get("trigger");if(null==e||"item"===e){var l=f.getDataParams(g,b),m=f.formatTooltip(g,!1,b),p="item_"+f.name+"_"+g;this._showOrMove(k,function(){this._showTooltipContent(k,m,l,p,a.offsetX,a.offsetY,a.position,a.target)});c({type:"showTip",dataIndexInside:g,dataIndex:h.getRawIndex(g),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;"string"===typeof d&&(d={content:d,formatter:d});var e=new V(d,this._tooltipModel,this._ecModel),f=e.get("content"),g=Math.random();this._showOrMove(e,function(){this._showTooltipContent(e,f,e.get("formatterParams")||{},g,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,f,g,h){this._ticket="";if(a.get("showContent")&&a.get("show")){var k=this._tooltipContent,l=a.get("formatter");g=g||a.get("position");l&&"string"===typeof l?b=Fi(l,c,!0):"function"===typeof l&&(b=A(function(b,d){b===this._ticket&&(k.setContent(d),this._updatePosition(a,g,e,f,k,c,h))},this),this._ticket=d,b=l(c,d,b));k.setContent(b);k.show(a);this._updatePosition(a,g,e,f,k,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),k=this._api.getHeight();b=b||a.get("position");var l=e.getSize(),m=a.get("align"),p=a.get("verticalAlign"),n=g&&g.getBoundingRect().clone();g&&n.applyTransform(g.transform);"function"===typeof b&&(b=b([c,d],f,e.el,n,{viewSize:[h,k],contentSize:l.slice()}));if(x(b))c=B(b[0],h),d=B(b[1],k);else if(Q(b))b.width=l[0],b.height=l[1],m=Ia(b,{width:h,height:k}),c=m.x,d=m.y,p=m=null;else{if("string"===typeof b&&g){c=l[0];d=l[1];g=f=0;var q=n.width,t=n.height;switch(b){case "inside":f=n.x+q/2-c/2;g=n.y+t/2-d/2;break;case "top":f=n.x+q/2-c/2;g=n.y-d-5;break;case "bottom":f=n.x+q/2-c/2;g=n.y+t+5;break;case "left":f=n.x-c-5;g=n.y+t/2-d/2;break;case "right":f=n.x+q+5,g=n.y+t/2-d/2}b=[f,g]}else b=c,n=d,c=m?null:20,d=p?null:20,g=dr(e.el),f=g.width,g=g.height,null!=c&&(b=b+f+c>h?b-(f+c):b+c),null!=d&&(n=n+g+d>k?n-(g+d):n+d),b=[b,n];c=b[0];d=b[1]}m&&(c-="center"===m||"middle"===m?l[0]/2:"right"===m?l[0]:0);p&&(d-="center"===p||"middle"===p?l[1]/2:"bottom"===p?l[1]:0);a.get("confine")&&(a=c,l=d,p=dr(e.el),m=p.width,p=p.height,a=Math.min(a+m,h)-m,l=Math.min(l+p,k)-p,a=Math.max(a,0),l=Math.max(l,0),b=[a,l],c=b[0],d=b[1]);e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;c&&r(b,function(b,e){var d=b.dataByAxis||{},g=(a[e]||{}).dataByAxis||[];(c&=d.length===g.length)&&r(d,function(a,b){var d=g[b]||{},e=a.seriesDataIndices||[],f=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===f.length)&&r(e,function(a,b){var d=f[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})});this._lastDataByCoordSys=a;return!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){ba.node||(this._tooltipContent.hide(),jk("itemTooltip",b))}});W({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});W({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});Og.prototype={constructor:Og,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:Ba.prototype.dataToCoord,radiusToData:Ba.prototype.coordToData};ja(Og,Ba);Pg.prototype={constructor:Pg,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:Ba.prototype.dataToCoord,angleToData:Ba.prototype.coordToData};ja(Pg,Ba);var Ih=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new Og;this._angleAxis=new Pg;this._radiusAxis.polar=this._angleAxis.polar=this};Ih.prototype={type:"polar",axisPointerEnabled:!0,constructor:Ih,dimensions:["radius","angle"],model:null,containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;c.scale.type===a&&b.push(c);d.scale.type===a&&b.push(d);return b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){a=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent();a=Math.min(e[0],e[1]);e=Math.max(e[0],e[1]);d.inverse?a=e-360:e=a+360;d=Math.sqrt(b*b+c*c);b=Math.atan2(-(c/d),b/d)/Math.PI*180;for(c=b<a?1:-1;b<a||b>e;)b+=360*c;return[d,b]},coordToPoint:function(a){var b=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*b+this.cx,-Math.sin(a)*b+this.cy]}};var Ll=U.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});K(Ll.prototype,ud);me("angle",Ll,fr,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});me("radius",Ll,fr,{splitNumber:5});ib({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b;this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this);return b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});ab.register("polar",{dimensions:Ih.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("polar",function(a,e){var d=new Ih(e);d.update=Jx;var g=d.getRadiusAxis(),h=d.getAngleAxis(),k=a.findAxisModel("radiusAxis"),l=a.findAxisModel("angleAxis");gr(g,k);gr(h,l);g=a.get("center");h=b.getWidth();k=b.getHeight();d.cx=B(g[0],h);d.cy=B(g[1],k);g=d.getRadiusAxis();h=Math.min(h,k)/2;h=B(a.get("radius"),h);g.inverse?g.setExtent(h,0):g.setExtent(0,h);c.push(d);a.coordinateSystem=d;d.model=a});a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];if(D&&!c)throw Error('Polar "'+na(b.get("polarIndex"),b.get("polarId"),0)+'" not found');b.coordinateSystem=c.coordinateSystem}});return c}});var mA=["axisLine","axisLabel","axisTick","splitLine","splitArea"];xb.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var c=a.axis,d=c.polar,e=d.getRadiusAxis().getExtent(),f=c.getTicksCoords();"category"!==c.type&&f.pop();r(mA,function(b){if(a.get(b+".show")&&(!c.scale.isBlank()||"axisLine"===b))this["_"+b](a,d,f,e)},this)}},_axisLine:function(a,b,c,d){a=a.getModel("axisLine.lineStyle");b=new td({shape:{cx:b.cx,cy:b.cy,r:d[b.getRadiusAxis().inverse?0:1]},style:a.getLineStyle(),z2:1,silent:!0});b.style.fill=null;this.group.add(b)},_axisTick:function(a,b,c,d){var e=a.getModel("axisTick"),f=(e.get("inside")?-1:1)*e.get("length"),g=d[b.getRadiusAxis().inverse?0:1];c=z(c,function(a){return new Qa({shape:hr(b,[g,g+f],a)})});this.group.add(ic(c,{style:H(e.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,b,c,d){for(var e=a.axis,f=a.get("data"),g=a.getModel("axisLabel"),h=a.getFormattedLabels(),k=g.get("margin"),e=e.getLabelsCoords(),l=0;l<c.length;l++){var m=d[b.getRadiusAxis().inverse?0:1],p=b.coordToPoint([m+k,e[l]]),n=b.cx,q=b.cy,n=.3>Math.abs(p[0]-n)/m?"center":p[0]>n?"left":"right",m=.3>Math.abs(p[1]-q)/m?"middle":p[1]>q?"top":"bottom";f&&f[l]&&f[l].textStyle&&(g=new V(f[l].textStyle,g,g.ecModel));q=new P({silent:!0});this.group.add(q);ua(q.style,g,{x:p[0],y:p[1],textFill:g.getTextColor()||a.get("axisLine.lineStyle.color"),text:h[l],textAlign:n,textVerticalAlign:m})}},_splitLine:function(a,b,c,d){for(var e=a.getModel("splitLine").getModel("lineStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],k=0;k<c.length;k++){var l=g++%f.length;h[l]=h[l]||[];h[l].push(new Qa({shape:hr(b,d,c[k])}))}for(k=0;k<h.length;k++)this.group.add(ic(h[k],{style:H({stroke:f[k%f.length]},e.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,b,c,d){var e=a.getModel("splitArea").getModel("areaStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],k=Math.PI/180,l=-c[0]*k,m=Math.min(d[0],d[1]);d=Math.max(d[0],d[1]);a=a.get("clockwise");for(var p=1;p<c.length;p++){var n=g++%f.length;h[n]=h[n]||[];h[n].push(new Dc({shape:{cx:b.cx,cy:b.cy,r0:m,r:d,startAngle:l,endAngle:-c[p]*k,clockwise:a},silent:!0}));l=-c[p]*k}for(p=0;p<h.length;p++)this.group.add(ic(h[p],{style:H({fill:f[p%f.length]},e.getAreaStyle()),silent:!0}))}});var nA=["axisLine","axisTickLabel","axisName"],oA=["splitLine","splitArea"];xb.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var c=a.axis,d=c.polar,e=d.getAngleAxis(),f=c.getTicksCoords(),g=e.getExtent()[0],h=c.getExtent(),e={position:[d.cx,d.cy],rotation:g/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1},e=new db(a,e);r(nA,e.add,e);this.group.add(e.getGroup());r(oA,function(b){if(a.get(b+".show")&&!c.scale.isBlank())this["_"+b](a,d,g,h,f)},this)}},_splitLine:function(a,b,c,d,e){a=a.getModel("splitLine").getModel("lineStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=0;g<e.length;g++){var h=d++%c.length;f[h]=f[h]||[];f[h].push(new td({shape:{cx:b.cx,cy:b.cy,r:e[g]},silent:!0}))}for(g=0;g<f.length;g++)this.group.add(ic(f[g],{style:H({stroke:c[g%c.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,b,c,d,e){a=a.getModel("splitArea").getModel("areaStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=e[0],h=1;h<e.length;h++){var k=d++%c.length;f[k]=f[k]||[];f[k].push(new Dc({shape:{cx:b.cx,cy:b.cy,r0:g,r:e[h],startAngle:0,endAngle:2*Math.PI},silent:!0}));g=e[h]}for(h=0;h<f.length;h++)this.group.add(ic(f[h],{style:H({fill:c[h%c.length]},a.getAreaStyle()),silent:!0}))}});var qA=nd.extend({makeElOption:function(a,b,c,d,e){var f=c.axis;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);var g=f.polar,h=g.getOtherAxis(f).getExtent(),k;k=f["dataTo"+Pf(f.dim)](b);var l=d.get("type");if(l&&"none"!==l){var m=lk(d),f=pA[l](f,g,k,h,m);f.style=m;a.graphicKey=f.type;a.pointer=f}m=d.get("label.margin");h=c.axis;b=h.dataToCoord(b);f=g.getAngleAxis().getExtent()[0];f=f/180*Math.PI;k=g.getRadiusAxis().getExtent();"radius"===h.dim?(h=Yb(),Vc(h,h,f),Nb(h,h,[g.cx,g.cy]),b=Eb([b,-m],h),g=c.getModel("axisLabel").get("rotate")||0,m=db.innerTextLayout(f,g*Math.PI/180,-1),g=m.textAlign,m=m.textVerticalAlign):(f=k[1],b=g.coordToPoint([f+m,b]),m=g.cx,h=g.cy,g=.3>Math.abs(b[0]-m)/f?"center":b[0]>m?"left":"right",m=.3>Math.abs(b[1]-h)/f?"middle":b[1]>h?"top":"bottom");Mq(a,c,d,e,{position:b,align:g,verticalAlign:m})}}),pA={line:function(a,b,c,d,e){return"angle"===a.dim?{type:"Line",shape:nk(b.coordToPoint([d[0],c]),b.coordToPoint([d[1],c]))}:{type:"Circle",shape:{cx:b.cx,cy:b.cy,r:c}}},shadow:function(a,b,c,d,e){e=a.getBandWidth();var f=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:d[0],r:d[1],startAngle:(-c-e/2)*f,endAngle:(-c+e/2)*f,clockwise:!0}}:{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:c-e/2,r:c+e/2,startAngle:0,endAngle:2*Math.PI,clockwise:!0}}}};xb.registerAxisPointerClass("PolarAxisPointer",qA);oa(C(function(a,b,c){var d=c.getWidth(),e=c.getHeight(),f={},g={},h=Ix(Fa(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));b.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,k=c.getAngleAxis(),n=c.getBaseAxis(),q=er(a),t=h[n.dim][q],r=t.offset,u=t.width,w=c.getOtherAxis(n),n=a.get("center")||["50%","50%"],z=B(n[0],d),y=B(n[1],e),E=a.get("barMinHeight")||0,x=a.get("barMinAngle")||0,A=w.getExtent()[0],C=w.model.get("max"),D=w.model.get("min"),n=[a.coordDimToDataDim("radius")[0],a.coordDimToDataDim("angle")[0]],F=b.mapArray(n,function(a,b){return c.dataToPoint([a,b])},!0);f[q]=f[q]||[];g[q]=g[q]||[];b.each(a.coordDimToDataDim(w.dim)[0],function(a,d){if(!isNaN(a)){f[q][d]||(f[q][d]={p:A,n:A},g[q][d]={p:A,n:A});var e=0<=a?"p":"n",h=c.pointToCoord(F[d]),l=g[q][d][e],m,n;if("radius"===w.dim)m=l,n=h[0],l=(-h[1]+r)*Math.PI/180,h=l+u*Math.PI/180,Math.abs(n)<E&&(n=m+(0>n?-1:1)*E),g[q][d][e]=n;else{m=h[0]+r;n=m+u;null!=C&&(a=Math.min(a,C));null!=D&&(a=Math.max(a,D));var p=k.dataToAngle(a);Math.abs(p-l)<x&&(p=l-(0>a?-1:1)*x);var l=-l*Math.PI/180,h=-p*Math.PI/180,t=k.getExtent();p===t[0]&&0<a?p=t[1]:p===t[1]&&0>a&&(p=t[0]);g[q][d][e]=p}b.setItemLayout(d,{cx:z,cy:y,r0:m,r:n,startAngle:l,endAngle:h})}},!0)}},this)},"bar"));ma({type:"polar"});var rA=U.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){U.prototype.init.apply(this,arguments);bd(a.label,["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=Al.getFilledRegions(a.regions,a.map,a.nameMap);this._optionModelMap=Cd(a.regions||[],function(a,d){d.name&&a.set(d.name,new V(d,b));return a},za());this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new V(null,this,this.ecModel)},getFormattedLabel:function(a,b){var c=this.getRegionModel(a).get("label."+b+".formatter"),d={name:a};if("function"===typeof c)return d.status=b,c(d);if("string"===typeof c)return c.replace("{a}",null!=a?a:"")},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});M(rA,vl);ma({type:"geo",init:function(a,b){var c=new ug(b,!0);this._mapDraw=c;this.group.add(c.group)},render:function(a,b,c,d){if(!d||"geoToggleSelect"!==d.type||d.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,b,c,this,d):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});sk("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});sk("select",{type:"geoSelect",event:"geoselected"});sk("unSelect",{type:"geoUnSelect",event:"geounselected"});var sA=["rect","polygon","keep","clear"],jr=r,vk={lineX:mr(0),lineY:mr(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&hd(c.range,a[0],a[1])},rect:function(a,b,c){b=c.range;if(!a||1>=b.length)return!1;c=a.x;var d=a.y,e=a.width,f=a.height,g=b[0];if(hd(b,c,d)||hd(b,c+e,d)||hd(b,c,d+f)||hd(b,c+e,d+f)||S.create(a).contain(g[0],g[1])||Qg(c,d,c+e,d,b)||Qg(c,d,c,d+f,b)||Qg(c+e,d,c+e,d+f,b)||Qg(c,d+f,c+e,d+f,b))return!0}}},Hc=r,Sg=R,Ml=["dataToPoint","pointToData"],nr="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" "),pe=Rg.prototype;pe.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,e){(a.coordRanges||(a.coordRanges=[])).push(b);a.coordRange||(a.coordRange=b,b=Nl[a.brushType](0,e,b),a.__rangeOffset={offset:et[a.brushType](b.values,a.range,[1,1]),xyMinMax:b.xyMinMax})})};pe.matchOutputRanges=function(a,b,c){Hc(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&r(d.coordSyses,function(d){var e=Nl[a.brushType](1,d,a.range);c(a,e.values,d,b)})},this)};pe.setInputRanges=function(a,b){Hc(a,function(a){var c=this.findTargetInfo(a,b);D&&(ca(!c||!0===c||a.coordRange,"coordRange must be specified when coord index specified."),ca(!c||!0!==c||a.range,"range must be specified in global brush."));a.range=a.range||[];if(c&&!0!==c){a.panelId=c.panelId;var c=Nl[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?et[a.brushType](c.values,e.offset,Mx(c.xyMinMax,e.xyMinMax)):c.values}},this)};pe.makePanelOpts=function(a,b){return z(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:eq(d),isTargetByCursor:gq(d,a,c.coordSysModel),getLinearBrushOtherExtent:fq(d)}})};pe.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return!0===a||a&&0<=Sg(a.coordSyses,b.coordinateSystem)};pe.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=Oe(b,a,{includeMainTypes:nr}),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(e=0;e<ft.length;e++)if(ft[e](d,f))return f}return!0};var Lx={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=za(),g={},h={};if(c||d||e)Hc(c,function(a){a=a.axis.grid.model;f.set(a.id,a);g[a.id]=!0}),Hc(d,function(a){a=a.axis.grid.model;f.set(a.id,a);h[a.id]=!0}),Hc(e,function(a){f.set(a.id,a);g[a.id]=!0;h[a.id]=!0}),f.each(function(a){var e=[];Hc(a.coordinateSystem.getCartesians(),function(a,b){(0<=Sg(c,a.getAxis("x").model)||0<=Sg(d,a.getAxis("y").model))&&e.push(a)});b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:e[0],coordSyses:e,getPanelRect:gt.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})})},geo:function(a,b){Hc(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:gt.geo})})}},ft=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;!e&&c&&(e=c.axis.grid.model);!e&&d&&(e=d.axis.grid.model);return e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],gt={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();b.applyTransform(ad(a));return b}},Nl={lineX:C(or,0),lineY:C(or,1),rect:function(a,b,c){var d=b[Ml[a]]([c[0][0],c[1][0]]);a=b[Ml[a]]([c[0][1],c[1][1]]);d=[uk([d[0],a[0]]),uk([d[1],a[1]])];return{values:d,
xyMinMax:d}},polygon:function(a,b,c){var d=[[Infinity,-Infinity],[Infinity,-Infinity]];return{values:z(c,function(c){c=b[Ml[a]](c);d[0][0]=Math.min(d[0][0],c[0]);d[1][0]=Math.min(d[1][0],c[1]);d[0][1]=Math.max(d[0][1],c[0]);d[1][1]=Math.max(d[1][1],c[1]);return c}),xyMinMax:d}}},et={lineX:C(pr,0),lineY:C(pr,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return z(a,function(a,e){return[a[0]-c[0]*b[e][0],a[1]-c[1]*b[e][1]]})}},ht=["inBrush","outOfBrush"],it=le.VISUAL.BRUSH;oa(it,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});(b.brushTargetManager=new Rg(b.option,a)).setInputRanges(b.areas,a)})});ra(it,function(a,b,c){var d=[],e,f;a.eachComponent({mainType:"brush"},function(b,c){function g(a){return"all"===q||t[a]}function h(a,b){var c=a.coordinateSystem;w|=c.hasAxisBrushed();g(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(v[b]=1)})}function m(c,d,e){var f=sr(c);if(f&&!Px(b,d)&&(r(A,function(d){f[d.brushType]&&b.brushTargetManager.controlSeries(d,c,a)&&e.push(d);w|=!!e.length}),g(d)&&e.length)){var h=c.getData();h.each(function(a){rr(f,e,h,a)&&(v[a]=1)})}}var p={brushId:b.id,brushIndex:c,brushName:b.name,areas:G(b.areas),selected:[]};d.push(p);var n=b.option,q=n.brushLink,t=[],v=[],u=[],w=0;c||(e=n.throttleType,f=n.throttleDelay);var A=z(b.areas,function(a){return Qx(H({boundingRect:tA[a.brushType](a)},a))}),y=tk(b.option,ht,function(a){a.mappingMethod="fixed"});x(q)&&r(q,function(a){t[a]=1});a.eachSeries(function(a,b){var c=u[b]=[];"parallel"===a.subType?h(a,b,c):m(a,b,c)});a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};p.selected.push(c);var d=sr(a),e=u[b],f=a.getData(),h=g(b)?function(a){return v[a]?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return rr(d,e,f,a)?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"};(g(b)?w:e.length)&&lr(ht,y,f,h)})});Nx(b,e,f,d,c)});var tA={lineX:Ga,lineY:Ga,rect:function(a){return tr(a.range)},polygon:function(a){var b;a=a.range;for(var c=0,d=a.length;c<d;c++){b=b||[[Infinity,-Infinity],[Infinity,-Infinity]];var e=a[c];e[0]<b[0][0]&&(b[0][0]=e[0]);e[0]>b[0][1]&&(b[0][1]=e[0]);e[1]<b[1][0]&&(b[1][0]=e[1]);e[1]>b[1][1]&&(b[1][1]=e[1])}return b&&tr(b)}},uA=["#ddd"];ib({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&kr(c,a,["inBrush","outOfBrush"]);c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:uA}},setAreas:function(a){D&&(ca(x(a)),r(a,function(a){ca(a.brushType,"Illegal areas")}));a&&(this.areas=z(a,function(a){return ur(this.option,a)},this))},setBrushOption:function(a){this.brushOption=ur(this.option,a);this.brushType=this.brushOption.brushType}});ma({type:"brush",init:function(a,b){this.ecModel=a;this.api=b;(this._brushController=new $d(b.getZr())).on("brush",A(this._onBrush,this)).mount()},render:function(a){this.model=a;return Tg.apply(this,arguments)},updateView:Tg,updateLayout:Tg,updateVisual:Tg,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);b.isEnd&&!b.removeOnClick||this.api.dispatchAction({type:"brush",brushId:c,areas:G(a),$from:c})}});W({type:"brush",event:"brush",update:"updateView"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})});W({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var Oc={};wk.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:G({rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"})};var Bf=wk.prototype;Bf.render=Bf.updateView=Bf.updateLayout=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},function(a){d=a.brushType;e=a.brushOption.brushMode||"single";f|=a.areas.length});this._brushType=d;this._brushMode=e;r(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===e:"clear"===b?f:b===d)?"emphasis":"normal")})};Bf.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};r(a.get("type",!0),function(a){b[a]&&(c[a]=b[a])});return c};Bf.onclick=function(a,b,c){a=this._brushType;var d=this._brushMode;"clear"===c?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?a:a===c?!1:c,brushMode:"keep"===c?"multiple"===d?"single":"multiple":d}})};Oc.brush=wk;cb(function(a,b){var c=a&&a.brush;x(c)||(c=c?[c]:[]);if(c.length){var d=[];r(c,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(d=d.concat(a))});c=a&&a.toolbox;x(c)&&(c=c[0]);c||(c={feature:{}},a.toolbox=[c]);c=c.feature||(c.feature={});c=c.brush||(c.brush={});c=c.type||(c.type=[]);c.push.apply(c,d);Kx(c);b&&!c.length&&c.push.apply(c,sA)}});hc.prototype={constructor:hc,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){a=Ge(a);var b=a.getFullYear(),c=a.getMonth()+1,c=10>c?"0"+c:c,d=a.getDate(),d=10>d?"0"+d:d,e=a.getDay(),e=Math.abs((e+7-this.getFirstDayOfWeek())%7);return{y:b,m:c,d:d,day:e,time:a.getTime(),formatedDate:b+"-"+c+"-"+d,date:a}},getNextNDay:function(a,b){b=b||0;if(0===b)return this.getDateInfo(a);a=new Date(this.getDateInfo(a).time);a.setDate(a.getDate()+b);return this.getDateInfo(a)},update:function(a,b){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,d=["width","height"],e=this._model.get("cellSize").slice(),f=this._model.getBoxLayoutParams(),g="horizontal"===this._orient?[c,7]:[7,c];r([0,1],function(a){null!=e[a]&&"auto"!==e[a]&&(f[d[a]]=e[a]*g[a])});var c={width:b.getWidth(),height:b.getHeight()},h=this._rect=Ia(f,c);r([0,1],function(a){if(null==e[a]||"auto"===e[a])e[a]=h[d[a]]/g[a]});this._sw=e[0];this._sh=e[1]},dataToPoint:function(a,b){x(a)&&(a=a[0]);null==b&&(b=!0);var c=this.getDateInfo(a),d=this._rangeInfo;if(b&&!(c.time>=d.start.time&&c.time<=d.end.time))return[NaN,NaN];var e=c.day,c=this._getRangeInfo([d.start.time,c.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]},pointToData:function(a){return(a=this.pointToDate(a))&&a.time},dataToRect:function(a,b){var c=this.dataToPoint(a,b);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1;a=Math.floor((a[1]-this._rect.y)/this._sh)+1;var c=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,b-1,c):this._getDateByWeeksAndDay(b,a-1,c)},convertToPixel:C(vr,"dataToPoint"),convertFromPixel:C(vr,"pointToData"),_initRangeOption:function(){var a=this._model.get("range"),b=a;x(b)&&1===b.length&&(b=b[0]);/^\d{4}$/.test(b)&&(a=[b+"-01-01",b+"-12-31"]);if(/^\d{4}[\/|-]\d{1,2}$/.test(b)){var a=this.getDateInfo(b),c=a.date;c.setMonth(c.getMonth()+1);c=this.getNextNDay(c,-1);a=[a.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(b)&&(a=[b,b]);b=this._getRangeInfo(a);b.start.time>b.end.time&&a.reverse();return a},_getRangeInfo:function(a){a=[this.getDateInfo(a[0]),this.getDateInfo(a[1])];var b;a[0].time>a[1].time&&(b=!0,a.reverse());var c=Math.floor(a[1].time/864E5)-Math.floor(a[0].time/864E5)+1,d=new Date(a[0].time),e=d.getDate(),f=a[1].date.getDate();d.setDate(e+c-1);if(d.getDate()!==f)for(var g=0<d.getTime()-a[1].time?1:-1;d.getDate()!==f&&0<(d.getTime()-a[1].time)*g;)c-=g,d.setDate(e+c-1);d=Math.floor((c+a[0].day+6)/7);e=b?-d+1:d-1;b&&a.reverse();return{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:d,nthWeek:e,fweek:a[0].day,lweek:a[1].day}},_getDateByWeeksAndDay:function(a,b,c){c=this._getRangeInfo(c);if(a>c.weeks||0===a&&b<c.fweek||a===c.weeks&&b>c.lweek)return!1;var d=new Date(c.start.time);d.setDate(c.start.d+(7*(a-1)-c.fweek+b));return this.getDateInfo(d)}};hc.dimensions=hc.prototype.dimensions;hc.getDimensionsInfo=hc.prototype.getDimensionsInfo;hc.create=function(a,b){var c=[];a.eachComponent("calendar",function(d){var e=new hc(d,a,b);c.push(e);d.coordinateSystem=e});a.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("calendarIndex")||0])});return c};ab.register("calendar",hc);var jt=U.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,b,c,d){var e=ed({},a);jt.superApply(this,"init",arguments);wr(a,e)},mergeOption:function(a,b){jt.superApply(this,"mergeOption",arguments);wr(this.option,a)}}),vA={EN:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CN:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},wA={EN:"SMTWTFS".split(""),CN:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")};ma({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,b,c){b=this.group;b.removeAll();var d=a.coordinateSystem;c=d.getRangeInfo();d=d.getOrient();this._renderDayRect(a,c,b);this._renderLines(a,c,d,b);this._renderYearText(a,c,d,b);this._renderMonthText(a,d,b);this._renderWeekText(a,c,d,b)},_renderDayRect:function(a,b,c){var d=a.coordinateSystem;a=a.getModel("itemStyle.normal").getItemStyle();for(var e=d.getCellWidth(),f=d.getCellHeight(),g=b.start.time;g<=b.end.time;g=d.getNextNDay(g,1).time){var h=d.dataToRect([g],!1).tl,h=new ga({shape:{x:h[0],y:h[1],width:e,height:f},cursor:"default",style:a});c.add(h)}},_renderLines:function(a,b,c,d){function e(b){f._firstDayOfMonth.push(g.getDateInfo(b));f._firstDayPoints.push(g.dataToRect([b],!1).tl);b=f._getLinePointsOfOneWeek(a,b,c);f._tlpoints.push(b[0]);f._blpoints.push(b[b.length-1]);k&&f._drawSplitline(b,h,d)}var f=this,g=a.coordinateSystem,h=a.getModel("splitLine.lineStyle").getLineStyle(),k=a.get("splitLine.show"),l=h.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];for(var m=b.start,p=0;m.time<=b.end.time;p++)e(m.formatedDate),0===p&&(m=g.getDateInfo(b.start.y+"-"+b.start.m)),m=m.date,m.setMonth(m.getMonth()+1),m=g.getDateInfo(m);e(g.getNextNDay(b.end.time,1).formatedDate);k&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,l,c),h,d);k&&this._drawSplitline(f._getEdgesPoints(f._blpoints,l,c),h,d)},_getEdgesPoints:function(a,b,c){a=[a[0].slice(),a[a.length-1].slice()];c="horizontal"===c?0:1;a[0][c]-=b/2;a[1][c]+=b/2;return a},_drawSplitline:function(a,b,c){a=new Fb({z2:20,shape:{points:a},style:b});c.add(a)},_getLinePointsOfOneWeek:function(a,b,c){a=a.coordinateSystem;b=a.getDateInfo(b);for(var d=[],e=0;7>e;e++){var f=a.getNextNDay(b.time,e),g=a.dataToRect([f.time],!1);d[2*f.day]=g.tl;d[2*f.day+1]=g["horizontal"===c?"bl":"tr"]}return d},_formatterLabel:function(a,b){return"string"===typeof a&&a?an(a,b):"function"===typeof a?a(b):b.nameMap},_yearTextPositionControl:function(a,b,c,d,e){b=b.slice();a=["center","bottom"];"bottom"===d?(b[1]+=e,a=["center","top"]):"left"===d?b[0]-=e:"right"===d?(b[0]+=e,a=["center","top"]):b[1]-=e;e=0;if("left"===d||"right"===d)e=Math.PI/2;return{rotation:e,position:b,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(a,b,c,d){a=a.getModel("yearLabel");if(a.get("show")){var e=a.get("margin"),f=a.get("position");f||(f="horizontal"!==c?"top":"left");var g=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(g[0][0]+g[1][0])/2,k=(g[0][1]+g[1][1])/2,l="horizontal"===c?0:1,g={top:[h,g[l][1]],bottom:[h,g[1-l][1]],left:[g[1-l][0],k],right:[g[l][0],k]},h=b.start.y;+b.end.y>+b.start.y&&(h=h+"-"+b.end.y);k=a.get("formatter");b=this._formatterLabel(k,{start:b.start.y,end:b.end.y,nameMap:h});h=new P({z2:30});ua(h.style,a,{text:b});h.attr(this._yearTextPositionControl(h,g[f],c,f,e));d.add(h)}},_monthTextPositionControl:function(a,b,c,d,e){var f="left",g="top",h=a[0];a=a[1];"horizontal"===c?(a+=e,b&&(f="center"),"start"===d&&(g="bottom")):(h+=e,b&&(g="middle"),"start"===d&&(f="right"));return{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderMonthText:function(a,b,c){a=a.getModel("monthLabel");if(a.get("show")){var d=a.get("nameMap"),e=a.get("margin"),f=a.get("position"),g=a.get("align"),h=[this._tlpoints,this._blpoints];ya(d)&&(d=vA[d.toUpperCase()]||[]);for(var k="start"===f?0:1,l="horizontal"===b?0:1,e="start"===f?-e:e,g="center"===g,m=0;m<h[k].length-1;m++){var p=h[k][m].slice(),n=this._firstDayOfMonth[m];g&&(p[l]=(this._firstDayPoints[m][l]+h[0][m+1][l])/2);var q=a.get("formatter"),t=d[+n.m-1],n={yyyy:n.y,yy:(n.y+"").slice(2),MM:n.m,M:+n.m,nameMap:t},q=this._formatterLabel(q,n),n=new P({z2:30});I(ua(n.style,a,{text:q}),this._monthTextPositionControl(p,g,b,f,e));c.add(n)}}},_weekTextPositionControl:function(a,b,c,d,e){var f="center",g="middle",h=a[0];a=a[1];c="start"===c;"horizontal"===b?(h=h+d+(c?1:-1)*e[0]/2,f=c?"right":"left"):(a=a+d+(c?1:-1)*e[1]/2,g=c?"bottom":"top");return{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderWeekText:function(a,b,c,d){var e=a.getModel("dayLabel");if(e.get("show")){a=a.coordinateSystem;var f=e.get("position"),g=e.get("nameMap"),h=e.get("margin"),k=a.getFirstDayOfWeek();ya(g)&&(g=wA[g.toUpperCase()]||[]);var l=a.getNextNDay(b.end.time,7-b.lweek).time,m=[a.getCellWidth(),a.getCellHeight()],h=B(h,m["horizontal"===c?0:1]);"start"===f&&(l=a.getNextNDay(b.start.time,-(7+b.fweek)).time,h=-h);for(b=0;7>b;b++){var p=a.getNextNDay(l,b),p=a.dataToRect([p.time],!1).center,n;n=Math.abs((b+k)%7);var q=new P({z2:30});I(ua(q.style,e,{text:g[n]}),this._weekTextPositionControl(p,c,f,h,m));d.add(q)}}}});ib({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});ma({type:"title",render:function(a,b,c){this.group.removeAll();if(a.get("show")){b=this.group;var d=a.getModel("textStyle"),e=a.getModel("subtextStyle"),f=a.get("textAlign"),g=a.get("textBaseline"),d=new P({style:ua({},d,{text:a.get("text"),textFill:d.getTextColor()},{disableBox:!0}),z2:10}),h=d.getBoundingRect(),k=a.get("subtext"),e=new P({style:ua({},e,{text:k,textFill:e.getTextColor(),y:h.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),l=a.get("link"),m=a.get("sublink");d.silent=!l;e.silent=!m;if(l)d.on("click",function(){window.open(l,"_"+a.get("target"))});if(m)e.on("click",function(){window.open(m,"_"+a.get("subtarget"))});b.add(d);k&&b.add(e);k=b.getBoundingRect();h=a.getBoxLayoutParams();h.width=k.width;h.height=k.height;c=Ia(h,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));f||(f=a.get("left")||a.get("right"),"middle"===f&&(f="center"),"right"===f?c.x+=c.width:"center"===f&&(c.x+=c.width/2));g||(g=a.get("top")||a.get("bottom"),"center"===g&&(g="middle"),"bottom"===g?c.y+=c.height:"middle"===g&&(c.y+=c.height/2),g=g||"top");b.attr("position",[c.x,c.y]);f={textAlign:f,textVerticalAlign:g};d.setStyle(f);e.setStyle(f);k=b.getBoundingRect();c=c.margin;f=a.getItemStyle(["color","opacity"]);f.fill=a.get("backgroundColor");c=new ga({shape:{x:k.x-c[3],y:k.y-c[0],width:k.width+c[1]+c[3],height:k.height+c[0]+c[2],r:a.get("borderRadius")},style:f,silent:!0});Li(c);b.add(c)}}});U.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var xA=["cartesian2d","polar","singleAxis"],Pc=function(a,b){a=a.slice();var c=z(a,Pf);b=(b||[]).slice();var d=z(b,Pf);return function(e,f){r(a,function(a,h){for(var g={name:a,capital:c[h]},l=0;l<b.length;l++)g[b[l]]=a+d[l];e.call(f,g)})}}("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]),pd=r,Ol=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this.ecModel=d;this._dataZoomModel=c};Ol.prototype={constructor:Ol,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;b.eachSeries(function(c){if(0<=R(xA,c.get("coordinateSystem"))){var d=this._dimName,d=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(c)}},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,c=this.getAxisModel(),d;"x"===a||"y"===a?(d="gridIndex",a="x"===a?"y":"x"):(d="polarIndex",a="angle"===a?"radius":"angle");var e;b.eachComponent(a+"Axis",function(a){(a.get(d)||0)===(c.get(d)||0)&&(e=a)});return e},getMinMaxSpan:function(){return G(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel().axis.scale,d=this._dataZoomModel.getRangePropMode(),e=[0,100],f=[a.start,a.end],g=[];pd(["startValue","endValue"],function(b){g.push(null!=a[b]?c.parse(a[b]):null)});pd([0,1],function(a){var h=g[a],l=f[a];"percent"===d[a]?(null==l&&(l=e[a]),h=c.parse(aa(l,e,b,!0))):l=aa(h,b,e,!0);g[a]=h;f[a]=l});return{valueWindow:mb(g),percentWindow:mb(f)}},reset:function(a){a===this._dataZoomModel&&(this._dataExtent=Sx(this,this._dimName,this.getTargetSeriesModels()),a=this.calculateDataWindow(a.option),this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,Ux(this),xr(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,xr(this,!0))},filterData:function(a){function b(a){return a>=f[0]&&a<=f[1]}if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow;if("none"!==e){var g=this.getOtherAxisModel();a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(e="empty");pd(d,function(a){var d=a.getData(),g=a.coordDimToDataDim(c);"weakFilter"===e?d&&d.filterSelf(function(a){for(var b,c,e,h=0;h<g.length;h++){var k=d.get(g[h],a),l=!isNaN(k),m=k<f[0],k=k>f[1];if(l&&!m&&!k)return!0;l&&(e=!0);m&&(b=!0);k&&(c=!0)}return e&&b&&c}):d&&pd(g,function(c){"empty"===e?a.setData(d.map(c,function(a){return b(a)?a:NaN})):d.filterSelf(c,b)})})}}}};var de=r,Pl=ib({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];b=yr(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=yr(a);K(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;ba.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);zr(this,a);de([["start","startValue"],["end","endValue"]],function(a,d){"value"===this._rangePropMode[d]&&(b[a[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){d=this.dependentModels[b.axis][c];e=d.__dzAxisProxy||(d.__dzAxisProxy=new Ol(b.name,c,this,e));a[b.name+"_"+c]=e},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();Pc(function(b){b=b.axisIndex;a[b]=nb(a[b])},this);"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;Pc(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;if(null==c&&b)return"orient";if(!b)return null==c&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):de(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&Pc(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var f=0,l=e.length;f<l;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d;d.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Pc(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),f=a.get(b.axisId),g=a.ecModel.queryComponents({mainType:b.axis,index:e,id:f})[0];if(D&&!g)throw Error(b.axis+' "'+na(e,f,0)+'" not found');e=g.componentIndex;0>R(d,e)&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;Pc(function(d){var e=a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===b||(c=!1)},this);return c},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;Pc(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,b){var c=this.ecModel;Pc(function(d){de(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;de([["start","startValue"],["end","endValue"]],function(b){if(null!=a[b[0]]||null!=a[b[1]])c[b[0]]=a[b[0]],c[b[1]]=a[b[1]]},this);!b&&zr(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null==a&&null==b){var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()}else return this.getAxisProxy(a,b).getDataValueWindow()},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),Ql=dc.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a;this.ecModel=b;this.api=c},getTargetCoordInfo:function(){var a=this.ecModel,b={};this.dataZoomModel.eachTargetAxis(function(c,d){var e=a.getComponent(c.axis,d);if(e){var f=e.getCoordSysModel();if(f){for(var g=b[f.mainType]||(b[f.mainType]=[]),h,k=0;k<g.length;k++)if(g[k].model===f){h=g[k];break}h||g.push(h={model:f,axisModels:[],coordIndex:f.componentIndex});h.axisModels.push(e)}}},this);return b}});Pl.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Jh=ga,yA=["line","bar","candlestick","scatter"],Rl=Ql.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){Rl.superApply(this,"render",arguments);Pe(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){Rl.superApply(this,"remove",arguments);Sn(this,"_dispatchZoomAction")},dispose:function(){Rl.superApply(this,"dispose",arguments);Sn(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new F;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},d="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},e=ed({},a.option);r(["right","top","width","height"],function(a){"ph"===e[a]&&(e[a]=d[a])});a=Ia(e,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new Jh({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new Jh({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:A(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),a=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=a){var e=d.getDataExtent(a),c=.3*(e[1]-e[0]),e=[e[0]-c,e[1]+c],f=[0,b[1]],g=[[b[0],0],[0,0]],h=[],k=b[0]/(d.count()-1),l=0,m=Math.round(d.count()/b[0]),p;d.each([a],function(a,b){if(0<m&&b%m)l+=k;else{var c=null==a||isNaN(a)||""===a,d=c?0:aa(a,e,f,!0);c&&!p&&b?(g.push([g[g.length-1][0],0]),h.push([h[h.length-1][0],0])):!c&&p&&(g.push([l,0]),h.push([l,0]));g.push([l,d]);h.push([l,d]);l+=k;p=c}});b=this.dataZoomModel;this._displayables.barGroup.add(new Ma({shape:{points:g},style:H({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new Fb({shape:{points:h},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,f){var g=a.getAxisProxy(e.name,f).getTargetSeriesModels();r(g,function(a){if(!(c||!0!==b&&0>R(yA,a.get("type")))){var g=d.getComponent(e.axis,f).axis,h;h={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name];var m,p=a.coordinateSystem;null!=h&&p.getOtherAxis&&(m=p.getOtherAxis(g).inverse);c={thisAxis:g,series:a,thisDim:e.name,otherDim:h,otherAxisInverse:m}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new Jh({draggable:!0,cursor:Ar(this._orient),drift:A(this._onDragMove,this,"all"),onmousemove:function(a){ec(a.event)},ondragstart:A(this._showDataInfo,this,!0),ondragend:A(this._onDragEnd,this),onmouseover:A(this._showDataInfo,this,!0),onmouseout:A(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}}));d.add(new Jh(Li({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));r([0,1],function(a){var e=Me(f.get("handleIcon"),{cursor:Ar(this._orient),draggable:!0,drift:A(this._onDragMove,this,a),onmousemove:function(a){ec(a.event)},ondragend:A(this._onDragEnd,this),onmouseover:A(this._showDataInfo,this,!0),onmouseout:A(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),g=e.getBoundingRect();this._handleHeight=B(f.get("handleSize"),this._size[1]);this._handleWidth=g.width/g.height*this._handleHeight;e.setStyle(f.getModel("handleStyle").getItemStyle());g=f.get("handleColor");null!=g&&(e.style.fill=g);d.add(b[a]=e);e=f.textStyleModel;this.group.add(c[a]=new P({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[aa(a[0],[0,100],b,!0),aa(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];oe(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?aa(f.minSpan,g,e,!0):null,null!=f.maxSpan?aa(f.maxSpan,g,e,!0):null);this._range=mb([aa(d[0],e,g,!0),aa(d[1],e,g,!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=mb(c.slice()),e=this._size;r([0,1],function(a){var d=this._handleHeight;b.handles[a].attr({scale:[d/2,d/2],position:[c[a],e[1]/2-d/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=ad(d.handles[a].parent,this.group),c=Ni(0===a?"right":"left",b),h=this._handleWidth/2+5,b=Eb([l[a]+(0===a?-h:h),this._size[1]/2],b);e[a].setStyle({x:b[0],y:b[1],textVerticalAlign:"horizontal"===f?"middle":c,textAlign:"horizontal"===f?c:"center",text:g[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){var c=h.getAxisModel().axis,k=this._range;a=a?h.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var l=mb(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();c=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return jc(d)?d(a,c):ya(d)?d.replace("{value}",c):c},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._displayables.barGroup.getLocalTransform();b=Eb([b,c],d,!0);this._updateInterval(a,b[0]);a=this.dataZoomModel.get("realtime");this._updateView(!a);a&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;r(this.getTargetCoordInfo(),function(b){!a&&b.length&&(b=b[0].model.coordinateSystem,a=b.getRect&&b.getRect())});if(!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});Pl.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var Dr=C,kt=Ql.extend({type:"dataZoom.inside",init:function(a,b){},render:function(a,b,c,d){kt.superApply(this,"render",arguments);$x(d,a.id)&&(this._range=a.getPercentRange());r(this.getTargetCoordInfo(),function(b,d){var e=z(b,function(a){a=a.model;return a.type+"\x00_"+a.id});r(b,function(b){var f=b.model,g=a.option;Vx(c,{coordId:f.type+"\x00_"+f.id,allCoordIds:e,containsPoint:function(a,b,c){return f.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:A(this._onPan,this,b,d),zoomGetRange:A(this._onZoom,this,b,d),zoomLock:g.zoomLock,disabled:g.disabled,roamControllerOpt:{zoomOnMouseWheel:g.zoomOnMouseWheel,moveOnMouseMove:g.moveOnMouseMove,preventDefaultMouseMove:g.preventDefaultMouseMove}})},this)},this)},dispose:function(){Zx(this.api,this.dataZoomModel.id);kt.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,b,c,d,e,f,g,h,k){d=this._range.slice();if(e=a.axisModels[0])return a=lt[b]([f,g],[h,k],e,c,a),oe(a.signal*(d[1]-d[0])*a.pixel/a.pixelLength,d,[0,100],"all"),this._range=d},_onZoom:function(a,b,c,d,e,f){var g=this._range.slice(),h=a.axisModels[0];if(h)return a=lt[b](null,[e,f],h,c,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(g[1]-g[0])+g[0],d=Math.max(1/d,0),g[0]=(g[0]-a)*d+a,g[1]=(g[1]-a)*d+a,d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),oe(0,g,[0,100],0,d.minSpan,d.maxSpan),this._range=g}}),lt={grid:function(a,b,c,d,e){c=c.axis;d={};e=e.model.coordinateSystem.getRect();a=a||[0,0];"x"===c.dim?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d},polar:function(a,b,c,d,e){d=c.axis;var f={};e=e.model.coordinateSystem;var g=e.getRadiusAxis().getExtent(),h=e.getAngleAxis().getExtent();a=a?e.pointToCoord(a):[0,0];b=e.pointToCoord(b);"radiusAxis"===c.mainType?(f.pixel=b[0]-a[0],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],f.signal=d.inverse?1:-1):(f.pixel=b[1]-a[1],f.pixelLength=h[1]-h[0],f.pixelStart=h[0],f.signal=d.inverse?-1:1);return f},singleAxis:function(a,b,c,d,e){c=c.axis;e=e.model.coordinateSystem.getRect();d={};a=a||[0,0];"horizontal"===c.orient?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d}};Ua(function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(cy);a.eachTargetAxis(dy)});a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),b=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:b[0],endValue:b[1]},!0)})});W("dataZoom",function(a,b){var c=Rx(A(b.eachComponent,b,"dataZoom"),Pc,function(a,b){return a.get(b.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){d.push.apply(d,c(a).nodes)});r(d,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var mt=function(a){a=a&&a.visualMap;x(a)||(a=a?[a]:[]);r(a,function(a){a&&(ee(a,"splitList")&&!ee(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&x(a)&&r(a,function(a){Q(a)&&(ee(a,"start")&&!ee(a,"min")&&(a.min=a.start),ee(a,"end")&&!ee(a,"max")&&(a.max=a.end))}))})};U.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"});ra(le.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(b){ey(b,a)});fy(a)});var Sl={get:function(a,b,c){a=G((zA[a]||{})[b]);return c?x(a)?a[a.length-1]:a:a}},zA={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},nt=O.mapVisual,AA=O.eachVisual,BA=x,CA=["#f6efa6","#d88273","#bf444c"],Kh=ib({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;ba.canvasSupported||(c.realtime=!1);!b&&kr(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=A(a,this);this.controllerVisuals=tk(this.option.controller,b,a);this.targetVisuals=tk(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];null==a||"all"===a?this.ecModel.eachSeries(function(a,d){b.push(d)}):b=nb(a);return b},eachTargetSeries:function(a,b){r(this.getTargetSeriesIndices(),function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(f,20))}var e=this.option,f=e.precision,g=this.dataBound,e=e.formatter,h;c=c||["\x3c","\x3e"];x(a)&&(a=a.slice(),h=!0);b=b?a:h?[d(a[0]),d(a[1])]:d(a);return ya(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):jc(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=mb([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(a){BA(b.color)&&!a.inRange&&(a.inRange={color:b.color.slice().reverse()});a.inRange=a.inRange||{color:CA};r(this.stateList,function(b){var c=a[b];if(ya(c)){var d=Sl.get(c,"active",f);d?(a[b]={},a[b][c]=d):delete a[b]}},this)}var b=this.option,c={inRange:b.inRange,outOfRange:b.outOfRange},d=b.target||(b.target={}),e=b.controller||(b.controller={});K(d,c);K(e,c);var f=this.isCategory();a.call(this,d);a.call(this,e);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},r(b,function(a,b){if(O.isValidType(b)){var c=Sl.get(b,"inactive",f);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,d,"inRange","outOfRange");(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor");r(this.stateList,function(e){var g=this.itemSize,h=a[e];h||(h=a[e]={color:f?d:[d]});null==h.symbol&&(h.symbol=b&&G(b)||(f?"roundRect":["roundRect"]));null==h.symbolSize&&(h.symbolSize=c&&G(c)||(f?g[0]:[g[0],g[0]]));h.symbol=nt(h.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});e=h.symbolSize;if(null!=e){var k=-Infinity;AA(e,function(a){a>k&&(k=a)});h.symbolSize=nt(e,function(a){return aa(a,[0,k],[0,g[0]],!0)})}},this)}).call(this,e)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:Ga,getValueState:Ga,getVisualMeta:Ga}),ot=[20,140],pt=Kh.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(a,b){pt.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){pt.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=ot[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=ot[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):x(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){Kh.prototype.completeVisualOption.apply(this,arguments);r(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),b=mb((this.get("range")||[]).slice());b[0]>a[1]&&(b[0]=a[1]);b[1]>a[1]&&(b[1]=a[1]);b[0]<a[0]&&(b[0]=a[0]);b[1]<a[0]&&(b[1]=a[0]);return b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getVisualMeta:function(a){function b(b,c){e.push({value:b,color:a(b,c)})}for(var c=Fr(this,"outOfRange",this.getExtent()),d=Fr(this,"inRange",this.option.range.slice()),e=[],f=0,g=0,h=d.length,k=c.length;g<k&&(!d.length||c[g]<=d[0]);g++)c[g]<d[f]&&b(c[g],"outOfRange");for(var l=1;f<h;f++,l=0)l&&e.length&&b(d[f],"outOfRange"),b(d[f],"inRange");for(l=1;g<k;g++)if(!d.length||d[d.length-1]<c[g])l&&(e.length&&b(e[e.length-1].value,"outOfRange"),l=0),b(c[g],"outOfRange");c=e.length;return{stops:e,outerColors:[c?e[0].color:"transparent",c?e[c-1].color:"transparent"]}}}),qt=ma({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a;this.api=b},render:function(a,b,c,d){this.visualMapModel=a;!1===a.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(a){var b=this.visualMapModel,c=cd(b.get("padding")||0),d=a.getBoundingRect();a.add(new ga({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,c){function d(a){return h[a]}function e(a,b){h[a]=b}c=c||{};var f=c.forceState,g=this.visualMapModel,h={};"symbol"===b&&(h.symbol=g.get("itemSymbol"));if("color"===b){var k=g.get("contentColor");h.color=k}var l=g.controllerVisuals[f||g.getValueState(a)],f=O.prepareVisualTypes(l);r(f,function(f){var g=l[f];c.convertOpacityToAlpha&&"opacity"===f&&(f="colorAlpha",g=l.__alphaForOpacity);O.dependsOn(f,b)&&g&&g.applyVisual(a,d,e)});return h[b]},positionGroup:function(a){var b=this.api;dg(a,this.visualMapModel.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})},doRender:Ga}),Wg=Math.min,mf=Math.max,DA=qt.extend({type:"visualMap.continuous",init:function(){DA.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new P({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),textFill:e.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,f=this._useHandle,g=Gr(b,this.api,d),h=c.barGroup=this._createBarGroup(g);h.add(c.outOfRange=Vg());h.add(c.inRange=Vg(null,f?Ir(this._orient):null,A(this._dragHandle,this,"all",!1),A(this._dragHandle,this,"all",!0)));b=b.textStyleModel.getTextRect("\u56fd");b=mf(b.width,b.height);f&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(h,0,d,b,e,g),this._createHandle(h,1,d,b,e,g));this._createIndicator(h,d,b,e);a.add(h)},_createHandle:function(a,b,c,d,e){var f=A(this._dragHandle,this,b,!1),g=A(this._dragHandle,this,b,!0),h=Vg(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],Ir(this._orient),f,g);h.position[0]=c[0];a.add(h);a=this.visualMapModel.textStyleModel;f=new P({draggable:!0,drift:f,onmousemove:function(a){ec(a.event)},ondragend:g,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(f);d=["horizontal"===e?d/2:1.5*d,"horizontal"===e?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=h;e.handleLabelPoints[b]=d;e.handleLabels[b]=f},_createIndicator:function(a,b,c,d){var e=Vg([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new P({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:9,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():Hr(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[aa(b[0],c,a,!0),aa(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,d=this._handleEnds,e=[0,c.itemSize[1]];oe(b||0,d,e,a,0);c=c.getExtent();this._dataInterval=[aa(d[0],e,c,!0),aa(d[1],e,c,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,c,d){d={forceState:d,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,d);a=[this.getControllerVisual(a[0],"symbolSize",d),this.getControllerVisual(a[1],"symbolSize",d)];c=this._createBarPoints(c,a);return{barColor:new Td(0,0,0,1,b),barPoints:c,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new F("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;r([0,1],function(g){var h=e[g];h.setStyle("fill",b.handlesColor[g]);h.position[1]=a[g];h=Eb(c.handleLabelPoints[g],ad(h,this.group));f[g].setStyle({x:h[0],y:h[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,h=aa(a,f,[0,g[1]],!0),f=this._shapes,k=f.indicator;k&&(k.position[1]=h,k.attr("invisible",!1),k.setShape("points",hy(!!c,d,h,g[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),k.setStyle("fill",a),a=Eb(f.indicatorLabelPoint,ad(k,this.group)),d=f.indicatorLabel,d.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),g=this._orient,d.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===g?f:"middle",textAlign:"horizontal"===g?"center":f,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=Wg(mf(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel;if(c.option.hoverLink){var d=[0,c.itemSize[1]],e=c.getExtent();a=Wg(mf(d[0],a),d[1]);var f;f=6;var g=c.get("hoverLinkDataSize");g&&(f=aa(g,e,d,!0)/2);var g=[a-f,a+f],h=aa(a,d,e,!0),e=[aa(g[0],d,e,!0),aa(g[1],d,e,!0)];g[0]<d[0]&&(e[0]=-Infinity);g[1]>d[1]&&(e[1]=Infinity);b&&(-Infinity===e[0]?this._showIndicator(h,e[1],"\x3c ",f):Infinity===e[1]?this._showIndicator(h,e[0],"\x3e ",f):this._showIndicator(h,h,"\u2248 ",f));d=this._hoverLinkDataIndices;f=[];if(b||Hr(c))f=this._hoverLinkDataIndices=c.findTargetDataIndices(e);c=mu(d,f);this._dispatchHighDown("downplay",Ug(c[0]));this._dispatchHighDown("highlight",Ug(c[1]))}},_hoverLinkFromSeriesMouseOver:function(a){a=a.target;var b=this.visualMapModel;if(a&&null!=a.dataIndex){var c=this.ecModel.getSeriesByIndex(a.seriesIndex);b.isTargetSeries(c)&&(c=c.getData(a.dataType),b=c.getDimension(b.getDataDimension(c)),a=c.get(b,a.dataIndex,!0),isNaN(a)||this._showIndicator(a,a))}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ug(a));a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=ad(b,d?null:this.group);return Pa[x(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});W({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})});cb(mt);var EA=Kh.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){EA.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var c=this._mode=this._determineMode();FA[this._mode].call(this);this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(a,b){"categories"===c?(a.mappingMethod="category",a.categories=G(d)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=z(this._pieceList,function(a){a=G(a);"inRange"!==b&&(a.visual=null);return a}))})},completeVisualOption:function(){function a(a,b,c){return a&&a[b]&&(Q(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var b=this.option,c={},d=O.listVisualTypes(),e=this.isCategory();r(b.pieces,function(a){r(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})});r(c,function(c,d){var f=0;r(this.stateList,function(c){f|=a(b,c,d)||a(b.target,c,d)},this);!f&&r(this.stateList,function(a){(b[a]||(b[a]={}))[d]=Sl.get(d,"inRange"===a?"active":"inactive",e)})},this);Kh.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};c.selected=e;r(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this);if("single"===c.selectedMode){var f=!1;r(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=G(a)},getValueState:function(a){a=O.findPieceIndex(a,this._pieceList);return null!=a?this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){O.findPieceIndex(b,this._pieceList)===a&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=-Infinity===a[0]&&Infinity===a[1]?0:(a[0]+a[1])/2);return a},getVisualMeta:function(a){function b(b,f){var g=e.getRepresentValue({interval:b});f||(f=e.getValueState(g));g=a(g,f);-Infinity===b[0]?d[0]=g:Infinity===b[1]?d[1]=g:c.push({value:b[0],color:g},{value:b[1],color:g})}if(!this.isCategory()){var c=[],d=[],e=this,f=this._pieceList.slice();if(f.length){var g=f[0].interval[0];-Infinity!==g&&f.unshift({interval:[-Infinity,g]});g=f[f.length-1].interval[1];Infinity!==g&&f.push({interval:[g,Infinity]})}else f.push({interval:[-Infinity,Infinity]});var h=-Infinity;r(f,function(a){if(a=a.interval)a[0]>h&&b([h,a[0]],"outOfRange"),b(a.slice()),h=a[1]},this);return{stops:c,outerColors:d}}}}),FA={splitNumber:function(){var a=this.option,b=this._pieceList,c=Math.min(a.precision,20),d=this.getExtent(),e=a.splitNumber,e=Math.max(parseInt(e,10),1);a.splitNumber=e;for(var f=(d[1]-d[0])/e;+f.toFixed(c)!==f&&5>c;)c++;a.precision=c;f=+f.toFixed(c);c=0;a.minOpen&&b.push({index:c++,interval:[-Infinity,d[0]],close:[0,0]});for(var g=d[0],h=c+e;c<h;g+=f){var k=c===e-1?d[1]:g+f;b.push({index:c++,interval:[g,k],close:[1,1]})}a.maxOpen&&b.push({index:c++,interval:[d[1],Infinity],close:[0,0]});Ei(b);r(b,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;r(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);Jr(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;r(a.pieces,function(a,d){Q(a)||(a={value:a});var c={text:"",index:d};null!=a.label&&(c.text=a.label);if(a.hasOwnProperty("value")){var f=c.value=a.value;c.interval=[f,f];c.close=[1,1]}else{for(var f=c.interval=[],g=c.close=[0,0],h=[1,0,1],k=[-Infinity,Infinity],l=[],m=0;2>m;m++){for(var p=[["gte","gt","min"],["lte","lt","max"]][m],n=0;3>n&&null==f[m];n++)f[m]=a[p[n]],g[m]=h[n],l[m]=2===n;null==f[m]&&(f[m]=k[m])}l[0]&&Infinity===f[1]&&(g[0]=0);l[1]&&-Infinity===f[0]&&(g[1]=0);D&&f[0]>f[1]&&console.warn("Piece "+d+"is illegal: "+f+" lower bound should not greater then uppper bound.");f[0]===f[1]&&g[0]&&g[1]&&(c.value=f[0])}c.visual=O.retrieveVisuals(a);b.push(c)},this);Jr(a,b);Ei(b);r(b,function(a){var b=a.close,b=[["\x3c","\u2264"][b[1]],["\x3e","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,b)},this)}};qt.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,e=d.getFont(),f=d.getTextColor(),g=this._getItemAlign(),h=b.itemSize,d=this._getViewData(),k=d.endsText,l=na(b.get("showLabel",!0),!k);k&&this._renderEndsText(a,k[0],h,l,g);r(d.viewPieceList,function(d){var k=d.piece,m=new F;m.onclick=A(this._onItemClick,this,k);this._enableHoverLink(m,d.indexInModelPieceList);d=b.getRepresentValue(k);this._createItemSymbol(m,d,[0,0,h[0],h[1]]);l&&(d=this.visualMapModel.getValueState(d),m.add(new P({style:{x:"right"===g?-c:h[0]+c,y:h[1]/2,text:k.text,textVerticalAlign:"middle",textAlign:g,textFont:e,textFill:f,opacity:"outOfRange"===d?.5:1}})));a.add(m)},this);k&&this._renderEndsText(a,k[1],h,l,g);kf(b.get("orient"),a,b.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,b){function c(a){var c=this.visualMapModel;c.option.hoverLink&&this.api.dispatchAction({type:a,batch:Ug(c.findTargetDataIndices(b))})}a.on("mouseover",A(c,this,"highlight")).on("mouseout",A(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return Gr(a,this.api,a.itemSize);(a=b.align)&&"auto"!==a||(a="left");return a},_renderEndsText:function(a,b,c,d,e){if(b){var f=new F,g=this.visualMapModel.textStyleModel;f.add(new P({style:{x:d?"right"===e?c[0]:0:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:d?e:"center",text:b,textFont:g.getFont(),textFill:g.getTextColor()}}));a.add(f)}},_getViewData:function(){var a=this.visualMapModel,b=z(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),d=a.get("orient"),a=a.get("inverse");("horizontal"===d?a:!a)?b.reverse():c&&(c=c.slice().reverse());return{viewPieceList:b,endsText:c}},_createItemSymbol:function(a,b,c){a.add(jb(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(a){var b=this.visualMapModel,c=b.option,d=G(c.selected),e=b.getSelectedMapKey(a);"single"===c.selectedMode?(d[e]=!0,r(d,function(a,b){d[b]=b===e})):d[e]=!d[e];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}});cb(mt);var Lh=ib({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){if(D&&"marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c);this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(ba.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,d){var e=this.constructor,f=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType),g=a[f];c&&c.data?(g?g.mergeOption(c,b,!0):(d&&Xg(c),r(c.data,function(a){a instanceof Array?(Xg(a[0]),Xg(a[1])):Xg(a)}),g=new e(c,this,b),I(g,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),g.__hostSeries=a),a[f]=g):a[f]=null},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=x(c)?z(c,bc).join(", "):bc(c);a=b.getName(a);b=la(this.name);if(null!=c||a)b+="\x3cbr /\x3e";a&&(b+=la(a),null!=c&&(b+=" : "));null!=c&&(b+=la(d));return b},getData:function(){return this._data},setData:function(a){this._data=a}});M(Lh,bl);Lh.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});var Lr=R,zk={min:C(xk,"min"),max:C(xk,"max"),average:C(xk,"average")},Tl=ma({type:"marker",init:function(){this.markerGroupMap=za()},render:function(a,b,c){a=this.markerGroupMap;a.each(function(a){a.__keep=!1});var d=this.type+"Model";b.eachSeries(function(a){var e=a[d];e&&this.renderSeries(a,e,b,c)},this);a.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});Tl.extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(Nr(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.id,f=a.getData(),g=this.markerGroupMap,e=g.get(e)||g.set(e,new Sd),h=iy(c,a,b);b.setData(h);Nr(b.getData(),a,d);h.each(function(a){var c=h.getItemModel(a),d=c.getShallow("symbolSize");"function"===typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a)));h.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||f.getVisual("color"),symbol:c.getShallow("symbol")})});e.updateData(h);this.group.add(e.group);h.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});e.__keep=!0;e.group.silent=b.get("silent")||a.get("silent")}});cb(function(a){a.markPoint=a.markPoint||{}});Lh.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var ly=function(a,b,c,d){var e=a.getData(),f=d.type;if(!x(d)&&("min"===f||"max"===f||"average"===f||null!=d.xAxis||null!=d.yAxis)){var g;null!=d.yAxis||null!=d.xAxis?(g=null!=d.yAxis?"y":"x",b.getAxis(g),b=na(d.yAxis,d.xAxis)):(g=Kr(d,e,b,a).valueDataDim,b=yk(e,g,f));g="x"===g?0:1;var h=1-g,e=G(d),k={};e.type=null;e.coord=[];k.coord=[];e.coord[h]=-Infinity;k.coord[h]=Infinity;c=c.get("precision");0<=c&&"number"===typeof b&&(b=+b.toFixed(Math.min(c,20)));e.coord[g]=k.coord[g]=b;d=[e,k,{type:f,valueIndex:d.valueIndex,value:b}]}d=[nf(a,d[0]),nf(a,d[1]),I({},d[2])];d[2].type=d[2].type||"";K(d[2],d[0]);K(d[2],d[1]);return d};Tl.extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),g=b.__from,h=b.__to;g.each(function(b){Ak(g,b,!0,a,c);Ak(h,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[g.getItemLayout(a),h.getItemLayout(a)])});this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var f=b.getItemModel(c);Ak(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||n[e?0:1],symbol:f.get("symbol",!0)||p[e?0:1],color:f.get("itemStyle.normal.color")||g.getVisual("color")})}c=a.coordinateSystem;var f=a.id,g=a.getData(),h=this.markerGroupMap,f=h.get(f)||h.set(f,new Ag);this.group.add(f.group);c=ky(c,a,b);var k=c.from,l=c.to,m=c.line;b.__from=k;b.__to=l;b.setData(m);var p=b.get("symbol"),n=b.get("symbolSize");x(p)||(p=[p,p]);"number"===typeof n&&(n=[n,n]);c.from.each(function(a){e(k,a,!0);e(l,a,!1)});m.each(function(a){var b=m.getItemModel(a).get("lineStyle.normal.color");m.setItemVisual(a,{color:b||k.getItemVisual(a,"color")});m.setItemLayout(a,[k.getItemLayout(a),l.getItemLayout(a)]);m.setItemVisual(a,{fromSymbolSize:k.getItemVisual(a,"symbolSize"),fromSymbol:k.getItemVisual(a,"symbol"),toSymbolSize:l.getItemVisual(a,"symbolSize"),toSymbol:l.getItemVisual(a,"symbol")})});f.updateData(m);c.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});f.__keep=!0;f.group.silent=b.get("silent")||a.get("silent")}});cb(function(a){a.markLine=a.markLine||{}});Lh.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var oy=function(a,b,c,d){b=nf(a,d[0]);a=nf(a,d[1]);d=b.coord;c=a.coord;d[0]=na(d[0],-Infinity);d[1]=na(d[1],-Infinity);c[0]=na(c[0],Infinity);c[1]=na(c[1],Infinity);d=te([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},rt=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Tl.extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=z(rt,function(e){return Pr(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.name,f=a.getData(),g=this.markerGroupMap,h=g.get(e)||g.set(e,{group:new F});this.group.add(h.group);h.__keep=!0;var k=ny(c,a,b);b.setData(k);k.each(function(b){k.setItemLayout(b,z(rt,function(c){return Pr(k,b,c,a,d)}));k.setItemVisual(b,{color:f.getVisual("color")})});k.diff(h.__data).add(function(a){var b=new Ma({shape:{points:k.getItemLayout(a)}});k.setItemGraphicEl(a,b);h.group.add(b)}).update(function(a,c){var d=h.__data.getItemGraphicEl(c);Z(d,{shape:{points:k.getItemLayout(a)}},b,a);h.group.add(d);k.setItemGraphicEl(a,d)}).remove(function(a){a=h.__data.getItemGraphicEl(a);h.group.remove(a)}).execute();k.eachItemGraphicEl(function(a,c){var d=k.getItemModel(c),e=d.getModel("label.normal"),f=d.getModel("label.emphasis"),g=k.getItemVisual(c,"color");a.useStyle(H(d.getModel("itemStyle.normal").getItemStyle(),{fill:Kf(g,.4),stroke:g}));a.hoverStyle=d.getModel("itemStyle.emphasis").getItemStyle();Db(a.style,a.hoverStyle,e,f,{labelFetcher:b,labelDataIndex:c,defaultText:k.getName(c)||"",isRectText:!0,autoColor:g});T(a,{});a.dataModel=b});h.__data=k;h.group.silent=b.get("silent")||a.get("silent")}});cb(function(a){a.markArea=a.markArea||{}});U.registerSubTypeDefaulter("timeline",function(){return"slider"});W({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1));b.resetOption("timeline");return H({currentIndex:c.option.currentIndex},a)});W({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)});var st=U.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);this._initData()},mergeOption:function(a){st.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,b=a.data||[],a=a.axisType,c=this._names=[];if("category"===a){var d=[];r(b,function(a,b){var e=Ne(a),f;Q(a)?(f=G(a),f.value=b):f=b;d.push(f);ya(e)||null!=e&&!isNaN(e)||(e="");c.push(e+"")});b=d}(this._data=new ia([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(b,c)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),GA=st.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});M(GA,bl);var HA=dc.extend({type:"timeline"}),Mh=function(a,b,c,d){Ba.call(this,a,b,c);this.type=d||"value";this.model=null};Mh.prototype={constructor:Mh,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),c=b.get("interval");if(null!=c&&"auto"!=c)return c;c=this._autoLabelInterval;c||(c=this._autoLabelInterval=no(z(this.scale.getTicks(),this.dataToCoord,this),hj(this,b.get("formatter")),b.getFont(),"horizontal"===a.get("orient")?0:90,b.get("rotate")));return c},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"===typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}};ja(Mh,Ba);var Ul=Math.PI;HA.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return la(g.scale.getLabel(a))};r(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,g,a)},this);this._renderAxisLabel(e,b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=Ia(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var f={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},g={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Ul/2},k="vertical"===d?e.height:e.width,l=a.getModel("controlStyle"),m=l.get("show"),p=m?l.get("itemSize"):0,n=m?l.get("itemGap"):0,q=p+n,r=a.get("label.normal.rotate")||0,r=r*Ul/180,v,u,w,z=l.get("position",!0),y=(m=l.get("show",!0))&&l.get("showPlayBtn",!0),x=m&&l.get("showPrevBtn",!0),l=m&&l.get("showNextBtn",!0),m=0,A=k;"left"===z||"bottom"===z?(y&&(v=[0,0],m+=q),x&&(u=[m,0],m+=q)):(y&&(v=[A-p,0],A-=q),x&&(u=[0,0],m+=q));l&&(w=[A-p,0],A-=q);q=[m,A];a.get("inverse")&&q.reverse();return{viewRect:e,mainLength:k,orient:d,rotation:h[d],labelRotation:r,labelPosOpt:c,labelAlign:a.get("label.normal.align")||f[d],labelBaseline:a.get("label.normal.verticalAlign")||a.get("label.normal.baseline")||g[d],playPosition:v,prevBtnPosition:u,nextBtnPosition:w,axisExtent:q,controlSize:p,controlGap:n}},_position:function(a,b){function c(a){var b=a.position;a.origin=[p[0][0]-b[0],p[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f=this._mainGroup,g=this._labelGroup,h=a.viewRect;if("vertical"===a.orient){var k=Yb(),l=h.x,m=h.y+h.height;Nb(k,k,[-l,-m]);Vc(k,k,-Ul/2);Nb(k,k,[l,m]);h=h.clone();h.applyTransform(k)}var p=d(h),h=d(f.getBoundingRect()),k=d(g.getBoundingRect()),l=f.position,m=g.position;m[0]=l[0]=p[0][0];var n=a.labelPosOpt;isNaN(n)?(n="+"===n?0:1,e(l,h,p,1,n),e(m,k,p,1,1-n)):(e(l,h,p,1,0<=n?0:1),m[1]=l[1]+n);f.attr("position",l);g.attr("position",m);f.rotation=g.rotation=a.rotation;c(f);c(g)},_createAxis:function(a,b){var c=b.getData(),d=b.get("axisType"),e=Qd(b,d),f=c.getDataExtent("value");e.setExtent(f[0],f[1]);this._customizeScale(e,c);e.niceTicks();c=new Mh("value",e,a.axisExtent,d);c.model=b;return c},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return z(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new F;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new Qa({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:I({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();r(a,function(a,g){var f=c.dataToCoord(a),k=e.getItemModel(g),l=k.getModel("itemStyle.normal"),m=k.getModel("itemStyle.emphasis"),f={position:[f,0],onclick:A(this._changeTimeline,this,g)},l=Rr(k,l,b,f);T(l,m.getItemStyle());k.get("tooltip")?(l.dataIndex=g,l.dataModel=d):l.dataIndex=l.dataModel=null},this)},_renderAxisLabel:function(a,b,c,d){var e=d.getModel("label.normal");if(e.get("show")){var f=d.getData();d=c.scale.getTicks();var g=hj(c,e.get("formatter")),h=c.getLabelInterval();r(d,function(d,e){if(!c.isLabelIgnored(e,h)){var k=f.getItemModel(e),l=k.getModel("label.normal"),k=k.getModel("label.emphasis"),n=c.dataToCoord(d),n=new P({position:[n,0],rotation:a.labelRotation-a.rotation,onclick:A(this._changeTimeline,this,e),silent:!1});ua(n.style,l,{text:g[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline});b.add(n);T(n,ua({},k))}},this)}},_renderControl:function(a,b,c,d){function e(a,c,e,m){if(a){var n=l;a={position:a,origin:[f/2,0],rotation:m?-g:0,rectHover:!0,style:h,onclick:e};c=Le(d.get(c).replace(/^path:\/\//,""),G(a||{}),new S(n[0],n[1],n[2],n[3]),"center");b.add(c);T(c,k)}}var f=a.controlSize,g=a.rotation,h=d.getModel("controlStyle.normal").getItemStyle(),k=d.getModel("controlStyle.emphasis").getItemStyle(),l=[0,-f/2,f,f];c=d.getPlayState();var m=d.get("inverse",!0);e(a.nextBtnPosition,"controlStyle.nextIcon",A(this._changeTimeline,this,m?"-":"+"));e(a.prevBtnPosition,"controlStyle.prevIcon",A(this._changeTimeline,this,m?"+":"-"));e(a.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),A(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=Rr(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=A(f._handlePointerDrag,f);a.ondragend=A(f._handlePointerDragend,f);Sr(a,e,c,d,!0)},onUpdate:function(a){Sr(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=mb(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(A(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return Eb(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(b,g){var f=e.dataToCoord(b),f=Math.abs(f-a);f<c&&(c=f,d=g)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}});cb(function(a){a=a&&a.timeline;x(a)||(a=a?[a]:[]);r(a,function(a){a&&py(a)})});var IA=ib({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){IA.superApply(this,"mergeDefaultAndTheme",arguments);r(this.option.feature,function(a,c){var b=Oc[c];b&&K(a,b.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});ma({type:"toolbox",render:function(a,b,c,d){function e(e,g){var h=m[e],n=m[g],p=new V(k[h],a,a.ecModel),r;if(h&&!n){if(0===h.indexOf("my"))r={model:p,onclick:p.option.onclick,featureName:h};else{r=Oc[h];if(!r)return;r=new r(p,b,c)}l[h]=r}else{r=l[n];if(!r)return;r.model=p;r.ecModel=b;r.api=c}!h&&n?r.dispose&&r.dispose(b,c):!p.get("show")||r.unusable?r.remove&&r.remove(b,c):(f(p,r,h),p.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},r.render&&r.render(p,b,c,d))}function f(d,e,f){var k=d.getModel("iconStyle"),l=e.getIcons?e.getIcons():d.get("icon"),m=d.get("title")||{};if("string"===typeof l){var n=l,p=m,l={},m={};l[f]=n;m[f]=p}var q=d.iconPaths={};r(l,function(f,l){var n=Me(f,{},{x:-h/2,y:-h/2,width:h,height:h});n.setStyle(k.getModel("normal").getItemStyle());n.hoverStyle=k.getModel("emphasis").getItemStyle();T(n);a.get("showTitle")&&(n.__title=m[l],n.on("mouseover",function(){var a=k.getModel("emphasis").getItemStyle();n.setStyle({text:m[l],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){n.setStyle({textFill:null})}));n.trigger(d.get("iconStatus."+l)||"normal");g.add(n);n.on("click",A(e.onclick,e,b,c,l));q[l]=n})}var g=this.group;g.removeAll();if(a.get("show")){var h=+a.get("itemSize"),k=a.get("feature")||{},l=this._features||(this._features={}),m=[];r(k,function(a,b){m.push(b)});(new xc(this._featureNames||[],m)).add(e).update(e).remove(C(e,null)).execute();this._featureNames=m;Cx(g,a,c);g.add(Yq(g.getBoundingRect(),a));g.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var b=$b(b,Fm(d)),e=a.position[0]+g.position[0],f=!1;a.position[1]+g.position[1]+h+b.height>c.getHeight()&&(d.textPosition="top",f=!0);a=f?-5-b.height:h+8;e+b.width/2>c.getWidth()?(d.textPosition=["100%",a],d.textAlign="right"):0>e-b.width/2&&(d.textPosition=[0,a],d.textAlign="left")}})}},updateView:function(a,b,c,d){r(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},updateLayout:function(a,b,c,d){r(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,c,d)})},remove:function(a,b){r(this._features,function(c){c.remove&&c.remove(a,b)});this.group.removeAll()},dispose:function(a,b){r(this._features,function(c){c.dispose&&c.dispose(a,b)})}});Zg.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"].slice()};Zg.prototype.unusable=!ba.canvasSupported;Zg.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f;e.target="_blank";var g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});e.href=g;if("function"!==typeof MouseEvent||ba.browser.ie||ba.browser.edge)if(window.navigator.msSaveOrOpenBlob){e=atob(g.split(",")[1]);g=e.length;for(c=new Uint8Array(g);g--;)c[g]=e.charCodeAt(g);e=new Blob([c]);window.navigator.msSaveOrOpenBlob(e,d+"."+f)}else d=c.get("lang"),d='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+g+'" style\x3d"max-width:100%;" title\x3d"'+(d&&d[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(d);else d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(d)};Oc.saveAsImage=Zg;Bk.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:G({line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}),option:{},seriesIndex:{}};var tt=Bk.prototype;tt.getIcons=function(){var a=this.model,b=a.get("icon"),c={};r(a.get("type"),function(a){b[a]&&(c[a]=b[a])});return c};var ut={line:function(a,b,c,d){if("bar"===a)return K({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,b,c,d){if("line"===a)return K({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,b,c,d){if("line"===a||"bar"===a)return K({id:b,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0)},tiled:function(a,b,c,d){if("line"===a||"bar"===a)return K({id:b,stack:""},d.get("option.tiled")||{},!0)}},JA=[["line","bar"],["stack","tiled"]];tt.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(ut[c]){var f={series:[]};r(JA,function(a){0<=R(a,c)&&r(a,function(a){d.setIconStatus(a,"normal")})});d.setIconStatus(c,"emphasis");a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(b){var e=ut[c](b.subType,b.id,b,d);e&&(H(e,b.option),f.series.push(e));if((e=b.coordinateSystem)&&"cartesian2d"===e.type&&("line"===c||"bar"===c)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";b=a.queryComponents({mainType:e,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[e]=f[e]||[];for(var g=0;g<=b;g++)f[e][b]=f[e][b]||{};f[e][b].boundaryGap="bar"===c?!0:!1}});b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}};W({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});Oc.magicType=Bk;var $g=Array(60).join("-"),Ck=RegExp("[\t]+","g");pf.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:G("\u6570\u636e\u89c6\u56fe"),lang:G(["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};pf.prototype.onclick=function(a,b){function c(){d.removeChild(f);u._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=e.get("backgroundColor")||"#fff";var g=document.createElement("h4"),h=e.get("lang")||[];g.innerHTML=h[0]||e.get("title");g.style.cssText="margin: 10px 20px;";g.style.color=e.get("textColor");var k=document.createElement("div"),l=document.createElement("textarea");k.style.cssText="display:block;width:100%;overflow:auto;";var m=e.get("optionToContent"),p=e.get("contentToOption"),n=ty(a);"function"===typeof m?(m=m(b.getOption()),"string"===typeof m?k.innerHTML=m:Ad(m)&&k.appendChild(m)):(k.appendChild(l),l.readOnly=e.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=e.get("textColor"),l.style.borderColor=e.get("textareaBorderColor"),l.style.backgroundColor=e.get("textareaColor"),l.value=n.value);var q=n.meta,n=document.createElement("div");n.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",r=document.createElement("div"),v=document.createElement("div"),m=m+(";background-color:"+e.get("buttonColor")),m=m+(";color:"+e.get("buttonTextColor")),u=this;Nf(r,"click",c);Nf(v,"click",function(){var a;try{a="function"===typeof p?p(k,b.getOption()):vy(l.value,q)}catch(Tb){throw c(),Error("Data view format error "+Tb);}a&&b.dispatchAction({type:"changeDataView",newOption:a});c()});r.innerHTML=h[1];v.innerHTML=h[2];v.style.cssText=m;r.style.cssText=m;!e.get("readOnly")&&n.appendChild(v);n.appendChild(r);Nf(l,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+"\t"+b.substring(d);this.selectionStart=this.selectionEnd=c+1;ec(a)}});f.appendChild(g);f.appendChild(k);f.appendChild(n);k.style.height=d.clientHeight-80+"px";d.appendChild(f);this._dom=f};pf.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};pf.prototype.dispose=function(a,b){this.remove(a,b)};Oc.dataView=pf;W({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];r(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];d?(d=d.get("data"),c.push({name:a.name,data:wy(a.data,d)})):c.push(I({type:"scatter"},a))});b.mergeOption(H({series:c},a.newOption))});var Tr=r;Pl.extend({type:"dataZoom.select"});Ql.extend({type:"dataZoom.select"});Ek.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:G({zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"})};var qe=Ek.prototype;qe.render=function(a,b,c,d){this.model=a;this.ecModel=b;this.api=c;zy(a,b,this,d,c);a.setIconStatus("back",1<Dk(b).length?"emphasis":"normal")};qe.onclick=function(a,b,c){KA[c].call(this)};qe.remove=function(a,b){this._brushController.unmount()};qe.dispose=function(a,b){this._brushController.dispose()};var KA={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(yy(this.ecModel))}};qe._onBrush=function(a,b){function c(a,b,c){b=b.getAxis(a);var g=b.model;a=d(a,g,f);g=a.findRepresentativeAxisProxy(g).getMinMaxSpan();if(null!=g.minValueSpan||null!=g.maxValueSpan)c=oe(0,c.slice(),b.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan);a&&(e[a.id]={dataZoomId:a.id,startValue:c[0],endValue:c[1]})}function d(a,b,c){var d;c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)});return d}if(b.isEnd&&a.length){var e={},f=this.ecModel;this._brushController.updateCovers([]);(new Rg(Ur(this.model.option),f,{include:["grid"]})).matchOutputRanges(a,f,function(a,b,d){"cartesian2d"===d.type&&(a=a.brushType,"rect"===a?(c("x",d,b[0]),c("y",d,b[1])):c({lineX:"x",lineY:"y"}[a],d,b))});xy(f,e);this._dispatchZoomAction(e)}};qe._dispatchZoomAction=function(a){var b=[];r(a,function(a,d){b.push(G(a))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};Oc.dataZoom=Ek;cb(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||x(f)||(f=!1===f||"none"===f?[]:[f]);c(a,function(b,c){if(null==f||"all"==f||-1!==R(f,c)){var g={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c};g[e]=c;d.push(g)}})}}function c(b,c){var d=a[b];x(d)||(d=d?[d]:[]);r(d,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);x(d)||(a.dataZoom=d=[d]);var e=a.toolbox;e&&(x(e)&&(e=e[0]),e&&e.feature&&(e=e.feature.dataZoom,b("xAxis",e),b("yAxis",e)))}});Fk.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};Fk.prototype.onclick=function(a,b,c){a["\x00_ec_hist_store"]=null;b.dispatchAction({type:"restore",from:this.uid})};Oc.restore=Fk;W({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var vt="undefined"===typeof window?null:window,Vr=!1,Wa=vt&&vt.document,Qc;if(Wa&&!ba.canvasSupported)try{!Wa.namespaces.zrvml&&Wa.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),Qc=function(a){return Wa.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(a){Qc=function(a){return Wa.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}var yd=ub.CMD,ha=Math.round,Cf=Math.sqrt,LA=Math.abs,wt=Math.cos,xt=Math.sin,Vl=Math.max;if(!ba.canvasSupported){var Wl=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},Sb=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},Df=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},Xl=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},yt=function(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},zt=function(a,b,c){b=Ya(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},MA=function(a){a=Ya(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},NA=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Kc){var e,f=0,g=[0,0],h=0,k=1,l=c.getBoundingRect(),m=l.width,p=l.height;if("linear"===d.type){e="gradient";var n=c.transform,q=[d.x*m,d.y*p],f=[d.x2*m,d.y2*p];n&&(da(q,q,n),da(f,f,n));f=180*Math.atan2(f[0]-q[0],f[1]-q[1])/Math.PI;0>f&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",q=[d.x*m,d.y*p],n=c.transform,h=c.scale,k=m,g=[(q[0]-l.x)/k,(q[1]-l.y)/p],n&&da(q,q,n),k/=21600*h[0],p/=21600*h[1],k=Vl(k,p),h=0/k,k=2*d.r/k-h;q=d.colorStops.slice();q.sort(function(a,b){return a.offset-b.offset});l=q.length;n=[];d=[];for(p=0;p<l;p++)m=q[p],c=MA(m.color),d.push(m.offset*k+h+" "+c[0]),0!==p&&p!==l-1||n.push(c);2<=l&&(h=n[0][0],k=n[1][0],q=n[0][1]*b.opacity,b=n[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=h,a.color2=k,a.colors=d.join(","),a.opacity=b,a.opacity2=q);"radial"===e&&(a.focusposition=g.join(","))}else zt(a,d,b.opacity)},Nh=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Kc&&Df(a,f),f||(f=Qc(b)),e?NA(f,c,d):(b=f,null!=c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||c.stroke instanceof Kc||zt(b,c.stroke,c.opacity)),Sb(a,f)):(a[e?"filled":"stroked"]="false",Df(a,f))},sb=[[],[],[]];fa.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=Qc("shape"),Wl(c),this._vmlEl=c);Nh(c,"fill",b,this);Nh(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;e&&!b.strokeNoScale&&(g*=Cf(LA(d[0]*d[3]-d[1]*d[2])));f.weight=g+"px"}var h=this.path||(this.path=new ub);this.__dirtyPath&&(h.beginPath(),this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1);var d=c,e=this.transform,f=yd.M,g=yd.C,k=yd.L,l=yd.A,m=yd.Q,p=[],n,q,r,v,u,w=h.data,z=h.len();for(r=0;r<z;){q=w[r++];n="";h=0;switch(q){case f:n=" m ";h=1;v=w[r++];u=w[r++];sb[0][0]=v;sb[0][1]=u;break;case k:n=" l ";h=1;v=w[r++];u=w[r++];sb[0][0]=v;sb[0][1]=u;break;case m:case g:n=" c ";var h=3,y=w[r++],x=w[r++],A=w[r++],C=w[r++],B;q===m?(q=A,B=C,A=(A+2*y)/3,C=(C+2*x)/3,y=(v+2*y)/3,x=(u+2*x)/3):(q=w[r++],B=w[r++]);sb[0][0]=y;sb[0][1]=x;sb[1][0]=A;sb[1][1]=C;sb[2][0]=q;sb[2][1]=B;v=q;u=B;break;case l:u=v=0;C=A=1;y=0;e&&(v=e[4],u=e[5],A=Cf(e[0]*e[0]+e[1]*e[1]),C=Cf(e[2]*e[2]+e[3]*e[3]),y=Math.atan2(-e[1]/C,e[0]/A));q=w[r++];B=w[r++];var D=w[r++],F=w[r++],G=w[r++]+y,I=w[r++]+G+y;r++;var H=w[r++],K=q+wt(G)*D,L=B+xt(G)*F,y=q+wt(I)*D,x=B+xt(I)*F,M=H?" wa ":" at ";1E-4>Math.abs(K-y)&&(.01<Math.abs(I-G)?H&&(K+=.0125):1E-4>Math.abs(L-B)?x=H&&K<q||!H&&K>q?x-.0125:x+.0125:y=H&&L<B||!H&&L>B?y+.0125:y-.0125);p.push(M,ha(21600*((q-D)*A+v)-10800),",",ha(21600*((B-F)*C+u)-10800),",",ha(21600*((q+D)*A+v)-10800),",",ha(21600*((B+F)*C+u)-10800),",",ha(21600*(K*A+v)-10800),",",ha(21600*(L*C+u)-10800),",",ha(21600*(y*A+v)-10800),",",ha(21600*(x*C+u)-10800));v=y;u=x;break;case yd.R:y=sb[0];x=sb[1];y[0]=w[r++];y[1]=w[r++];x[0]=y[0]+w[r++];x[1]=y[1]+w[r++];e&&(da(y,y,e),da(x,x,e));y[0]=ha(21600*y[0]-10800);x[0]=ha(21600*x[0]-10800);y[1]=ha(21600*y[1]-10800);x[1]=ha(21600*x[1]-10800);p.push(" m ",y[0],",",y[1]," l ",x[0],",",y[1]," l ",x[0],",",x[1]," l ",y[0],",",x[1]);break;case yd.Z:p.push(" x ")}if(0<h)for(p.push(n),n=0;n<h;n++)y=sb[n],e&&da(y,y,e),p.push(ha(21600*y[0]-10800),",",ha(21600*y[1]-10800),n<h-1?",":"")}e=p.join("");d.path=e;c.style.zIndex=Xl(this.zlevel,this.z,this.z2);Sb(a,c);null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};fa.prototype.onRemove=function(a){Df(a,this._vmlEl);this.removeRectText(a)};fa.prototype.onAdd=function(a){Sb(a,this._vmlEl);this.appendRectText(a)};Ka.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var g=c.runtimeStyle,h=g.width,k=g.height;g.width="auto";g.height="auto";d=c.width;e=c.height;g.width=h;g.height=k;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var l=b.x||0,m=b.y||0,p=b.width,n=b.height,q=b.sWidth,r=b.sHeight,g=b.sx||0,h=b.sy||0,k=q&&r,f=this._vmlEl;f||(f=Wa.createElement("div"),Wl(f),this._vmlEl=f);var v=f.style,u=!1,w,x=1,y=1;this.transform&&(w=this.transform,x=Cf(w[0]*w[0]+w[1]*w[1]),y=Cf(w[2]*w[2]+w[3]*w[3]),u=w[1]||w[2]);if(u){var z=[l,m],A=[l+p,m],B=[l,m+n],C=[l+p,m+n];da(z,z,w);da(A,A,w);da(B,B,w);da(C,C,w);u=Vl(z[0],A[0],B[0],C[0]);z=Vl(z[1],A[1],B[1],C[1]);A=[];A.push("M11\x3d",w[0]/x,",","M12\x3d",w[2]/y,",","M21\x3d",w[1]/x,",","M22\x3d",w[3]/y,",","Dx\x3d",ha(l*x+w[4]),",","Dy\x3d",ha(m*y+w[5]));v.padding="0 "+ha(u)+"px "+ha(z)+"px 0";v.filter="progid:DXImageTransform.Microsoft.Matrix("+A.join("")+", SizingMethod\x3dclip)"}else w&&(l=l*x+w[4],m=m*y+w[5]),v.filter="",v.left=ha(l)+"px",v.top=ha(m)+"px";w=this._imageEl;l=this._cropEl;w||(this._imageEl=w=Wa.createElement("div"));var D=w.style;if(k){if(d&&e)D.width=ha(x*d*p/q)+"px",D.height=ha(y*e*n/r)+"px";else{var F=new Image,G=this;F.onload=function(){F.onload=null;d=F.width;e=F.height;D.width=ha(x*d*p/q)+"px";D.height=ha(y*e*n/r)+"px";G._imageWidth=d;G._imageHeight=e;G._imageSrc=c};F.src=c}l||(l=Wa.createElement("div"),l.style.overflow="hidden",this._cropEl=l);k=l.style;k.width=ha((p+g*p/q)*x);k.height=ha((n+h*n/r)*y);k.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*p/q*x+",Dy\x3d"+-h*n/r*y+")";l.parentNode||f.appendChild(l);w.parentNode!=l&&l.appendChild(w)}else D.width=ha(x*p)+"px",D.height=ha(y*n)+"px",f.appendChild(w),l&&l.parentNode&&(f.removeChild(l),this._cropEl=null);w="";g=b.opacity;1>g&&(w+=".Alpha(opacity\x3d"+ha(100*g)+") ");D.filter=w+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=Xl(this.zlevel,this.z,this.z2);Sb(a,f);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}};Ka.prototype.onRemove=function(a){Df(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};Ka.prototype.onAdd=function(a){Sb(a,this._vmlEl);this.appendRectText(a)};var Yl={},Zl=0,OA=document.createElement("div"),Rc;Vt("measureText",function(a,b){var c=Wa;Rc||(Rc=c.createElement("div"),Rc.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Wa.body.appendChild(Rc));try{Rc.style.font=b}catch(d){}Rc.innerHTML="";Rc.appendChild(c.createTextNode(a));return{width:Rc.offsetWidth}});for(var $l=new S,PA=function(a,b,c,d){var e=this.style;this.__dirty&&Ee(e,!0);var f=e.text;null!=f&&(f+="");if(f){if(e.rich){for(var g=li(f,e),f=[],h=0;h<g.lines.length;h++){for(var k=g.lines[h].tokens,l=[],m=0;m<k.length;m++)l.push(k[m].text);f.push(l.join(""))}f=f.join("\n")}var k=e.textAlign,l=e.textVerticalAlign,p,g=e.font,h=Yl[g];if(!h){100<Zl&&(Zl=0,Yl={});h=OA.style;try{h.font=g,p=h.fontFamily.split(",")[0]}catch(q){}h={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:parseFloat(h.fontSize||12)|0,family:p||"Microsoft YaHei"};Yl[g]=h;Zl++}p=h;p=p.style+" "+p.variant+" "+p.weight+" "+p.size+'px "'+p.family+'"';c=c||$b(f,p,k,l);(g=this.transform)&&!d&&($l.copy(b),$l.applyTransform(g),b=$l);d?(h=b.x,b=b.y):(m=e.textPosition,h=e.textDistance,m instanceof Array?(h=b.x+yt(m[0],b.width),b=b.y+yt(m[1],b.height),k=k||"left"):(m=mi(m,b,h),h=m.x,b=m.y,k=k||m.textAlign,l=l||m.textVerticalAlign));h=Ce(h,c.width,k);b=De(b,c.height,l);b+=c.height/2;(c=this._textVmlEl)?(l=c.firstChild,m=l.nextSibling,k=m.nextSibling):(c=Qc("line"),m=Qc("path"),k=Qc("textpath"),l=Qc("skew"),k.style["v-text-align"]="left",Wl(c),m.textpathok=!0,k.on=!0,c.from="0 0",c.to="1000 0.05",Sb(c,l),Sb(c,m),Sb(c,k),this._textVmlEl=c);var m=[h,b],n=c.style;g&&d?(da(m,m,g),l.on=!0,l.matrix=g[0].toFixed(3)+","+g[2].toFixed(3)+","+g[1].toFixed(3)+","+g[3].toFixed(3)+",0,0",l.offset=(ha(m[0])||0)+","+(ha(m[1])||0),l.origin="0 0",n.left="0px",n.top="0px"):(l.on=!1,n.left=ha(h)+"px",n.top=ha(b)+"px");k.string=String(f).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{k.style.font=p}catch(q){}Nh(c,"fill",{fill:e.textFill,opacity:e.opacity},this);Nh(c,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=Xl(this.zlevel,this.z,this.z2);Sb(a,c)}},QA=function(a){Df(a,this._textVmlEl);this._textVmlEl=null},RA=function(a){Sb(a,this._textVmlEl)},At=[kh,lb,Ka,fa,P],am=0;am<At.length;am++){var bm=At[am].prototype;bm.drawRectText=PA;bm.removeRectText=QA;bm.appendRectText=RA}P.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};P.prototype.onRemove=function(a){this.removeRectText(a)};P.prototype.onAdd=function(a){this.appendRectText(a)}}bh.prototype={constructor:bh,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];if(d.invisible||d.ignore){if(!d.__alreadyNotVisible)d.onRemove(b);d.__alreadyNotVisible=!0}else{if(d.__alreadyNotVisible)d.onAdd(b);d.__alreadyNotVisible=!1;d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())}d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){a=null==a?this._getWidth():a;b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a;this._height=b;var c=this._vmlViewport.style;c.width=a+"px";c.height=b+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};r("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){bh.prototype[a]=By(a)});ie.vml=bh;var zd=ub.CMD,Cy=Array.prototype.join,Gk=Math.round,Bt=Math.sin,Ct=Math.cos,cm=Math.PI,Oh=2*Math.PI,SA=180/cm,Qh={brush:function(a){var b=a.style,c=a.__svgEl;c||(c=qd("path"),a.__svgEl=c);a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath();a.buildPath(d,a.shape);a.__dirtyPath=!1;var e;e=[];for(var f=d.data,d=d.len(),g=0;g<d;){var h="",k=0;switch(f[g++]){case zd.M:h="M";k=2;break;case zd.L:h="L";k=2;break;case zd.Q:h="Q";k=4;break;case zd.C:h="C";k=6;break;case zd.A:var l=f[g++],m=f[g++],p=f[g++],n=f[g++],q=f[g++],r=f[g++],v=f[g++],u=f[g++],w=Math.abs(r),x=w%Oh,x=1E-4>x&&-1E-4<x&&!(1E-4>w&&-1E-4<w),w=w>=Oh?!0:1E-4>w&&-1E-4<w?!1:(r>-cm&&0>r||r>cm)===!!u,y=qb(l+p*Ct(q)),z=qb(m+n*Bt(q));x&&(r=u?Oh-1E-4:-Oh+1E-4,w=!0,9===g&&e.push("M",y,z));l=qb(l+p*Ct(q+r));m=qb(m+n*Bt(q+r));e.push("A",qb(p),qb(n),Gk(v*SA),+w,+u,l,m);break;case zd.Z:h="Z";break;case zd.R:l=qb(f[g++]),m=qb(f[g++]),p=qb(f[g++]),n=qb(f[g++]),e.push("M",l,m,"L",l+p,m,"L",l+p,m+n,"L",l,m+n,"L",l,m)}h&&e.push(h);for(h=0;h<k;h++)e.push(qb(f[g++]))}e=e.join(" ");0>e.indexOf("NaN")&&X(c,"d",e)}Wr(c,b);Hk(c,a.transform);null!=b.text&&Ph(a,a.getBoundingRect())}},Dt={brush:function(a){var b=a.style,c=b.image;c instanceof HTMLImageElement&&(c=c.src);if(c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=qd("image"),a.__svgEl=h);c!==a.__imageSrc&&(h.setAttributeNS("http://www.w3.org/1999/xlink","href",c),a.__imageSrc=c);X(h,"width",f);X(h,"height",g);X(h,"x",d);X(h,"y",e);Hk(h,a.transform);null!=b.text&&Ph(a,a.getBoundingRect())}}},Rh={},dm=new S,Ph=function(a,b,c){var d=a.style;a.__dirty&&Ee(d,!0);var e=d.text;if(null!=e){var e=e+"",f=a.__textSvgEl;f||(f=qd("text"),a.__textSvgEl=f);Wr(f,d,!0);if(a instanceof P||a.style.transformText)Hk(f,a.transform);else if(a.transform)dm.copy(b),dm.applyTransform(a.transform),b=dm;else{var g=a.transformCoordToGlobal(b.x,b.y);b.x=g[0];b.y=g[1]}var h,k=d.textPosition;h=d.textDistance;var l=d.textAlign||"left";"number"===typeof d.fontSize&&(d.fontSize+="px");var m=d.font||[d.fontStyle||"",d.fontWeight||"",d.fontSize||"",d.fontFamily||""].join(" ")||"12px sans-serif",p=Xr(d.textVerticalAlign);c=$b(e,m,l,p);g=c.lineHeight;k instanceof Array?(h=b.x+k[0],b=b.y+k[1]):(k=mi(k,b,h),h=k.x,b=k.y,p=Xr(k.textVerticalAlign),l=k.textAlign);X(f,"alignment-baseline",p);m&&(f.style.font=m);var n=d.textPadding;X(f,"x",h);X(f,"y",b);var d=e.split("\n"),k=d.length,q=l;"left"===q?(q="start",n&&(h+=n[3])):"right"===q?(q="end",n&&(h-=n[1])):"center"===q&&(q="middle",n&&(h+=(n[3]-n[1])/2));l=0;"baseline"===p?(l=-c.height+g,n&&(l-=n[2])):"middle"===p?(l=(-c.height+g)/2,n&&(b+=(n[0]-n[2])/2)):n&&(l+=n[0]);if(a.__text!==e||a.__textFont!==m){var r=a.__tspanList||[];a.__tspanList=r;for(c=0;c<k;c++)(n=r[c])?n.innerHTML="":(n=r[c]=qd("tspan"),f.appendChild(n),X(n,"alignment-baseline",p),X(n,"text-anchor",q)),X(n,"x",h),X(n,"y",b+c*g+l),n.appendChild(document.createTextNode(d[c]));for(;c<r.length;c++)f.removeChild(r[c]);r.length=k;a.__text=e;a.__textFont=m}else if(a.__tspanList.length)for(e=a.__tspanList.length,c=0;c<e;++c)if(n=a.__tspanList[c])X(n,"x",h),X(n,"y",b+c*g+l)}};Rh.drawRectText=Ph;Rh.brush=function(a){var b=a.style;null!=b.text&&(b.textPosition=[0,0],Ph(a,{x:b.x||0,y:b.y||0,width:0,height:0},a.getBoundingRect()))};Yr.prototype={diff:function(a,b,c){function d(){for(var c=-1*h;c<=h;c+=2){var d;d=k[c-1];var l=k[c+1],q=(l?l.newPos:0)-c;d&&(k[c-1]=void 0);var r=d&&d.newPos+1<f,q=l&&0<=q&&q<g;if(r||q){!r||q&&d.newPos<l.newPos?(d={newPos:l.newPos,components:l.components.slice(0)},e.pushComponent(d.components,void 0,!0)):(d.newPos++,e.pushComponent(d.components,!0,void 0));q=e.extractCommon(d,b,a,c);if(d.newPos+1>=f&&q+1>=g){c=d.components;d=0;l=c.length;for(r=q=0;d<l;d++){var v=c[d];if(v.removed){u=[];for(w=r;w<r+v.count;w++)u.push(w);v.indices=u;r+=v.count}else{for(var u=[],w=q;w<q+v.count;w++)u.push(w);v.indices=u;q+=v.count;v.added||(r+=v.count)}}return c}k[c]=d}else k[c]=void 0}h++}c||(c=function(a,b){return a===b});this.equals=c;var e=this;a=a.slice();b=b.slice();var f=b.length,g=a.length,h=1;c=f+g;var k=[{newPos:-1,components:[]}],l=this.extractCommon(k[0],b,a,0);if(k[0].newPos+1>=f&&l+1>=g){c=[];for(l=0;l<b.length;l++)c.push(l);return[{indices:c,count:b.length}]}for(;h<=c;)if(l=d())return l},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){var e=b.length,f=c.length,g=a.newPos;d=g-d;for(var h=0;g+1<e&&d+1<f&&this.equals(b[g+1],c[d+1]);)g++,d++,h++;h&&a.components.push({count:h});a.newPos=g;return d},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var TA=new Yr;Ca.prototype.createElement=qd;Ca.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?(c=b.insertBefore(this.createElement("defs"),b.firstChild),c.contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]};Ca.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);if(a._dom&&c.contains(a._dom))"function"===typeof b&&b();else if(c=this.add(a))a._dom=c}};Ca.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)};Ca.prototype.removeDom=function(a){this.getDefs(!1).removeChild(a._dom)};Ca.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];r(this._tagNames,function(c){c=a.getElementsByTagName(c);b=b.concat([].slice.call(c))});return b};Ca.prototype.markAllUnused=function(){var a=this.getDoms(),b=this;r(a,function(a){a[b._markLabel]="0"})};Ca.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")};Ca.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this.getDoms(),c=this;r(b,function(b){"1"!==b[c._markLabel]&&a.removeChild(b)})}};Ca.prototype.getSvgProxy=function(a){return a instanceof fa?Qh:a instanceof Ka?Dt:a instanceof P?Rh:Qh};Ca.prototype.getTextSvgElement=function(a){return a.__textSvgEl};Ca.prototype.getSvgElement=function(a){return a.__svgEl};ja(rd,Ca);rd.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;r(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e=b.style[d],f=c.getDefs(!0),g;e._dom?(g=e._dom,f.contains(e._dom)||c.addDom(g)):g=c.add(e);c.markUsed(b);e=g.getAttribute("id");a.setAttribute(d,"url(#"+e+")")}})}};rd.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else if("radial"===a.type)b=this.createElement("radialGradient");else return null;a.id=a.id||this.nextId++;b.setAttribute("id","zr-gradient-"+a.id);this.updateDom(a,b);this.addDom(b);return b};rd.prototype.update=function(a){var b=this;Ca.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})};rd.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else if("radial"===a.type)b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r);else return;a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox");b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%");f.setAttribute("stop-color",c[d].color);b.appendChild(f)}a._dom=b};rd.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&Ca.prototype.markUsed.call(this,b._dom);(b=a.style.stroke)&&b._dom&&Ca.prototype.markUsed.call(this,b._dom)}};ja(qf,Ca);qf.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);(b=this.getTextSvgElement(a))&&this.updateDom(b,a.__clipPaths,!0);this.markUsed(a)};qf.prototype.updateDom=function(a,b,c){if(b&&0<b.length){var d=this.getDefs(!0),e=b[0],f,g,h=c?"_textDom":"_dom";e[h]?(g=e[h].getAttribute("id"),f=e[h],d.contains(f)||d.appendChild(f)):(g="zr-clip-"+this.nextId,++this.nextId,f=this.createElement("clipPath"),f.setAttribute("id",g),d.appendChild(f),e[h]=f);d=this.getSvgProxy(e);e.transform&&e.parent.invTransform&&!c?(h=Array.prototype.slice.call(e.transform),Uc(e.transform,e.parent.invTransform,e.transform),d.brush(e),e.transform=h):d.brush(e);e=this.getSvgElement(e);f.appendChild(e.cloneNode());a.setAttribute("clip-path","url(#"+g+")");1<b.length&&this.updateDom(f,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")};qf.prototype.markUsed=function(a){var b=this;a.__clipPaths&&0<a.__clipPaths.length&&r(a.__clipPaths,function(a){a._dom&&Ca.prototype.markUsed.call(b,a._dom);a._textDom&&Ca.prototype.markUsed.call(b,a._textDom)})};var Sh=function(a,b){this.root=a;this.storage=b;var c=qd("svg");c.setAttribute("xmlns","http://www.w3.org/2000/svg");c.setAttribute("version","1.1");c.setAttribute("baseProfile","full");c.style["user-select"]="none";this.gradientManager=new rd(c);this.clipPathManager=new qf(c);var d=document.createElement("div");d.style.cssText="overflow: hidden;";this._svgRoot=c;this._viewport=d;a.appendChild(d);d.appendChild(c);this.resize();this._visibleList=[]};Sh.prototype={constructor:Sh,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},_paintList:function(a){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();var b=this._svgRoot,c=this._visibleList,d=a.length,e=[],f;for(f=0;f<d;f++){var g=a[f],h=g instanceof fa?Qh:g instanceof Ka?Dt:g instanceof P?Rh:Qh;g.invisible||(g.__dirty&&(h&&h.brush(g),this.clipPathManager.update(g),g.style&&(this.gradientManager.update(g.style.fill),this.gradientManager.update(g.style.stroke)),g.__dirty=!1),e.push(g))}a=TA.diff(c,e,void 0);var k;for(f=0;f<a.length;f++)if(d=a[f],d.removed)for(h=0;h<d.count;h++){var g=c[d.indices[h]],l=g.__svgEl,m=g.__textSvgEl;l&&b&&l.parentNode===b&&b.removeChild(l);m&&b&&m.parentNode===b&&b.removeChild(m)}for(f=0;f<a.length;f++)if(d=a[f],d.added)for(h=0;h<d.count;h++)g=e[d.indices[h]],l=g.__svgEl,m=g.__textSvgEl,k?ch(b,l,k):Zr(b,l),l?ch(b,m,l):k?ch(b,m,k):Zr(b,m),ch(b,m,l),k=m||l||k,this.gradientManager.addWithoutUpdate(l,g),this.clipPathManager.markUsed(g);else if(!d.removed)for(h=0;h<d.count;h++)g=e[d.indices[h]],k=l=g.__textSvgEl||g.__svgEl||k,this.gradientManager.markUsed(g),this.gradientManager.addWithoutUpdate(l,g),this.clipPathManager.markUsed(g);this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this._visibleList=e},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?(c=b.insertBefore(qd("defs"),b.firstChild),c.contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(){var a=this._getWidth(),b=this._getHeight();if(this._width!==a&&this._height!==b){this._width=a;this._height=b;var c=this._viewport.style;c.width=a+"px";c.height=b+"px";c=this._svgRoot;c.setAttribute("width",a);c.setAttribute("height",b)}},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();return"data:img/svg+xml;utf-8,"+unescape(this._svgRoot.outerHTML)}};r("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){Sh.prototype[a]=Dy(a)});ie.svg=Sh;L.version="3.8.4";L.dependencies=kl;L.PRIORITY=le;L.init=function(a,b,c){if(D){if("3.7.3".replace(".","")-0<kl.zrender.replace(".","")-0)throw Error("zrender/src 3.7.3 is too old for ECharts 3.8.4. Current version need ZRender "+kl.zrender+"+");if(!a)throw Error("Initialize failed: invalid dom.");}var d=dj(a);if(d)return D&&console.warn("There is a chart instance already initialized on the dom."),d;D&&(!Ad(a)||"CANVAS"===a.nodeName.toUpperCase()||(a.clientWidth||c&&null!=c.width)&&(a.clientHeight||c&&null!=c.height)||console.warn("Can't get dom width or height"));b=new Re(a,b,c);b.id="ec_"+Yy++;gd[b.id]=b;a.setAttribute?a.setAttribute("_echarts_instance_",b.id):a._echarts_instance_=b.id;Gu(b);return b};L.connect=function(a){if(x(a)){var b=a;a=null;r(b,function(b){null!=b.group&&(a=b.group)});a=a||"g_"+Zy++;r(b,function(b){b.group=a})}mg[a]=!0;return a};L.disConnect=bo;L.disconnect=bo;L.dispose=function(a){"string"===typeof a?a=gd[a]:a instanceof Re||(a=dj(a));a instanceof Re&&!a.isDisposed()&&a.dispose()};L.getInstanceByDom=dj;L.getInstanceById=function(a){return gd[a]};L.registerTheme=function(a,b){Tn[a]=b};L.registerPreprocessor=cb;L.registerProcessor=Ua;L.registerPostUpdate=function(a){bj.push(a)};L.registerAction=W;L.registerCoordinateSystem=ej;L.getCoordinateSystemDimensions=function(a){if(a=ab.get(a))return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()};L.registerLayout=oa;L.registerVisual=ra;L.registerLoading=function(a,b){sh[a]=b};L.extendComponentModel=ib;L.extendComponentView=ma;L.extendSeriesModel=Te;L.extendChartView=La;L.setCanvasCreator=function(a){dh.createCanvas=a};L.registerMap=function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson);"string"===typeof b&&(b="undefined"!==typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))());wf[a]={geoJson:b,specialAreas:c}};L.getMap=function(a){return wf[a]};L.dataTool={};L.zrender=My;L.graphic=Pa;L.number=Ny;L.format=Oy;L.throttle=Zi;L.helper=jz;L.matrix=Iy;L.vector=Gy;L.color=Jy;L.util=us;L.List=ia;L.Model=V;L.Axis=Ba;L.env=ba;L.parseGeoJson=ts});